{"version":3,"sources":["webpack:///webpack/bootstrap 86f1a6d54e5f834583a0","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/utils/index.ts","webpack:///(webpack)/node_modules/events/events.js","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/assets/index.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/core/Instance.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/utils/Iterator.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/engines/index.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/assets/AssetType.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/core/index.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/utils/SeverityEnum.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/utils/Coordinate.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/utils/ColorCode.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/audio/index.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/audio/AudioEngine.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/assets/AssetState.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/assets/AssetGroup.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/audio/AudioEvents.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/entities/index.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/entities/Entity.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/entities/EntityView.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/inputs/GamePad.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/inputs/Touch.ts","webpack:///./resources/boop.mp3","webpack:///./BlockBuster.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/core/Engine.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/utils/Camera.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/utils/IDGenerator.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/utils/LogManager.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/utils/ViewPort.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/utils/CollisionEmitter.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/utils/Color.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/assets/Asset.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/assets/AssetFactory.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/assets/AssetGroupLoader.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/assets/AssetLoader.ts","webpack:///(webpack)/node_modules/process/browser.js","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/assets/AudioLoader.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/assets/ImageLoader.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/assets/JSONLoader.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/assets/TextAssetBuilder.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/assets/Spritesheet.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/assets/Animation.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/audio/HTML5AudioEngine.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/entities/EntityModel.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/entities/EntityView2D.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/entities/GridMap.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/engines/LogicEngine.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/engines/GroupLogicEngine.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/engines/RenderingEngine.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/engines/TwoDimensionalRenderingEngine.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/inputs/index.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/inputs/GamePadListener.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/inputs/Keyboard.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/inputs/Mouse.ts","webpack:////mnt/c/Users/norman/development/Jiggy.io/src/inputs/TouchListener.ts","webpack:///./resources/ball.png","webpack:///./resources/LoadingView.png","webpack:///./Map1.ts","webpack:///./Map.ts","webpack:///./Vector2D.ts","webpack:///./Playlist.ts"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAQ,oBAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kDAA0C,WAAW,EAAE;AACvD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+DAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA,kDAA0C,oBAAoB,WAAW;;AAEzE;AACA;;;;;;;;;;AC1IA,8CAA4C;AAcxC,uBAdI,2BAAY,CAcJ;AAbhB,yCAAgC;AAc5B,iBAdI,eAAM,CAcJ;AAbV,8CAA0C;AActC,sBAdI,yBAAW,CAcJ;AAbf,0CAAoC;AAchC,mBAdI,mBAAQ,CAcJ;AAbZ,6CAAwC;AAcpC,qBAdI,uBAAU,CAcJ;AAbd,2CAAoC;AAchC,mBAdI,mBAAQ,CAcJ;AAbZ,mDAAoD;AAchD,2BAdI,mCAAgB,CAcJ;AAXpB,wCAA8B;AAc1B,gBAdI,aAAK,CAcJ;AAbT,4CAAwC;AAcpC,oBAdK,qBAAS,CAcL;AAbb,4CAA0C;AActC,qBAdK,uBAAU,CAcL;;;;;;;AC9Bd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH,oBAAoB,SAAS;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AA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,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACvC,EAAE,CAAC,CAAC,IAAI,KAAK,OAAO,CAAC,CAAC,CAAC;YACtB,MAAM,CAAC,KAAK,CAAC;QACd,CAAC;QACD,MAAM,CAAC,IAAI,CAAC;IACb,CAAC;IAUS,UAAU;QACnB,MAAM,CAAC,KAAK,CAAC;IACd,CAAC;IASS,WAAW,KAAU,CAAC;IAUtB,YAAY,KAAU,CAAC;IAYvB,UAAU,CAAC,KAAY,EAAE,IAAY,EAAE,OAA+B;QAC/E,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACpB,KAAK,CAAC,QAAQ,CAAC,mBAAU,CAAC,MAAM,CAAC,CAAC;QAClC,OAAO,CAAC,KAAK,CAAC,CAAC;IAChB,CAAC;IAWS,OAAO,CAAC,KAAY,EAAE,KAAU,EAAE,MAAsB;QACjE,MAAM,CAAC;YACN,QAAQ,EAAG,KAAK;YAChB,OAAO,EAAG,uBAAuB;YACjC,KAAK,EAAG,KAAK;SACb,CAAC,CAAC;IAKJ,CAAC;CACD;AAzJD,kCAyJC;;;;;;;;ACnKD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;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","file":"./dist/main.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tvar parentJsonpFunction = window[\"webpackJsonp\"];\n \twindow[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules, executeModules) {\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [], result;\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules, executeModules);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t};\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// objects to store loaded and loading chunks\n \tvar installedChunks = {\n \t\t1: 0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData === 0) {\n \t\t\treturn new Promise(function(resolve) { resolve(); });\n \t\t}\n\n \t\t// a Promise means \"currently loading\".\n \t\tif(installedChunkData) {\n \t\t\treturn installedChunkData[2];\n \t\t}\n\n \t\t// setup Promise in chunk cache\n \t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t});\n \t\tinstalledChunkData[2] = promise;\n\n \t\t// start chunk loading\n \t\tvar head = document.getElementsByTagName('head')[0];\n \t\tvar script = document.createElement('script');\n \t\tscript.type = 'text/javascript';\n \t\tscript.charset = 'utf-8';\n \t\tscript.async = true;\n \t\tscript.timeout = 120000;\n\n \t\tif (__webpack_require__.nc) {\n \t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t}\n \t\tscript.src = __webpack_require__.p + \"./dist/\" + ({}[chunkId]||chunkId) + \".chunk.js\";\n \t\tvar timeout = setTimeout(onScriptComplete, 120000);\n \t\tscript.onerror = script.onload = onScriptComplete;\n \t\tfunction onScriptComplete() {\n \t\t\t// avoid mem leaks in IE.\n \t\t\tscript.onerror = script.onload = null;\n \t\t\tclearTimeout(timeout);\n \t\t\tvar chunk = installedChunks[chunkId];\n \t\t\tif(chunk !== 0) {\n \t\t\t\tif(chunk) {\n \t\t\t\t\tchunk[1](new Error('Loading chunk ' + chunkId + ' failed.'));\n \t\t\t\t}\n \t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t}\n \t\t};\n \t\thead.appendChild(script);\n\n \t\treturn promise;\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 23);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 86f1a6d54e5f834583a0","// This is the export file to expose the classes of this package to external of this library.\n// The exports must be named therefore importing, and exporting is necessary.\n\n// If a particular module exports multiple items, ensure to include all that should be exposed to the public API.\n\nimport {SeverityEnum} from './SeverityEnum';\nimport {Camera} from './Camera';\nimport {IDGenerator} from './IDGenerator';\nimport {Iterator} from './Iterator';\nimport {LogManager} from './LogManager';\nimport {ViewPort} from './ViewPort';\nimport {CollisionEmitter} from './CollisionEmitter';\nimport {ViewPortEventTypes} from \"./ViewPortEventTypes\";\nimport {DimensionUpdateEvent} from \"./DimensionUpdateEvent\";\nimport {Color} from './Color';\nimport { ColorCode } from './ColorCode';\nimport { Coordinate } from \"./Coordinate\";\n\nexport {\n    SeverityEnum,\n    Camera,\n    IDGenerator,\n    Iterator,\n    LogManager,\n    ViewPort,\n    CollisionEmitter,\n    ViewPortEventTypes,\n    DimensionUpdateEvent,\n    Color,\n    ColorCode,\n    Coordinate\n};\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/utils/index.ts","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/node_modules/events/events.js\n// module id = 1\n// module chunks = 1","// This is the export file to expose the classes of this package to external of this library.\n// The exports must be named therefore importing, and exporting is necessary.\n\n// If a particular module exports multiple items, ensure to include all that should be exposed to the public API.\n\nimport {Asset, AssetEvents} from './Asset';\nimport {AssetType} from './AssetType';\nimport {AssetState} from './AssetState';\nimport {AssetFactory} from './AssetFactory';\nimport {AssetGroup, AssetMap} from './AssetGroup';\nimport {AssetGroupLoader, AssetDefinition, AssetGroupDefinition} from './AssetGroupLoader';\n\nimport {AssetLoader} from './AssetLoader';\nimport {AudioLoader} from './AudioLoader';\nimport {ImageLoader} from './ImageLoader';\nimport {JSONLoader} from './JSONLoader';\nimport {TextAssetBuilder} from \"./TextAssetBuilder\";\n\nimport {Spritesheet} from './Spritesheet';\nimport {SpritesheetDefinition} from './SpritesheetDefinition';\nimport {Animation, AnimationFrame} from './Animation';\n\nexport {\n    Asset, AssetEvents,\n    AssetType,\n    AssetState,\n    AssetFactory,\n    AssetLoader,\n    AudioLoader,\n    ImageLoader,\n    JSONLoader,\n    TextAssetBuilder,\n    Spritesheet,\n    SpritesheetDefinition,\n    Animation, AnimationFrame,\n    AssetGroup, AssetMap,\n    AssetGroupLoader, AssetDefinition, AssetGroupDefinition\n};\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/assets/index.ts","import {Engine} from './Engine';\r\nimport {SeverityEnum} from '../utils';\r\n\r\n// Provides a way for other classes to reference the running\r\n// instance of the engine using:\r\n//\r\n// import {instance} from '../core';\r\n//\r\n\r\nvar instance: Engine = null;\r\n\r\n// This is invoked by the Engine base class during construction.\r\n// Note that this API is not exposed to the public API. Other packages outside of ../core cannot use setInstance.\r\nvar setInstance = (game: Engine): void => {\r\n    if (instance) {\r\n        instance.getLogManager().log(SeverityEnum.WARNING, 'Instance has already been set! Are you instantiating more than one game?');\r\n    }\r\n\r\n    instance = game;\r\n}\r\n\r\nvar getInstance = (): Engine => {\r\n    return instance;\r\n}\r\n\r\nexport {\r\n    setInstance,\r\n    getInstance\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/core/Instance.ts","export class Iterator<T> {\r\n\tprivate _array : T[];\r\n\tprivate _index : number;\r\n\r\n\tpublic constructor (array : T[]) {\r\n\t\tthis._array = array;\r\n\t\tthis._index = -1;\r\n\t}\r\n\r\n\tpublic hasNext () : boolean {\r\n\t\tif (this._array[this._index + 1]) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic next () : T {\r\n\t\tthis._index += 1;\r\n\t\treturn this._array[this._index];\r\n\t}\r\n\r\n\tpublic hasPrev () : boolean {\r\n\t\tif (this._array[this._index]) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic prev () : T {\r\n\t\treturn this._array[this._index--];\r\n\t}\r\n\r\n\tpublic setToBeginning () : void {\r\n\t\tthis._index = -1;\r\n\t}\r\n\r\n\tpublic setToEnd () : void {\r\n\t\tthis._index = this._array.length - 1;\r\n\t}\r\n\r\n\tpublic getFirst  () : T {\r\n\t\treturn this._array[0];\r\n\t}\r\n\r\n\tpublic getLast () : T {\r\n\t\treturn this._array[this._array.length - 1];\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/utils/Iterator.ts","// This is the export file to expose the classes of this package to external of this library.\n// The exports must be named therefore importing, and exporting is necessary.\n\n// If a particular module exports multiple items, ensure to include all that should be exposed to the public API.\n\nimport {LogicEngine} from './LogicEngine';\nimport {GroupLogicEngine} from './GroupLogicEngine';\nimport {RenderingEngine} from './RenderingEngine';\nimport { TwoDimensionalRenderingEngine } from './TwoDimensionalRenderingEngine';\n\nexport {\n    LogicEngine,\n    GroupLogicEngine,\n    RenderingEngine,\n    TwoDimensionalRenderingEngine\n};\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/engines/index.ts","export enum AssetType {\n\tRAW = \"raw\",\n\tIMAGE = \"image\",\n\tAUDIO = \"audio\",\n\tJSON = \"json\"\n}\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/assets/AssetType.ts","// This is the export file to expose the classes of this package to external of this library.\r\n// The exports must be named therefore importing, and exporting is necessary.\r\n\r\n// If a particular module exports multiple items, ensure to include all that should be exposed to the public API.\r\n\r\nimport {Engine} from './Engine';\r\nimport {getInstance} from './Instance';\r\n\r\nexport {\r\n    Engine,\r\n    getInstance\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/core/index.ts","export enum SeverityEnum {\n\tDEBUG,\n\tINFO,\n\tWARNING,\n\tERROR,\n\tDEPRECATE\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/utils/SeverityEnum.ts","export class Coordinate {\n    private _x: number;\n    private _y: number;\n    private _z: number;\n    constructor (x: number, y: number, z?: number) {\n        this._x = x;\n        this._y = y;\n        this._z = z || 0;\n    }\n    public toCartesian(): Coordinate {\n        return new Coordinate((2 * this._y + this._x) / 2, (2 * this._y - this._x) / 2, this._z);\n    }\n    public static fromIsometric(x: number, y: number): Coordinate {\n        return new Coordinate((2 * y + x) / 2, (2 * y - x) / 2);\n    }\n    public toIsometric(): Coordinate {\n        return new Coordinate(this._x  - this._y, (this._x + this._y) / 2, this._z);\n    }\n    public setX(x: number): void {\n        this._x = x;\n    }\n    public setY(y: number): void {\n        this._y = y;\n    }\n    public getX(): number {\n        return this._x;\n    }\n\n    public getY(): number {\n        return this._y;\n    }\n\n    public getZ(): number {\n        return this._z;\n    }\n\n    public setZ(z: number): void {\n        this._z = z;\n    }\n    public incrementX(x: number): void {\n        this._x += x;\n    }\n    public incrementY(y: number): void {\n        this._y += y;\n    }\n    public incrementZ(z: number): void {\n        this._z += z;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/utils/Coordinate.ts","\r\nexport enum ColorCode {\r\n    ALICE_BLUE              = 0xF0F8FF,\r\n    ANTIQUE_WHITE           = 0xFAEBD7,\r\n    AQUA                    = 0x00FFFF,\r\n    AQUAMARINE              = 0x7FFFD4,\r\n    AZURE                   = 0xF0FFFF,\r\n    BEIGE                   = 0xF5F5DC,\r\n    BISQUE                  = 0xFFE4C4,\r\n    BLACK                   = 0x000000,\r\n    BLANCHED_ALMOND         = 0xFFEBCD,\r\n    BLUE                    = 0x0000FF,\r\n    BLUE_VIOLET             = 0x8A2BE2,\r\n    BROWN                   = 0xA52A2A,\r\n    BURLY_WOOD              = 0xDEB887,\r\n    CADET_BLUE              = 0x5F9EA0,\r\n    CHART_REUSE             = 0x7FFF00,\r\n    CHOCOLATE               = 0xD2691E,\r\n    CORAL                   = 0xFF7F50,\r\n    CORNFLOWER_BLUE         = 0x6495ED,\r\n    CORN_SILK               = 0xFFF8DC,\r\n    CRIMSON                 = 0xDC143C,\r\n    CYAN                    = 0x00FFFF,\r\n    DARK_BLUE               = 0x00008B,\r\n    DARK_CYAN               = 0x008B8B,\r\n    DARK_GOLDENROD          = 0xB8860B,\r\n    DARK_GRAY               = 0xA9A9A9,\r\n    DARK_GREY               = 0xA9A9A9,\r\n    DARK_GREEN              = 0x006400,\r\n    DARK_KHAKI              = 0xBDB76B,\r\n    DARK_MAGENTA            = 0x8B008B,\r\n    DARK_OLIVE_GREEN        = 0x556B2F,\r\n    DARK_ORANGE             = 0xFF8C00,\r\n    DARK_ORCHID             = 0x9932CC,\r\n    DARK_RED                = 0x8B0000,\r\n    DARK_SALMON             = 0xE9967A,\r\n    DARK_SEA_GREEN          = 0x8FBC8F,\r\n    DARK_SLATE_BLUE         = 0x483D8B,\r\n    DARK_SLATE_GRAY         = 0x2F4F4F,\r\n    DARK_SLATE_GREY         = 0x2F4F4F,\r\n    DARK_TORQUOISE          = 0x00CED1,\r\n    DARK_VIOLET             = 0x9400D3,\r\n    DEEP_PINK               = 0xFF1493,\r\n    DEEP_SKY_BLUE           = 0x00BFFF,\r\n    DIM_GRAY                = 0x696969,\r\n    DIM_GREY                = 0x696969,\r\n    DODGER_BLUE             = 0x1E90FF,\r\n    FIRE_BRICK              = 0xB22222,\r\n    FLORAL_WHITE            = 0xFFFAF0,\r\n    FOREST_GREEN            = 0x228B22,\r\n    FUCHSIA                 = 0xFF00FF,\r\n    GAINSBORO               = 0xDCDCDC,\r\n    GHOST_WHITE             = 0xF8F8FF,\r\n    GOLD                    = 0xFFD700,\r\n    GOLDENROD               = 0xDAA520,\r\n    GRAY                    = 0x808080,\r\n    GREY                    = 0x808080,\r\n    GREEN                   = 0x008000,\r\n    GREEN_YELLOW            = 0xADFF2F,\r\n    HONEYDEW                = 0xF0FFF0,\r\n    HOT_PINK                = 0xFF69B4,\r\n    INDIAN_RED              = 0xCD5C5C,\r\n    INDIGO                  = 0x4B0082,\r\n    IVORY                   = 0xFFFFF0,\r\n    KHAKI                   = 0xF0E68C,\r\n    LAVENDER                = 0xE6E6FA,\r\n    LAVENDER_BLUSH          = 0xFFF0F5,\r\n    LAWN_GREEN              = 0x7CFC00,\r\n    LEMON_CHIFFON           = 0xFFFACD,\r\n    LIGHT_BLUE              = 0xADD8E6,\r\n    LIGHT_CORAL             = 0xE0FFFF,\r\n    LIGHT_CYAN              = 0xE0FFFF,\r\n    LIGHT_GOLDENROD_YELLOW  = 0xFAFAD2,\r\n    LIGHT_GREEN             = 0x90EE90,\r\n    LIGHT_GRAY              = 0xD3D3D3,\r\n    LIGHT_GREY              = 0xD3D3D3,\r\n    LIGHT_PINK              = 0xFFB6C1,\r\n    LIGHT_SALMON            = 0xFFA07A,\r\n    LIGHT_SEA_GREEN         = 0x20B2AA,\r\n    LIGHT_SKY_BLUE          = 0x87CEFA,\r\n    LIGHT_SLATE_GRAY        = 0x778899,\r\n    LIGHT_SLATE_GREY        = 0x778899,\r\n    LIGHT_STEEL_BLUE        = 0xB0C4DE,\r\n    LIGHT_YELLOW            = 0xFFFFE0,\r\n    LIME                    = 0x00FF00,\r\n    LIME_GREEN              = 0x32CD32,\r\n    LINEN                   = 0xFAF0E6,\r\n    MAGENTA                 = 0xFF00FF,\r\n    MAROON                  = 0x800000,\r\n    MEDIUM_AQUAMARINE       = 0x66CDAA,\r\n    MEDIUM_BLUE             = 0x0000CD,\r\n    MEDIUM_ORCHID           = 0xBA55D3,\r\n    MEDIUM_PURPLE           = 0x9370DB,\r\n    MEDIUM_SEA_GREEN        = 0x3CB371,\r\n    MEDIUM_SLATE_BLUE       = 0x7B68EE,\r\n    MEDIUM_SPRING_GREEN     = 0x00FA9A,\r\n    MEDIUM_TURQUOISE        = 0x48D1CC,\r\n    MEDIUM_VIOLET_RED       = 0xC71585,\r\n    MIDNIGHT_BLUE           = 0x191970,\r\n    MINT_CREAM              = 0xF5FFFA,\r\n    MISTY_ROSE              = 0xFFE4E1,\r\n    MOCCASIN                = 0xFFE4B5,\r\n    NAVAJO_WHITE            = 0xFFDEAD,\r\n    NAVY                    = 0x000080,\r\n    OLD_LACE                = 0xFDF5E6,\r\n    OLIVE                   = 0x808000,\r\n    OLIVE_DRAB              = 0x6B8E23,\r\n    ORANGE                  = 0xFFA500,\r\n    ORANGE_RED              = 0xFF4500,\r\n    ORCHID                  = 0xDA70D6,\r\n    PALE_GOLDENROD          = 0xEEE8AA,\r\n    PALE_GREEN              = 0x98FB98,\r\n    PALE_TURQUOISE          = 0xAFEEEE,\r\n    PALE_VIOLET_RED         = 0xDB7093,\r\n    PAPAYA_WHIP             = 0xFFEFD5,\r\n    PEACH_PUFF              = 0xFFDAB9,\r\n    PERU                    = 0xCD853F,\r\n    PINK                    = 0xFFC0CB,\r\n    PLUM                    = 0xDDA0DD,\r\n    POWDER_BLUE             = 0xB0E0E6,\r\n    PURPLE                  = 0x800080,\r\n    RED                     = 0xFF0000,\r\n    ROSY_BROWN              = 0xBC8F8F,\r\n    ROYAL_BLUE              = 0x4169E1,\r\n    SADDLE_BROWN            = 0x8B4513,\r\n    SALMON                  = 0xFA8072,\r\n    SANDY_BROWN             = 0xFAA460,\r\n    SEA_GREEN               = 0x2E8B57,\r\n    SEA_SHELL               = 0xFFF5EE,\r\n    SIENNA                  = 0xA0522D,\r\n    SILVER                  = 0xC0C0C0,\r\n    SKY_BLUE                = 0x87CEEB,\r\n    SLATE_BLUE              = 0x6A5ACD,\r\n    SLATE_GRAY              = 0x708090,\r\n    SLATE_GREY              = 0x708090,\r\n    SNOW                    = 0xFFFAFA,\r\n    SPRING_GREEN            = 0x00FF7F,\r\n    STEEL_BLUE              = 0x4682B4,\r\n    TAN                     = 0xD2B48C,\r\n    TEAL                    = 0x008080,\r\n    THISTLE                 = 0xD8BFD8,\r\n    TOMATO                  = 0xFF6347,\r\n    TURQUOISE               = 0x40E0D0,\r\n    VIOLET                  = 0xEE82EE,\r\n    WHEAT                   = 0xF5DEB3,\r\n    WHITE                   = 0xFFFFFF,\r\n    WHITE_SMOKE             = 0xF5F5F5,\r\n    YELLOW                  = 0xFFFF00,\r\n    YELLOW_GREEN            = 0x9ACD32\r\n}\r\n\r\nexport interface IColorMap {\r\n    [key: string]: ColorCode;\r\n}\r\n\r\nexport var ColorMap: IColorMap = {\r\n    \"aliceblue\"             : ColorCode.ALICE_BLUE,\r\n    \"antiquewhite\"          : ColorCode.ANTIQUE_WHITE, \r\n    \"aqua\"                  : ColorCode.AQUA,\r\n    \"aquamarine\"            : ColorCode.AQUAMARINE,\r\n    \"azure\"                 : ColorCode.AZURE,\r\n    \"beige\"                 : ColorCode.BEIGE,\r\n    \"bisque\"                : ColorCode.BISQUE,\r\n    \"black\"                 : ColorCode.BLACK,\r\n    \"blanchedalmond\"        : ColorCode.BLANCHED_ALMOND,\r\n    \"blue\"                  : ColorCode.BLUE,\r\n    \"blueviolet\"            : ColorCode.BLUE_VIOLET,\r\n    \"brown\"                 : ColorCode.BROWN,\r\n    \"burlywood\"             : ColorCode.BURLY_WOOD,\r\n    \"cadetblue\"             : ColorCode.CADET_BLUE,\r\n    \"chartreuse\"            : ColorCode.CHART_REUSE,\r\n    \"chocolate\"             : ColorCode.CHOCOLATE,\r\n    \"coral\"                 : ColorCode.CORAL,\r\n    \"cornflowerblue\"        : ColorCode.CORNFLOWER_BLUE,\r\n    \"cornsilk\"              : ColorCode.CORN_SILK,\r\n    \"crimson\"               : ColorCode.CRIMSON,\r\n    \"cyan\"                  : ColorCode.CYAN,\r\n    \"darkblue\"              : ColorCode.DARK_BLUE,\r\n    \"darkcyan\"              : ColorCode.DARK_CYAN,\r\n    \"darkgoldenrod\"         : ColorCode.DARK_GOLDENROD,\r\n    \"darkgray\"              : ColorCode.DARK_GRAY,\r\n    \"darkgrey\"              : ColorCode.DARK_GREY,\r\n    \"darkgreen\"             : ColorCode.DARK_GREEN,\r\n    \"darkkhaki\"             : ColorCode.DARK_KHAKI,\r\n    \"darkmagenta\"           : ColorCode.DARK_MAGENTA,\r\n    \"darkolivegreen\"        : ColorCode.DARK_OLIVE_GREEN,\r\n    \"darkorange\"            : ColorCode.DARK_ORANGE,\r\n    \"darkorchid\"            : ColorCode.DARK_ORCHID,\r\n    \"darkred\"               : ColorCode.DARK_RED,\r\n    \"darksalmon\"            : ColorCode.DARK_SALMON,\r\n    \"darkseagreen\"          : ColorCode.DARK_SEA_GREEN,\r\n    \"darkslateblue\"         : ColorCode.DARK_SLATE_BLUE,\r\n    \"darkslategray\"         : ColorCode.DARK_SLATE_GRAY,\r\n    \"darkslategrey\"         : ColorCode.DARK_SLATE_GREY,\r\n    \"darktorquoise\"         : ColorCode.DARK_TORQUOISE,\r\n    \"darkviolet\"            : ColorCode.DARK_VIOLET,\r\n    \"deeppink\"              : ColorCode.DEEP_PINK,\r\n    \"deepskyblue\"           : ColorCode.DEEP_SKY_BLUE,\r\n    \"dimgray\"               : ColorCode.DIM_GRAY,\r\n    \"dimgrey\"               : ColorCode.DIM_GREY,\r\n    \"dodgerblue\"            : ColorCode.DODGER_BLUE,\r\n    \"firebrick\"             : ColorCode.FIRE_BRICK,\r\n    \"floralwhite\"           : ColorCode.FLORAL_WHITE,\r\n    \"forestgreen\"           : ColorCode.FOREST_GREEN,\r\n    \"fuchsia\"               : ColorCode.FUCHSIA,\r\n    \"gainsboro\"             : ColorCode.GAINSBORO,\r\n    \"ghostwhite\"            : ColorCode.GHOST_WHITE,\r\n    \"gold\"                  : ColorCode.GOLD,\r\n    \"goldenrod\"             : ColorCode.GOLDENROD,\r\n    \"gray\"                  : ColorCode.GRAY,\r\n    \"grey\"                  : ColorCode.GREY,\r\n    \"green\"                 : ColorCode.GREEN,\r\n    \"greenyellow\"           : ColorCode.GREEN_YELLOW,\r\n    \"honeydew\"              : ColorCode.HONEYDEW,\r\n    \"hotpink\"               : ColorCode.HOT_PINK,\r\n    \"indianred\"             : ColorCode.INDIAN_RED,\r\n    \"indigo\"                : ColorCode.INDIGO,\r\n    \"ivory\"                 : ColorCode.IVORY,\r\n    \"khaki\"                 : ColorCode.KHAKI,\r\n    \"lavender\"              : ColorCode.LAVENDER,\r\n    \"lavenderblush\"         : ColorCode.LAVENDER_BLUSH,\r\n    \"lawngreen\"             : ColorCode.LAWN_GREEN,\r\n    \"lemonchiffon\"          : ColorCode.LEMON_CHIFFON,\r\n    \"lightblue\"             : ColorCode.LIGHT_BLUE,\r\n    \"lightcoral\"            : ColorCode.LIGHT_CORAL,\r\n    \"lightcyan\"             : ColorCode.LIGHT_CYAN,\r\n    \"lightgoldenrodyellow\"  : ColorCode.LIGHT_GOLDENROD_YELLOW,\r\n    \"lightgreen\"            : ColorCode.LIGHT_GREEN,\r\n    \"lightgray\"             : ColorCode.LIGHT_GRAY,\r\n    \"lightgrey\"             : ColorCode.LIGHT_GREY,\r\n    \"lightpink\"             : ColorCode.LIGHT_PINK,\r\n    \"lightsalmon\"           : ColorCode.LIGHT_SALMON,\r\n    \"lightseagreen\"         : ColorCode.LIGHT_SEA_GREEN,\r\n    \"lightskyblue\"          : ColorCode.LIGHT_SKY_BLUE,\r\n    \"lightslategray\"        : ColorCode.LIGHT_SLATE_GRAY,\r\n    \"lightslategrey\"        : ColorCode.LIGHT_SLATE_GREY,\r\n    \"lightsteelblue\"        : ColorCode.LIGHT_STEEL_BLUE,\r\n    \"lightyellow\"           : ColorCode.LIGHT_YELLOW,\r\n    \"lime\"                  : ColorCode.LIME,\r\n    \"limegreen\"             : ColorCode.LIME_GREEN,\r\n    \"linen\"                 : ColorCode.LINEN,\r\n    \"magenta\"               : ColorCode.MAGENTA,\r\n    \"maroon\"                : ColorCode.MAROON,\r\n    \"mediumaquamarine\"      : ColorCode.MEDIUM_AQUAMARINE,\r\n    \"mediumblue\"            : ColorCode.MEDIUM_BLUE,\r\n    \"mediumorchid\"          : ColorCode.MEDIUM_ORCHID,\r\n    \"mediumpurple\"          : ColorCode.MEDIUM_PURPLE,\r\n    \"mediumseagreen\"        : ColorCode.MEDIUM_SEA_GREEN,\r\n    \"mediumslateblue\"       : ColorCode.MEDIUM_SLATE_BLUE,\r\n    \"mediumspringgreen\"     : ColorCode.MEDIUM_SPRING_GREEN,\r\n    \"mediumturquoise\"       : ColorCode.MEDIUM_TURQUOISE,\r\n    \"mediumvioletred\"       : ColorCode.MEDIUM_VIOLET_RED,\r\n    \"midnightblue\"          : ColorCode.MIDNIGHT_BLUE,\r\n    \"mintcream\"             : ColorCode.MINT_CREAM,\r\n    \"mistyrose\"             : ColorCode.MISTY_ROSE,\r\n    \"moccasin\"              : ColorCode.MOCCASIN,\r\n    \"navajowhite\"           : ColorCode.NAVAJO_WHITE,\r\n    \"navy\"                  : ColorCode.NAVY,\r\n    \"oldlace\"               : ColorCode.OLD_LACE,\r\n    \"olive\"                 : ColorCode.OLIVE,\r\n    \"olivedrab\"             : ColorCode.OLIVE_DRAB,\r\n    \"orange\"                : ColorCode.ORANGE,\r\n    \"orangered\"             : ColorCode.ORANGE_RED,\r\n    \"orchid\"                : ColorCode.ORCHID,\r\n    \"palegoldenrod\"         : ColorCode.PALE_GOLDENROD,\r\n    \"palegreen\"             : ColorCode.PALE_GREEN,\r\n    \"paleturquoise\"         : ColorCode.PALE_TURQUOISE,\r\n    \"palevioletred\"         : ColorCode.PALE_VIOLET_RED,\r\n    \"papayawhip\"            : ColorCode.PAPAYA_WHIP,\r\n    \"peachpuff\"             : ColorCode.PEACH_PUFF,\r\n    \"peru\"                  : ColorCode.PERU,\r\n    \"pink\"                  : ColorCode.PINK,\r\n    \"plum\"                  : ColorCode.PLUM,\r\n    \"powderblue\"            : ColorCode.POWDER_BLUE,\r\n    \"purple\"                : ColorCode.PURPLE,\r\n    \"red\"                   : ColorCode.RED,\r\n    \"rosybrown\"             : ColorCode.ROSY_BROWN,\r\n    \"royalblue\"             : ColorCode.ROYAL_BLUE,\r\n    \"saddlebrown\"           : ColorCode.SADDLE_BROWN,\r\n    \"salmon\"                : ColorCode.SALMON,\r\n    \"sandybrown\"            : ColorCode.SANDY_BROWN,\r\n    \"seagreen\"              : ColorCode.SEA_GREEN,\r\n    \"seashell\"              : ColorCode.SEA_SHELL,\r\n    \"sienna\"                : ColorCode.SIENNA,\r\n    \"silver\"                : ColorCode.SILVER,\r\n    \"skyblue\"               : ColorCode.SKY_BLUE,\r\n    \"slateblue\"             : ColorCode.SLATE_BLUE,\r\n    \"slategray\"             : ColorCode.SLATE_GRAY,\r\n    \"slategrey\"             : ColorCode.SLATE_GREY,\r\n    \"snow\"                  : ColorCode.SNOW,\r\n    \"springgreen\"           : ColorCode.SPRING_GREEN,\r\n    \"steelblue\"             : ColorCode.STEEL_BLUE,\r\n    \"tan\"                   : ColorCode.TAN,\r\n    \"teal\"                  : ColorCode.TEAL,\r\n    \"thistle\"               : ColorCode.THISTLE,\r\n    \"tomato\"                : ColorCode.TOMATO,\r\n    \"turquoise\"             : ColorCode.TURQUOISE,\r\n    \"violet\"                : ColorCode.VIOLET,\r\n    \"wheat\"                 : ColorCode.WHEAT,\r\n    \"white\"                 : ColorCode.WHITE,\r\n    \"whitesmoke\"            : ColorCode.WHITE_SMOKE,\r\n    \"yellow\"                : ColorCode.YELLOW,\r\n    \"yellowgreen\"           : ColorCode.YELLOW_GREEN\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/utils/ColorCode.ts","// This is the export file to expose the classes of this package to external of this library.\r\n// The exports must be named therefore importing, and exporting is necessary.\r\n\r\n// If a particular module exports multiple items, ensure to include all that should be exposed to the public API.\r\n\r\nimport {AudioEngine} from './AudioEngine';\r\nimport {HTML5AudioEngine} from './HTML5AudioEngine';\r\nimport {AudioEvents} from './AudioEvents';\r\n\r\nexport {\r\n    AudioEngine,\r\n    HTML5AudioEngine,\r\n    AudioEvents\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/audio/index.ts","import {\n\tLogManager,\n\tSeverityEnum\n} from '../utils';\nimport {\n\tAsset,\n\tAssetFactory,\n\tAssetType\n} from '../assets';\nimport {EventEmitter} from 'events';\n\nvar assetFactory: AssetFactory = AssetFactory.getSingleton();\n\ninterface AudioMap {\n\t[key: string]: Asset[]\n}\n\n/**\n * public constructor AudioEngine\n *\n *\tCreates an AudioEngine to manage and play different\n *\taudio assets.\n *\n * \tThis class is abstract and must be subclassed, with\n * \tan implementation to the abstract methods.\n *\n * TODO: Make a way to mute/unmute All Audio\n */\n\nexport abstract class AudioEngine extends EventEmitter {\n\tprivate _logManager: LogManager;\n\tprivate _audioMap: AudioMap;\n\n\tpublic constructor() {\n\t\tsuper();\n\t\tthis._audioMap = {};\n\t\tthis._logManager = LogManager.getSingleton();\n\t}\n\n\t/**\n\t * public addAudio\n\t *\n\t *\tAdds an audio asset to this audio engine.\n\t * \t\n\t * @param {String} name  \t\tUser Friendly  name\n\t * @param {Integer} channels \tOptional\n\t * @param {Asset} \taudio \n\t */\n\tpublic addAudio(name: string, audio: Asset, channels?: number): void {\n\t\tif (audio.getType() !== AssetType.AUDIO) {\n\t\t\tthrow 'AudioEngine.addAudio: Invalid Asset Type.';\n\t\t}\n\t\tthis._setAudio(name, audio, channels);\n\t}\n\n\t/**\n\t * public hasAudio\n\t *\n\t *\tReturns true, if an audio asset by name exists.\n\t * \n\t * @param  {String}  name User friendly name.\n\t * @return {Boolean}      \n\t */\n\tpublic hasAudio(name: string): boolean {\n\t\tvar audio: Asset = this._getAudio(name);\n\t\treturn (audio !== null);\n\t}\n\n\t/**\n\t * public removeAudio\n\t *\n\t *\tRemoves an audio asset from this audio engine.\n\t *\tWill stop the audio if playing.\n\t * \n\t * @param  {String} name User friendly name\n\t * @return {void}      \n\t */\n\tpublic removeAudio(name: string): void {\n\t\tvar audio: Asset = this._getAudio(name);\n\t\tif (audio) {\n\t\t\tthis._stopAudio(audio);\n\t\t}\n\t\tdelete this._audioMap[name];\n\t}\n\n\t/**\n\t * public releaseAssets\n\t *\n\t *\tRemoves all audio assets from the audio engine.\n\t * \n\t * @return {void} \n\t */\n\tpublic releaseAssets(): void {\n\t\tvar keys = Object.keys(this._audioMap);\n\t\tfor (var i = 0, len = keys.length; i < len; i++) {\n\t\t\tthis.removeAudio(keys[i]);\n\t\t}\n\t}\n\n\t/**\n\t * public playAudio\n\t *\n\t *\tPlays an audio asset.\n\t * \n\t * @param  {String} name User friendly name\n\t * @return {void}      \n\t */\n\tpublic playAudio(name: string): void {\n\t\tvar audio: Asset = this._getAudio(name);\n\t\tif (audio) {\n\t\t\tthis._playAudio(audio);\n\t\t\taudio.setAttribute('playing', true);\n\t\t}\n\t}\n\n\t/**\n\t * public pauseAudio\n\t *\n\t *\tPauses an audio asset.\n\t * \n\t * @param  {String} name User friendly name\n\t * @return {void}      \n\t */\n\tpublic pauseAudio(name: string): void {\n\t\tvar audio: Asset = this._getAudio(name);\n\t\tif (audio) {\n\t\t\tthis._pauseAudio(audio);\n\t\t\taudio.setAttribute('playing', false);\n\t\t}\n\t}\n\n\t/**\n\t * public stopAudio\n\t *\n\t *\tStops an audio asset. (Resets time cursor back to 0 seconds).\n\t * \n\t * @param  {String} name User friendly name\n\t * @return {void}      \n\t */\n\tpublic stopAudio(name: string): void {\n\t\tvar audio: Asset = this._getAudio(name);\n\t\tif (audio) {\n\t\t\tthis._stopAudio(audio);\n\t\t\taudio.setAttribute('playing', false);\n\t\t}\n\t}\n\n\t/**\n\t * public isAudioLooping\n\t *\n\t *\tReturns true, if audio asset will loop.\n\t * \n\t * @param  {String}  name User friendly name\n\t * @return {Boolean}      \n\t */\n\tpublic isAudioLooping(name: string): boolean {\n\t\tvar audio: Asset = this._getAudio(name);\n\t\tif (audio) {\n\t\t\treturn this._isAudioLooping(audio);\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * public loopAudio\n\t *\n\t *\tEnables looping of an audio asset.\n\t * \n\t * @param  {String} name  User friendly name\n\t * @param  {Boolean} state Should the audio asset loop?\n\t * @return {void}\n\t */\n\tpublic loopAudio(name: string, state: boolean): void {\n\t\tvar audio: Asset = this._getAudio(name);\n\t\tif (audio) {\n\t\t\tthis._loopAudio(audio, state);\n\t\t}\n\t}\n\n\t/**\n\t * public isAudioMuted\n\t *\n\t *\tReturns true if the audio asset is muted.\n\t * \n\t * @param  {String}  name User friendly name\n\t * @return {Boolean}      \n\t */\n\tpublic isAudioMuted(name: string): boolean {\n\t\tvar audio: Asset = this._getAudio(name);\n\t\tif (audio) {\n\t\t\treturn this._isAudioMuted(audio);\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * public muteAudio\n\t *\n\t *\tMutes an audio asset.\n\t * \n\t * @param  {String} name  \n\t * @param  {Boolean} state \n\t * @return {void}       \n\t */\n\tpublic muteAudio(name: string, state: boolean): void {\n\t\tvar audio: Asset = this._getAudio(name);\n\t\tif (audio) {\n\t\t\tthis._muteAudio(audio, state);\n\t\t}\n\t}\n\n\t/**\n\t * public getAudioDuration\n\t *\n\t *\tGets the duration of the audio asset (in seconds).\n\t * \n\t * @param  {String} name User friendly name\n\t * @return {Float} \n\t */\n\tpublic getAudioDuration(name: string): number {\n\t\tvar audio: Asset = this._getAudio(name);\n\t\tif (audio) {\n\t\t\treturn this._getAudioDuration(audio);\n\t\t}\n\t\treturn 0;\n\t}\n\n\t/**\n\t * public setTimeCursor\n\t *\n\t *\tSets the current time to be played on the audio asset,\n\t *\tin seconds.\n\t * \n\t * @param {String} name    User friendly name\n\t * @param {Float} seconds \n\t */\n\tpublic setTimeCursor(name: string, seconds: number): void {\n\t\tvar audio: Asset = this._getAudio(name);\n\t\tif (audio) {\n\t\t\tthis._setTimeCursor(audio, seconds);\n\t\t}\n\t}\n\n\t/**\n\t * public getTimeCursor\n\t *\n\t *\tGets the current time being played on the audio asset,\n\t *\tin seconds.\n\t * \n\t * @param  {String} name User friendly name\n\t * @return {Float}      \n\t */\n\tpublic getTimeCursor(name: string): number {\n\t\tvar audio: Asset = this._getAudio(name);\n\t\tif (audio) {\n\t\t\treturn this._getTimeCursor(audio);\n\t\t}\n\t\treturn 0;\n\t}\n\n\t/**\n\t * public setVolume\n\t *\n\t *\tSets the volume of the audio asset.\n\t * \n\t * @param {String} name   User friendly name\n\t * @param {Float} volume\n\t */\n\tpublic setVolume(name: string, volume: number) {\n\t\tvar audio: Asset = this._getAudio(name);\n\t\tif (audio) {\n\t\t\tthis._setVolume(audio, volume);\n\t\t}\n\t}\n\n\t/**\n\t * public getVolume\n\t *\n\t *\tGets the volume of the audio asset.\n\t * \n\t * @param  {String} name User friendly name\n\t * @return {Float}      \n\t */\n\tpublic getVolume(name: string): number {\n\t\tvar audio: Asset = this._getAudio(name);\n\t\tif (audio) {\n\t\t\treturn this._getVolume(audio);\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\t/**\n\t * protected _setAudio\n\t *\n\t *\tAdds an audio asset to the audio hash map.\n\t *\tIf audio is null, then the key is deleted.\n\t * \n\t * @param {String} name  User friendly reference\n\t * @param {Asset} audio \n\t * @param {Integer} channels \n\t */\n\tprotected _setAudio(name: string, audio: Asset, channels: number): void {\n\t \tif (!audio) {\n\t\t\tthis.removeAudio(name);\n\t\t}\n\t\telse {\n\t\t\tvar channelArr: Asset[] = [audio];\n\t\t\tif (channels > 1) {\n\t\t\t\tvar clone: Asset;\n\t\t\t\tfor (var i = 1; i < channels; i++) {\n\t\t\t\t\tclone = assetFactory.build(audio.getType(), audio.getSource());\n\t\t\t\t\tchannelArr.push(clone);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._audioMap[name] = channelArr;\n\t\t\tthis._registerEvents(channelArr, name, audio);\n\t\t}\n\t}\n\n\t/**\n\t * protected _warnMissingAudio\n\t *\n\t *\tReports an audio missing warning.\n\t * \n\t * @param  {String} name User friendly reference.\n\t * @return {void}      \n\t */\n\tprotected _warnMissingAudio(name: string): void {\n\t\tthis._logManager.log(SeverityEnum.WARNING, 'Audio ' + name + ' is missing from Audio Engine.');\n\t}\n\n\t/**\n\t * protected _getAudio\n\t *\n\t *\tGets an audio asset from the audio hash map.\n\t * \n\t * @param  {String} name User friendly reference\n\t * @param  {Boolean} justGiveChannel1 If true, does NOT search for an available channel\n\t * @return {Asset}   \n\t */\n\tprotected _getAudio(name: string, justGiveChannel1?: boolean): Asset {\n\t\tif (this._audioMap[name]) {\n\t\t\tvar channels: Asset[] = this._audioMap[name];\n\t\t\tif (justGiveChannel1) {\n\t\t\t\treturn channels[0];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar channel: Asset;\n\t\t\t\tvar asset: Asset;\n\t\t\t\tfor (var i = 0, len = channels.length; i < len; i++) {\n\t\t\t\t\tchannel = channels[i];\n\t\t\t\t\tif (!channel.getAttribute('playing')) {\n\t\t\t\t\t\treturn channel;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t//If we reach here, then all channels are already in use..\n\t\t\t//just return the main channel.\n\t\t\treturn channels[0];\n\t\t}\n\t\telse {\n\t\t\tthis._warnMissingAudio(name);\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t/**\n\t * protected _getData\n\t *\n\t *\tGets the asset's data.\n\t * \n\t * @param  {Asset} audio \n\t * @return {Object}       \n\t */\n\tprotected _getData(audio: Asset): Object /* TODO, Fix return type */ {\n\t\treturn audio.getData();\n\t}\n\n\t/**\n\t * protected _attachStartEvent\n\t *\n\t * \tAttaches the start event on an asset.\n\t * \n\t * @param  {Asset} asset \n\t * @return {void}       \n\t */\n\tprotected _attachStartEvent(asset: Asset, name: string, audio: Asset): void {\n\t\tif (!asset.getAttribute('startEvent')) {\n\t\t\tthis._registerStartEvent(asset, name, audio);\n\t\t\tasset.setAttribute('startEvent', true);\n\t\t}\n\t}\n\n\t/**\n\t * protected _attachEndEvent\n\t *\n\t *\tAttaches the end event on an asset.\n\t * \n\t * @param  {Asset} asset \n\t * @return {void}       \n\t */\n\tprotected _attachEndEvent(asset: Asset, name: string, audio: Asset): void {\n\t\tif (!asset.getAttribute('endEvent')) {\n\t\t\tthis._registerEndEvent(asset, name, audio);\n\t\t\tasset.setAttribute('endEvent', true);\n\t\t}\n\t}\n\n\t/**\n\t * protected _registerEvents\n\t *\n\t *\tAttaches all mandatory events on each channel.\n\t * \n\t * @param  {Array(Of Asset)} channelArray \n\t * @return {void}              \n\t */\n\tprotected _registerEvents(channelArray: Asset[], name: string, audio: Asset): void {\n\t\tvar channel: Asset;\n\t\tfor (var i = 0, len = channelArray.length; i < len; i++) {\n\t\t\tchannel = channelArray[i];\n\t\t\tthis._attachStartEvent(channel, name, audio);\n\t\t\tthis._attachEndEvent(channel, name, audio);\n\t\t}\n\t}\n\n\t/**\n\t * protected abstract _playAudio\n\t *\n\t *\tThe logic to play audio. Must be implemented by subclasses.\n\t * \n\t * @param  {Asset} audio \n\t * @return {void}       \n\t */\n\tprotected abstract _playAudio(audio: Asset): void;\n\t\n\t/**\n\t * protected abstract _pauseAudio\n\t *\n\t *\tThe logic to pause audio. Must be implemented by subclasses.\n\t * \n\t * @param  {Asset} audio \n\t * @return {void}       \n\t */\n\tprotected abstract _pauseAudio(audio: Asset): void;\n\t\n\t/**\n\t * protected abstract _stopAudio\n\t *\n\t *\tThe logic to stop audio. Must be implemented by subclasses.\n\t * \n\t * @param  {Asset} audio \n\t * @return {void}       \n\t */\n\tprotected abstract _stopAudio(audio: Asset): void;\n\n\t/**\n\t * protected abstract _isAudioLooping\n\t *\n\t *\tThe logic to check for audio looping.\n\t *\tReturn true, if audio is looping.\n\t *\tMust be implemented by subclasses.\n\t * \n\t * @param  {Asset}  audio \n\t * @return {Boolean}       \n\t */\n\tprotected abstract _isAudioLooping(audio: Asset): boolean;\n\n\t/**\n\t * protected abstract _loopAudio\n\t *\n\t *\tThe logic to enable audio looping.\n\t *\tMust be implemented by subclasses.\n\t * \n\t * @param  {Asset} audio \n\t * @param  {Boolean} state \n\t * @return {void}       \n\t */\n\tprotected abstract _loopAudio(audio: Asset, state: boolean): void;\n\n\t/**\n\t * protected abstract _isAudioMuted\n\t *\n\t *\tThe logic to check for muted audio.\n\t *\tReturns true if audio is muted.\n\t *\tMust be implemented by subclasses.\n\t * \n\t * @param  {Asset}  audio \n\t * @return {Boolean}       \n\t */\n\tprotected abstract _isAudioMuted(audio: Asset): boolean;\n\n\t/**\n\t * protected abstract _muteAudio\n\t *\n\t *\tThe logic to mute audio.\n\t *\tMust be implemented by subclasses.\n\t * \n\t * @param  {Asset} audio \n\t * @param  {Boolean} state \n\t * @return {void}       \n\t */\n\tprotected abstract _muteAudio(audio: Asset, state: boolean): void;\n\n\t/**\n\t * protected abstract _getAudioDuration\n\t *\n\t *\tThe logic to get the total duration of an audio asset.\n\t *\tMust be implemented by subclasses.\n\t * \n\t * @param  {Asset} audio \n\t * @return {Float}       \n\t */\n\tprotected abstract _getAudioDuration(audio: Asset): number;\n\n\t/**\n\t * protected abstract _setTimeCursor\n\t *\n\t *\tThe logic to set the current time played of an audio asset.\n\t *\tMust be implemented by subclasses.\n\t * \n\t * @param {Asset} audio   \n\t * @param {Float} seconds \n\t */\n\tprotected abstract _setTimeCursor(audio: Asset, seconds: number): void;\n\n\t/**\n\t * protected abstract _getTimeCursor\n\t *\n\t *\tThe logic to get the current time playing of an audio asset,\n\t *\tin seconds.\n\t *\tMust be implemented by subclasses.\n\t * \n\t * @param  {Asset} audio \n\t * @return {Float}       \n\t */\n\tprotected abstract _getTimeCursor(audio: Asset): number;\n\n\t/**\n\t * protected abstract _setVolume\n\t *\n\t *\tThe logic to set the volume of an audio asset.\n\t *\tMust be implemented by subclasses.\n\t * \n\t * @param {Asset} audio  \n\t * @param {Float} volume \n\t */\n\tprotected abstract _setVolume(audio: Asset, volume: number): void;\n\n\t/**\n\t * protected abstract _getVolume\n\t *\n\t *\tThe logic to get the volume of an audio asset.\n\t * \n\t * @param  {Asset} audio \n\t * @return {Float}       \n\t */\n\tprotected abstract _getVolume(audio: Asset): number;\n\n\t/**\n\t * protected abstract _registerStartEvent\n\t *\n\t *\tThe logic for registering a callback mechanism for when audio\n\t *\tbegins playing. This callback should set tehe playing attribute\n\t *\ton the asset to true.\n\t *\n\t * Name & audio fields are for event reporting.\n\t * \n\t * @param  {Asset} audio \n\t * @return {void}       \n\t */\n\tprotected abstract _registerStartEvent(asset: Asset, name: string, audio: Asset): void;\n\n\t/**\n\t * protected abstract _registerEndEvent\n\t *\n\t *\tThe logic for registering a callback mechanism for when audio\n\t *\tstops playing. This callback should reset the playing attribute \n\t *\ton the asset to false.\n\t *\n\t * Name & audio fields are for event reporting.\n\t * \n\t * @param  {Asset} audio\n\t * @return {void}       \n\t */\n\tprotected abstract _registerEndEvent(asset: Asset, name: string, audio: Asset): void;\n}\n\t\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/audio/AudioEngine.ts","export enum AssetState {\n\tNOT_LOADED,\n\tLOADING,\n\tLOADED,\n\tUNLOADING\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/assets/AssetState.ts","import {Asset} from './Asset';\r\nimport {AssetState} from './AssetState';\r\nimport {getInstance} from '../core/Instance';\r\n\r\nexport interface AssetMap {\r\n    [key: string]: Asset;\r\n}\r\n\r\nexport class AssetGroup {\r\n    private _assets: AssetMap;\r\n\r\n    public constructor(assetMap: AssetMap = {}) {\r\n        this._assets = assetMap;\r\n    }\r\n\r\n    /**\r\n     * Adds an asset to a group.\r\n     * \r\n     * Note this will not the load the asset.\r\n     * \r\n     * @param name \r\n     * @param asset \r\n     */\r\n    public addAsset(name: string, asset: Asset): void {\r\n        if (this._assets[name]) {\r\n            getInstance().getLogManager().warn(`Asset \"${name}\" already exists in Asset Group.`);\r\n            return;\r\n        }\r\n\r\n        this._assets[name] = asset;\r\n    }\r\n\r\n    /**\r\n     * Removes the asset from the group.\r\n     * \r\n     * This will unload the asset if the asset is loaded.\r\n     * \r\n     * @param name \r\n     */\r\n    public removeAsset(name: string): void {\r\n        var asset: Asset = this._assets[name];\r\n\r\n        if (!asset) {\r\n            return;\r\n        }\r\n\r\n        if (asset.getState() === AssetState.LOADED) {\r\n            asset.unload();\r\n        }\r\n\r\n        delete this._assets[name];\r\n    }\r\n\r\n    /**\r\n     * \r\n     * Gets the asset by name.\r\n     * \r\n     * @param name \r\n     */\r\n    public getAsset(name: string): Asset {\r\n        return this._assets[name];\r\n    }\r\n\r\n    /**\r\n     * Loads all assets in the NOT_LOADED state. Promise will return\r\n     * once all resources are loaded.\r\n     */\r\n    public load(): Promise<void> {\r\n        var promises: Promise<Asset>[] = [];\r\n\r\n        for (var name in this._assets) {\r\n            var asset: Asset = this._assets[name];\r\n\r\n            if (asset.getState() === AssetState.NOT_LOADED) {\r\n                promises.push(asset.load());\r\n            }\r\n        }\r\n\r\n        if (promises.length === 0) {\r\n            return Promise.resolve();\r\n        }\r\n\r\n        // Create new Promise to obey typing.\r\n        return new Promise<void>((resolve, reject) => {\r\n            Promise.all(promises).then(() => {\r\n                resolve();\r\n            }).catch(reject);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Unloads all assets in the LOADED state.\r\n     */\r\n    public unload(): Promise<void> {\r\n        var promises: Promise<Asset>[] = [];\r\n\r\n        for (var name in this._assets) {\r\n            var asset: Asset = this._assets[name];\r\n\r\n            if (asset.getState() === AssetState.LOADED) {\r\n                promises.push(asset.unload());\r\n            }\r\n        }\r\n\r\n        if (promises.length === 0) {\r\n            return Promise.resolve();\r\n        }\r\n\r\n        // Create new Promise to obey typing.\r\n        return new Promise<void>((resolve, reject) => {\r\n            Promise.all(promises).then(() => {\r\n                resolve();\r\n            }).catch(reject);\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/assets/AssetGroup.ts","\r\nexport enum AudioEvents {\r\n    STARTED = \"started\",\r\n    ENDED = \"ended\"\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/audio/AudioEvents.ts","// This is the export file to expose the classes of this package to external of this library.\n// The exports must be named therefore importing, and exporting is necessary.\n\n// If a particular module exports multiple items, ensure to include all that should be exposed to the public API.\n\nimport {ModelEventTypes} from './ModelEventTypes';\nimport {AttrChangeEvent} from './AttrChangeEvent';\nimport {AttrDeleteEvent} from './AttrDeleteEvent';\nimport {ShortAttrChangeEvent} from './ShortAttrChangeEvent';\nimport {TextureChangeEvent} from './TextureChangeEvent';\nimport {EntityEventTypes} from './EntityEventTypes';\nimport {LocationUpdateEvent} from './LocationUpdateEvent';\nimport {Entity} from './Entity';\nimport {EntityModel} from './EntityModel';\nimport {EntityView} from './EntityView';\nimport {EntityView2D} from './EntityView2D';\nimport { GridMap } from './GridMap';\n\nexport {\n    ModelEventTypes,\n    AttrChangeEvent,\n    AttrDeleteEvent,\n    ShortAttrChangeEvent,\n    TextureChangeEvent,\n    EntityEventTypes,\n    LocationUpdateEvent,\n    Entity,\n    EntityModel,\n    EntityView,\n    EntityView2D,\n    GridMap\n};\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/entities/index.ts","import * as Events from 'events';\r\nimport {Dimension} from '../interfaces';\r\nimport { Asset, AssetType } from '../assets';\r\nimport { Coordinate } from \"../utils\";\r\nimport {EntityModel, ModelEventTypes, EntityView, EntityEventTypes, LocationUpdateEvent} from './';\r\n\r\nimport {Iterator, Color} from \"../utils\";\r\n\r\nexport class Entity extends Events.EventEmitter {\r\n\tprotected _view : EntityView;\r\n\tprotected _model : EntityModel;\r\n\tprotected _children : Entity[];\r\n\tprivate _regions : Entity[][][];\r\n\tprivate _regionDimension : Dimension;\r\n\tprivate _regionList : {[key: string]: Coordinate[]};\r\n\tprotected _parent : Entity;\r\n\tprivate _modified : boolean;\r\n\tprivate _notifierKeys : string[];\r\n\tprivate _parentNotifierKeys : string[];\r\n\tprivate _modelCB : {(attribute: string, value: any, oldValue: any) : void}\r\n\tprivate _collisionable : boolean;\r\n    private _eventEmitted: boolean;\r\n\r\n\tpublic constructor (model? : EntityModel) {\r\n\t\tsuper();\r\n\t\tvar useDefaults :  boolean = false;\r\n\r\n\t\tthis._modelCB = (attribute: string, value: any, oldValue: any) => {\r\n\t\t\tif (this._notifierKeys.indexOf(attribute) > -1) {\r\n\t\t\t\tthis._setModified(true);\r\n\t\t\t} else if (this._parent && this._parentNotifierKeys.indexOf(attribute) > -1) {\r\n\t\t\t\tthis._parent._setModified(true);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//Check to see if a model was passed in\r\n\t\tif (!model) {\r\n\t\t\t//No model was passed in, so create the default model for an Entity\r\n\t\t\tmodel = new EntityModel();\r\n\t\t\tuseDefaults = true;\r\n\t\t}\r\n\t\t\r\n\t\t//TODO figure out how to decide what EntityView class we should use...\r\n\t\tthis._view = new EntityView(model);\r\n\t\tthis._model = model;\r\n\t\t\r\n\t\tthis._children = new Array(); //Array to store all the children entities\r\n\r\n\t\t//Region Management\r\n\t\tthis._regions = []//Array of generated 'regions' of children to make children searching more efficient, by splitting them up into regions by position & dimensions\r\n\t\tthis._regionDimension; //The dimensions of the regions for this Entity\r\n\t\tthis._regionList = {}; //Mapping of Children to Region(s) so we don't have to search\r\n\r\n\t\tthis._collisionable = false;\r\n\t\t//Layer Management\r\n\t\t// this.layers = [[]]; //Layers for rendering so children can be rendering in proper order\r\n\t\t// this.layerList = {}; //Mapping of Children to Layers so we don't have to search\r\n\r\n\t\tthis._parent = null; //Parent is the entity that contains this one\r\n\t\tthis._modified = false; //Whether or not this Entity has been modified\r\n\t\tthis._notifierKeys = ['width', 'height',  'color', 'texture', 'textures']; //Model attributes in which we should change isModified for\r\n\t\tthis._parentNotifierKeys = ['x', 'y']; //Array of attributes to flag the parent as modified, anything in notifierKeys will do so by default, this list is for keys that don't mark this entity as isMOdified but should mark the parents\r\n\r\n\t\tif (useDefaults) {\r\n\t\t\tthis._setDefaults();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic getID (): string {\r\n\t\treturn this._model.getID();\r\n\t}\r\n\r\n\tpublic getParent (): Entity {\r\n\t\treturn this._parent;\r\n\t}\r\n\r\n\tpublic setParent (parent : Entity): void {\r\n\t\tthis._parent = parent;\r\n\t}\r\n\r\n\tpublic getRegions (): Entity[][][] {\r\n\t\treturn this._regions;\r\n\t}\r\n\r\n\tpublic getRegionDimension (): Dimension {\r\n\t\treturn this._regionDimension;\r\n\t}\r\n\r\n\tpublic getType (): string {\r\n\t\treturn this._model.getType();\r\n\t}\r\n\r\n\tpublic setType (type: string) {\r\n\t\tthis._model.setType(type);\r\n\t}\r\n\r\n\tpublic setCollisionable(collisionable: boolean): void {\r\n\t\tthis._collisionable = collisionable;\r\n\t}\r\n\r\n\tpublic isCollisionable(): boolean {\r\n\t\treturn this._collisionable;\r\n\t}\r\n\r\n\tpublic getModel () : EntityModel {\r\n\t\treturn this._model;\r\n\t}\r\n\r\n\tpublic setModel (model : EntityModel): void {\r\n\t\tvar view = this._view;\r\n\t\tvar oldModel = this._model;\r\n\r\n\t\tif (oldModel) {\r\n\t\t\t// view.deattachListener(oldModel);\r\n\t\t\toldModel.removeListener(ModelEventTypes.ATTR_CHANGE.toString(), this._modelCB);\r\n\t\t}\r\n\r\n\t\tthis._model = model;\r\n\t\t// view.attachListener(model);\r\n\t\tmodel.on(ModelEventTypes.ATTR_CHANGE.toString(),  this._modelCB);\r\n\t}\r\n\r\n\tpublic getHeight () : number {\r\n\t\treturn this._model.getAttribute('height');\r\n\t}\r\n\r\n\tpublic setHeight (height: number): void {\r\n\t\tthis._model.setAttribute('height', height);\r\n\t\tthis._generateRegions();\r\n\t}\r\n\r\n\tpublic getWidth () : number {\r\n\t\treturn this._model.getAttribute('width');\r\n\t}\r\n\r\n\tpublic setWidth (width: number): void {\r\n\t\tthis._model.setAttribute('width', width);\r\n\t\tthis._generateRegions();\r\n\t}\r\n\r\n\tpublic getX (): number {\r\n        return this._model.getX();\r\n\t}\r\n\r\n\tpublic setX (x : number): void {\r\n        let oldCoordinates = this.getPosition();\r\n        this._model.setX(x);\r\n        let newCoordinates = this.getPosition();\r\n\r\n\t\tif (this._parent) {\r\n\t\t\tthis._parent._updateChildsRegion(this);\r\n\t\t}\r\n\r\n\t\tlet eventData : LocationUpdateEvent = {\r\n\t\t\ttype: EntityEventTypes.LOCATION_UPDATE.toString(),\r\n\t\t\toldCoordinates,\r\n\t\t\tnewCoordinates,\r\n\t\t\tsource: this\r\n\t\t} \r\n\r\n\t\tif (!this._eventEmitted) {\r\n\t\t\tthis._eventEmitted = true;\r\n\t\t\tthis.emit(EntityEventTypes.LOCATION_UPDATE.toString(), eventData);\r\n\t\t\tthis._eventEmitted = false;\r\n\t\t}\r\n    }\r\n\r\n    public getPosition(): Coordinate {\r\n        return this._model.getPosition();\r\n    }\r\n\r\n\tpublic setPosition (position: Coordinate): void {\r\n        let oldCoordinates = this.getPosition();\r\n\t\tthis._model.setPosition(position)\r\n\r\n\t\tif (this._parent) {\r\n\t\t\tthis._parent._updateChildsRegion(this);\r\n\t\t}\r\n\r\n\t\tlet eventData : LocationUpdateEvent = {\r\n\t\t\ttype: EntityEventTypes.LOCATION_UPDATE.toString(),\r\n            oldCoordinates,\r\n\t\t\tnewCoordinates: position,\r\n\t\t\tsource: this\r\n\t\t} \r\n\r\n\t\tthis.emit(EntityEventTypes.LOCATION_UPDATE.toString(), eventData);\r\n\t}\r\n\r\n\tpublic getX2 () : number {\r\n\t\treturn this.getX() + this.getWidth();\r\n\t}\r\n\r\n\tpublic getY (): number {\r\n        return this._model.getY();\r\n\t}\r\n\r\n\tpublic setY (y: number): void {\r\n        let oldCoordinates = this.getPosition();\r\n        this._model.setY(y);\r\n        let newCoordinates = this.getPosition();\r\n\r\n\t\tif (this._parent) {\r\n\t\t\tthis._parent._updateChildsRegion(this);\r\n\t\t}\r\n\r\n\t\tlet eventData : LocationUpdateEvent = {\r\n\t\t\ttype: EntityEventTypes.LOCATION_UPDATE.toString(),\r\n\t\t\toldCoordinates,\r\n\t\t\tnewCoordinates,\r\n\t\t\tsource: this\r\n\t\t}\r\n\r\n\t\tif (!this._eventEmitted) {\r\n\t\t\tthis._eventEmitted = true;\r\n\t\t\tthis.emit(EntityEventTypes.LOCATION_UPDATE.toString(), eventData);\r\n\t\t\tthis._eventEmitted = false;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic getY2 () : number {\r\n\t\treturn this.getY() + this.getHeight();\r\n\t}\r\n\r\n\tpublic getZ (): number {\r\n        return this._model.getZ();\r\n\t}\r\n\r\n\tpublic setZ (z: number): void {\r\n        this._model.setZ(z);\r\n\t}\r\n\r\n\tpublic getVisible () : boolean {\r\n\t\treturn this._model.getAttribute('visible');\r\n\t}\r\n\r\n\tpublic setVisible (state: boolean): void {\r\n\t\tthis._model.setAttribute('visible', state);\r\n\t}\r\n\r\n\tpublic getColor () : Color {\r\n\t\treturn <Color>this._model.getAttribute('color');\r\n\t}\r\n\r\n\tpublic setColor (color: Color): void {\r\n\t\tthis._model.setAttribute('color', color);\r\n\t}\r\n\r\n\tpublic getTexture () : Asset {\r\n\t\treturn this._model.getTexture();\r\n\t}\r\n\r\n\tpublic setTexture (asset  : Asset): void {\r\n\t\tif (asset.getType() !== AssetType.IMAGE) {\r\n\t\t\tthrow new Error('Texture asset must be of type IMAGE.');\r\n\t\t}\r\n\r\n\t\tthis._model.setTexture(asset);\r\n\t\tthis._setModified(true);\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * public isModified\r\n\t *\r\n\t *\tIndicates whether this Entity has been modified since the last render frame.\r\n\t * \r\n\t * @return {Boolean}\r\n\t */\r\n\t public isModified () : boolean {\r\n\t\treturn this._modified;\r\n\t }\r\n\r\n\t/**\r\n\t * public addChild\r\n\t *\r\n\t *\tAdds a child entity node to this entity.\r\n\t * \r\n\t * @param {zen.entities.Entity} child \r\n\t * @return {void}  \r\n\t */\r\n\t public addChild (child : Entity) : void {\r\n\t\tvar parent = child._parent;\r\n\t\tif (parent) {\r\n\t\t\tparent.removeChild(child);\r\n\t\t}\r\n\t\tthis._children.push(child);\r\n\t\tchild._parent = this;\r\n\r\n\t\t//Region Management\r\n\t\tthis._putChildInRegion(child);\r\n\t }\r\n\r\n\t/**\r\n\t * public removeChild\r\n\t *\r\n\t *\tRemoves a child entity node from this entity.\r\n\t * \r\n\t * @param  {zen.entities.Entity} child \r\n\t * @return {void}       \r\n\t */\r\n\t public removeChild (child : Entity) : void {\r\n\t\tif (this.isChild(child)) {\r\n\t\t\tvar idx = this.indexOf(child);\r\n\t\t\tthis._children.splice(idx, 1);\r\n\t\t}\r\n\r\n\t\t//Region Management\r\n\t\tthis._removeChildFromRegions(child);\r\n\t\tdelete this._regionList[child.getID()];\r\n\t }\t \r\n\r\n\t/**\r\n\t * public removeAllChildren\r\n\t *\r\n\t *\tRemoves all child nodes of this entity.\r\n\t * \r\n\t * @return {void} \r\n\t */\r\n\t public removeAllChildren () : void {\r\n\t\tvar child : Entity;\r\n\t\twhile (child = this.getChildAt(0)) {\r\n\t\t\tthis.removeChild(child);\t\r\n\t\t}\r\n\t }\r\n\r\n\t/**\r\n\t * public isChild\r\n\t *\r\n\t *\tChecks to see if the given entity is a child of\r\n\t *\tthis entity.\r\n\t * \r\n\t * @param  {zen.entities.Entity}  child \r\n\t * @return {Boolean}       \r\n\t */\r\n\t public isChild (child : Entity) : boolean {\r\n\t\treturn (this.indexOf(child) > -1);\r\n\t }\r\n\r\n\t/**\r\n\t * public indexOf\r\n\t *\r\n\t *\tFinds the index of the given entity.\r\n\t * \r\n\t * @param  {zen.entities.Entity} child \r\n\t * @return {Integer}       \r\n\t */\r\n\t public indexOf (child : Entity) : number {\r\n\t\treturn this._children.indexOf(child);\r\n\t }\r\n\r\n\t/**\r\n\t * public childCount\r\n\t *\r\n\t *\tCounts the number of child nodes inside this entity.\r\n\t * \r\n\t * @return {Integer} \r\n\t */\r\n\t public childCount () : number {\r\n\t\treturn this._children.length;\r\n\t }\r\n\r\n\t/**\r\n\t * public getChildAt\r\n\t *\r\n\t *\tGets a child entity at the given index.\r\n\t * \r\n\t * @param  {Integer} index \r\n\t * @return {zen.entities.Entity}       \r\n\t */\r\n\t public getChildAt (index: number) : Entity {\r\n\t\treturn this._children[index];\r\n\t }\r\n\r\n\t/**\r\n\t * private setModified\r\n\t *\r\n\t *\tSets whether this Entity has been modified since the last render\r\n\t *\tframe.\r\n\t * \r\n\t * @param {Boolean} state\r\n\t */\r\n\t private _setModified (state: boolean) : void {\r\n\t\tthis._modified = state;\r\n\t\tif (this._parent) {\r\n\t\t\tthis._parent._setModified(state);\r\n\t\t}\r\n\t }\r\n\r\n\t/**\r\n\t * public iterator DEPRECATED - use getChildren()\r\n\t *\r\n\t *\tCreates a child node iterator for this entity.\r\n\t * \r\n\t * @return {Object} {\r\n\t *         hasNext : function()\r\n\t *         next : function()\r\n\t *         hasPrevious : function()\r\n\t *         previous : function()\r\n\t * }\r\n\t */\r\n\t public iterator () : Iterator<Entity> {\r\n\t\treturn new Iterator<Entity>(this._children);\r\n\t }\r\n\r\n\t/**\r\n\t * public getChildren\r\n\t *\r\n\t *\tReturns an Iterator of Children.  Can pass\r\n\t *\tin a set of coordinates to get children in a specific\r\n\t *\tregion of coordinates relative to the entity (0,0 is top left of this entity).\r\n\t *\tIf only the starTCoordinate is specified, looks up children who intersect with that point.\r\n\t *\tIf both arguements are passed in, looks for children who intersect with the rect the coords create.\r\n\t *\tIf neither are provided, just returns an iterator of all children.\r\n\t *\r\n\t * Not recursive, only checks it's own children\r\n\t *\r\n\t *\r\n\t * @param {zen.data.Coordinate} startCoordinate, optional, The Starting coordinate to loop for children.  Passing only \r\n\t * this param in will look for children that intersect with this coordinate.\r\n\t * @param { zen.data.Coordinate} endCoordinate, optional, The End coordinate to loop for children.  Passing in this param\r\n\t * creates a region to look for children instead of just a specific point\r\n\t * @return Iterator\r\n\t */\r\n\t public getChildren (startCoordinate? : Coordinate, endCoordinate? : Coordinate) : Iterator<Entity> {\r\n\t\tif (startCoordinate && endCoordinate) { //Area Lookup\r\n\t\t\tvar startRegion : Coordinate = this._coordinateToRegion(startCoordinate);\r\n\t\t\tvar endRegion : Coordinate = this._coordinateToRegion(endCoordinate);\r\n\r\n\t\t\t//Loop through all regions in the coordinates and collect the children\r\n\t\t\tvar children : Entity[] = [];\r\n\r\n\t\t\tfor (var x = startRegion.getX(); x <= endRegion.getX(); x ++) {\r\n\t\t\t\tfor (var y = startRegion.getY(); y <= endRegion.getY(); y ++) {\r\n\t\t\t\t\tchildren = children.concat(this._getChildrenInRegion(new Coordinate(x, y)));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn new Iterator<Entity>(children);\r\n\t\t} else if (startCoordinate) { //Point Lookup\r\n\t\t\tvar region : Coordinate = this._coordinateToRegion(startCoordinate);\r\n\r\n\t\t\t//Loop through and determine who intersects with the point\r\n\t\t\tvar children : Entity[] = [];\r\n\r\n\t\t\tvar childrenIterator = new Iterator<Entity>(this._getChildrenInRegion(new Coordinate(region.getX(), region.getY())));\r\n\t\t\twhile(childrenIterator.hasNext()) {\r\n\t\t\t\tvar child : Entity = childrenIterator.next();\r\n\t\t\t\tvar childCoordinate : Coordinate = child.getPosition();\r\n\t\t\t\tvar childOuterCoordinate : Coordinate = child.getOuterPosition();\r\n\r\n\t\t\t\tif (childCoordinate.getX() <= startCoordinate.getX() && childCoordinate.getY() <= startCoordinate.getY()\r\n\t\t\t\t\t&& childOuterCoordinate.getX() >= startCoordinate.getX() && childOuterCoordinate.getY() >= startCoordinate.getY()) {\r\n\t\t\t\t\t//Intersects with the startCoordinate\r\n\t\t\t\t\tchildren.push(child);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn new Iterator<Entity>(children);\r\n\t\t} else { //All Lookup\r\n\t\t\treturn new Iterator<Entity>(this._children);\r\n\t\t}\r\n\t }\r\n\r\n\t public findChildren (startCoordinate? : Coordinate, endCoordinate? : Coordinate) : Entity[] {\r\n\t\tvar children : Entity[] = [];\r\n\r\n\t\tif (this._children.length > 0) {\r\n\t\t\t//Find the Region the coordinates belond to\r\n\t\t\tif (startCoordinate && !endCoordinate) {\r\n\t\t\t\tvar region : Coordinate = this._coordinateToRegion(startCoordinate);\r\n\t\t\t\tvar regionChildren : Entity[] = this._getChildrenInRegion(new Coordinate(region.getX(), region.getY()));\r\n\t\t\t\tif (regionChildren.length > 0) {\r\n\t\t\t\t\tvar childrenIterator = new Iterator<Entity>(regionChildren);\r\n\t\t\t\t\t// var childrenIterator = new zen.util.Iterator(this.children);\r\n\r\n\t\t\t\t\t//Loop through all children in that region to see if they intersect\r\n\t\t\t\t\twhile(childrenIterator.hasNext()) {\r\n\t\t\t\t\t\tvar iterChild : Entity = childrenIterator.next();\r\n\t\t\t\t\t\tlet childCoordinate : Coordinate = iterChild.getPosition();\r\n\t\t\t\t\t\tlet childOuterCoordinate : Coordinate = iterChild.getOuterPosition();\r\n\r\n\t\t\t\t\t\tif (childCoordinate.getX() <= startCoordinate.getX() && childCoordinate.getY() <= startCoordinate.getY()\r\n\t\t\t\t\t\t\t&& childOuterCoordinate.getX() >= startCoordinate.getX() && childOuterCoordinate.getY() >= startCoordinate.getY()) {\r\n\t\t\t\t\t\t\t//Intersects with the startCoordinate\r\n\t\t\t\t\t\t\tchildren.push(iterChild);\r\n\r\n\t\t\t\t\t\t\t//See if we can get a deeper child...\r\n\t\t\t\t\t\t\tlet deeperChildren = iterChild.findChildren(new Coordinate(startCoordinate.getX() - childCoordinate.getX(), startCoordinate.getY() - childCoordinate.getY()));\r\n\t\t\t\t\t\t\tif (deeperChildren) {\r\n\t\t\t\t\t\t\t\tchildren = children.concat(deeperChildren);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (startCoordinate && endCoordinate) {\r\n\t\t\t\tvar startRegion = this._coordinateToRegion(startCoordinate);\r\n\t\t\t\tvar endRegion = this._coordinateToRegion(endCoordinate);\r\n\t\t\t\tvar childrenVisited : Entity[] = [];\r\n\t\t\t\t//Loop through the regions\r\n\t\t\t\tfor (var x = startRegion.getX(); x <= endRegion.getX(); x ++) {\r\n\t\t\t\t\tfor (var y = startRegion.getY(); y <= endRegion.getY(); y ++) {\r\n\t\t\t\t\t\tvar regionChildren : Entity[] = this._getChildrenInRegion(new Coordinate(x, y));\r\n\r\n\t\t\t\t\t\tfor (var regionChildI in regionChildren) {\r\n\t\t\t\t\t\t\tvar regionChild : Entity = regionChildren[regionChildI];\r\n\r\n\t\t\t\t\t\t\tif (childrenVisited.indexOf(regionChild) === -1) {\r\n\t\t\t\t\t\t\t\tchildrenVisited.push(regionChild);\r\n\t\t\t\t\t\t\t\tlet childCoordinate : Coordinate = regionChild.getPosition();\r\n\t\t\t\t\t\t\t\tlet childOuterCoordinate : Coordinate = regionChild.getOuterPosition();\r\n\r\n\t\t\t\t\t\t\t\tvar xCollission = false;\r\n\t\t\t\t\t\t\t\tvar yCollision = false;\r\n\r\n\t\t\t\t\t\t\t\tif ((startCoordinate.getX() < childOuterCoordinate.getX() && endCoordinate.getX() > childCoordinate.getX())\r\n\t\t\t\t\t\t\t\t    || (endCoordinate.getX() > childCoordinate.getX() && startCoordinate.getX() < childOuterCoordinate.getX())) {\r\n\t\t\t\t\t\t\t\t    xCollission = true;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tif ((startCoordinate.getY() < childOuterCoordinate.getY() && endCoordinate.getY() > childCoordinate.getY())\r\n\t\t\t\t\t\t\t\t    || (endCoordinate.getY() > childCoordinate.getY() && startCoordinate.getY() < childOuterCoordinate.getY())) {\r\n\t\t\t\t\t\t\t\t     yCollision = true;\r\n\t\t\t\t\t\t\t\t }\r\n\r\n\t\t\t\t\t\t\t\tif (xCollission && yCollision) {\r\n\t\t\t\t\t\t\t\t    children.push(regionChild);\t\r\n\r\n\t\t\t\t\t\t\t\t    let deeperChildren = regionChild.findChildren(new Coordinate(startCoordinate.getX() - childCoordinate.getX(), startCoordinate.getY() - childCoordinate.getY()), new Coordinate(endCoordinate.getX() - childOuterCoordinate.getX(), endCoordinate.getY() - childOuterCoordinate.getY()))\r\n\t\t\t\t\t\t\t\t\tif (deeperChildren) {\r\n\t\t\t\t\t\t\t\t\t\tchildren = children.concat(deeperChildren);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn children;\r\n\t }\r\n\r\n\t/**\r\n\t * public findTopChildAt\r\n\t *\r\n\t * Tries to find the deepest child at the top most layer at this coordinates.\r\n\t * TODO: Update this to support Layers once we have layers...\r\n\t *\r\n\t * @param {Coordinate} [coordinate] [Coordinate relative to this entity to loop from]\r\n\t * @return Entity\r\n\t */\r\n\t public findTopChildAt (coordinate : Coordinate) : Entity|boolean {\r\n\t\tvar child : Entity | boolean = false;\r\n\r\n\t\t//Find the Region the coordinates belond to\r\n\t\tvar region = this._coordinateToRegion(coordinate);\r\n\t\tvar regionChildren = this._getChildrenInRegion(new Coordinate(region.getX(), region.getY()));\r\n\t\tvar childrenIterator = new Iterator<Entity>(regionChildren);\r\n\r\n\t\tchildrenIterator.setToEnd();\r\n\r\n\t\t//Loop through all children in that region to see if they intersect\r\n\t\twhile(childrenIterator.hasPrev() && !child) {\r\n\t\t\tvar iterChild : Entity = childrenIterator.prev();\r\n\t\t\tvar childCoordinate : Coordinate = iterChild.getPosition();\r\n\t\t\tvar childOuterCoordinate : Coordinate = iterChild.getOuterPosition();\r\n\r\n\t\t\tif (childCoordinate.getX() <= coordinate.getX() && childCoordinate.getY() <= coordinate.getY()\r\n\t\t\t\t&& childOuterCoordinate.getX() >= coordinate.getX() && childOuterCoordinate.getY() >= coordinate.getY()) {\r\n\t\t\t\t//Intersects with the startCoordinate\r\n\t\t\t\tchild = iterChild;\r\n\r\n\t\t\t\t//See if we can get a deeper child...\r\n\t\t\t\tvar deeperChild : boolean|Entity = iterChild.findTopChildAt(new Coordinate(coordinate.getX() - childCoordinate.getX(), coordinate.getY() - childCoordinate.getY()));\r\n\t\t\t\tif (deeperChild) {\r\n\t\t\t\t\tchild = deeperChild;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn child || false;\r\n\t }\r\n\r\n\t public getOuterPosition () : Coordinate {\r\n\t \treturn new Coordinate(this.getX2(), this.getY2());\r\n\t }\r\n\r\n\t public getAbsoluteY () : number {\r\n\t\tvar entity : Entity = this;\r\n\t\tvar y = 0;\r\n\t\twhile (entity) {\r\n\t\t\ty += entity.getY();\r\n\t\t\tentity = entity._parent;\r\n\t\t}\r\n\t\treturn y;\r\n\t }\r\n\r\n\t public getAbsoluteY2 () : number {\r\n\t\treturn this.getAbsoluteY() + this.getHeight();\r\n\t }\r\n\r\n\t public getAbsoluteX () : number {\r\n\t\tvar entity : Entity = this;\r\n\t\tvar x = 0;\r\n\t\twhile (entity) {\r\n\t\t\tx += entity.getX();\r\n\t\t\tentity = entity._parent;\r\n\t\t}\r\n\t\treturn x;\r\n\t }\r\n\r\n\t public getAbsoluteX2 () : number {\r\n\t\treturn this.getAbsoluteX() + this.getWidth();\r\n\t }\r\n\r\n\t public setSize (dimension : Dimension) : void {\r\n\t \tthis._setModified(true);\r\n\t \tthis.setWidth(dimension.width);\r\n\t \tthis.setHeight(dimension.height);\r\n\t }\r\n\r\n\t public getSize () : Dimension {\r\n\t \treturn {width: this.getWidth(), height: this.getHeight()};\r\n\t }\r\n\r\n\t/**\r\n\t * private _setDefaults\r\n\t *\r\n\t *\tSets the default attributes for this entity.\r\n\t * \r\n\t * @return {void} \r\n\t */\r\n     private _setDefaults(): void {\r\n\t\tthis.setPosition(new Coordinate(0, 0));\r\n\t\tthis.setSize({width: 0, height: 0});\r\n\t\tthis.setVisible(true);\r\n\t\t// this.setColor(0,0,0,0);\r\n\t }\r\n\r\n\t/**\r\n\t * private _generateRegions\r\n\t *\r\n\t *\tGenetates regions of children to make searches more efficient\r\n\t * \r\n\t * @return {void} \r\n\t */\r\n\t private _generateRegions () : void {\r\n\t\tthis._regions = []; //Start fresh\r\n\t\tthis._regionList = {};\r\n\r\n\t\t//Pref we want 100 by 100 region, try to aim as close to it as we can\r\n\t\tif (this.getWidth() <= 100) {\r\n\t\t\tvar regionWidth = this.getWidth() / 2;\r\n\t\t} else {\r\n\t\t\tvar regionWidth = 50;\r\n\r\n\t\t}\r\n\r\n\t\tif (this.getHeight() <= 100) {\r\n\t\t\tvar regionHeight = this.getHeight() / 2;\r\n\t\t} else {\r\n\t\t\tvar regionHeight = 50;\r\n\t\t}\r\n\r\n\t\tthis._regionDimension = {width: regionWidth, height: regionHeight};\r\n\r\n\t\t//Generate the Arrays\r\n\t\tvar xCount = Math.ceil(this.getWidth() / regionWidth);\r\n\t\tvar yCount = Math.ceil(this.getHeight() / regionHeight);\r\n\r\n\t\tfor (var x = 0; x < xCount; x ++) {\r\n\t\t\tthis._regions[x] = [];\r\n\t\t\tfor (var y = 0; y < yCount; y ++) {\r\n\t\t\t\tthis._regions[x][y] = [];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//Populate Arrays\r\n\t\tvar childrenIterator = this.iterator();\r\n\t\twhile (childrenIterator.hasNext()) {\r\n\t\t\tthis._putChildInRegion(childrenIterator.next());\r\n\t\t}\r\n\t }\r\n\r\n\t private _putChildInRegion (child: Entity) : void {\r\n         // console.log(\"Generating start region\");\r\n         var startRegion = this._coordinateToRegion(child.getPosition());\r\n\t\t// console.log(\"Generator end region\");\r\n\t\tvar endRegion = this._coordinateToRegion(new Coordinate(child.getX2(), child.getY2()));\r\n\r\n\t\tthis._regionList[child.getID()] = [];\r\n\r\n\t\tif (!isNaN(startRegion.getX()) && !isNaN(startRegion.getY()) && !isNaN(endRegion.getX()) && !isNaN(endRegion.getY())) {\r\n\t\t\t//Compare both Regions and add the entity to those regions, and all in between\r\n\t\t\tfor (var x = startRegion.getX(); x <= endRegion.getX(); x ++) {\r\n\t\t\t\tif (this._regions[x]) { //Overflow protection\r\n\t\t\t\t\tfor (var y = startRegion.getY(); y <= endRegion.getY(); y ++) {\r\n\t\t\t\t\t\tif (this._regions[x][y]) { //Overflow Protection\r\n\t\t\t\t\t\t\tthis._regions[x][y].push(child);\r\n\t\t\t\t\t\t\tthis._regionList[child.getID()].push(new Coordinate(x, y));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// zen.app.getLogManager().log(zen.util.LogManager.WARNING, \"Unable to put child into region - Out of Bounds\", child);\r\n\t\t}\r\n\t }\r\n\r\n\t private _getChildrenInRegion (regionCoordinate : Coordinate) : Entity[] {\r\n\t\tif (this._regions[regionCoordinate.getX()] && this._regions[regionCoordinate.getX()][regionCoordinate.getY()]) {\r\n\t\t\treturn this._regions[regionCoordinate.getX()][regionCoordinate.getY()];\r\n\t\t} else {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t }\r\n\r\n\t private _removeChildFromRegions (child: Entity) : void {\r\n\t\t//Clear Child out of existing regions\r\n\t\tif (this._regionList[child.getID()])  {\r\n\t\t\tfor (var i in this._regionList[child.getID()]) {\r\n\t\t\t\tvar coord = this._regionList[child.getID()][i];\r\n\t\t\t\tthis._regions[coord.getX()][coord.getY()].splice(this._regions[coord.getX()][coord.getY()].indexOf(child), 1);\r\n\t\t\t}\r\n\t\t}\r\n\t }\r\n\r\n\t private _updateChildsRegion (child: Entity) : void {\r\n\t\tthis._removeChildFromRegions(child);\r\n\r\n\t\t//Add it back into new regions\r\n\t\tthis._putChildInRegion(child);\r\n\t }\r\n\r\n\t private _coordinateToRegion (coordinate: Coordinate) : Coordinate {\r\n\t\t// console.log('Coordinate To Region', coordinate);\r\n\t\t// console.log('Region Dimension', this.regionDimension);\r\n\t\tvar x = Math.floor(coordinate.getX() / this._regionDimension.width);\r\n\t\tvar y = Math.floor(coordinate.getY() / this._regionDimension.height);\r\n\t\t// console.log('Region Coordinates', new zen.data.Coordinate(x, y));\r\n\t\treturn new Coordinate(x, y);\r\n\t }\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/entities/Entity.ts","import * as Events from 'events';\r\nimport {EntityModel, ModelEventTypes, AttrChangeEvent} from \"./\";\r\n\r\nexport class EntityView extends Events.EventEmitter {\r\n\tprotected _visible : boolean;\r\n\t// private _notifyCallback : {(attribute: string, value: any) : void};\r\n\tprotected _bindedFuncs :  {[key: string] : (event: Event) => void};\r\n\tprotected _model : EntityModel;\r\n\r\n\tpublic constructor (model: EntityModel) {\r\n\t\tsuper();\r\n\t\tthis._visible = true;\r\n\t\tthis._model = model;\r\n\t\tthis._bindedFuncs = {};\r\n\r\n\t\t// this._notifyCallback = (data: any) => {this.notify(data)}\r\n\t\tthis._attachEvents();\r\n\r\n\r\n\t}\r\n\r\n\tpublic setVisible (visible: boolean): void {\r\n\t\tthis._visible = visible;\r\n\t}\r\n\r\n\tpublic getVisible (): boolean {\r\n\t\treturn this._visible;\r\n\t}\r\n\r\n\tpublic setModel (model: EntityModel): void {\r\n\t\tif (this._model) {\r\n\t\t\tthis._detachEvents();\r\n\t\t}\r\n\t\tthis._model = model;\r\n\t\tthis._attachEvents();\r\n\t}\r\n\r\n\tprivate _handleAttrChange (e: AttrChangeEvent) : void {\r\n\t\t//Do stuff\r\n\t\t// console.log(this.visible);\r\n\t\t// this._detachEvents();\r\n\t}\r\n\r\n\tprivate _attachEvents () : void {\r\n\t\tthis._model.on(ModelEventTypes.ATTR_CHANGE.toString(), (this._bindedFuncs[ModelEventTypes.ATTR_CHANGE.toString()] = this._handleAttrChange.bind(this)));\r\n\t\t\r\n\t\t// model.sync(this);\t\r\n\t}\r\n\r\n\tprivate _detachEvents () : void {\r\n\t\tthis._model.removeListener(ModelEventTypes.ATTR_CHANGE.toString(), this._bindedFuncs[ModelEventTypes.ATTR_CHANGE.toString()]);\r\n\t\t// this._clear();\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/entities/EntityView.ts","//Global interface alias\nexport type NativeGamepadEvent = GamepadEvent;\nexport type NativeGamepad = Gamepad;\nexport type NativeGamepadButton = GamepadButton;\n\nimport * as Events from 'events';\nimport { Event, Coordinate } from \"../interfaces\";\n\nexport const enum GamePadEvents {\n    ButtonValueChange = \"BUTTONVALUECHANGE\",\n    AxisValueChange = \"AXISVALUECHANGE\",\n    Disconnect = \"DISCONNECT\"\n}\n\nexport interface ValueChangeEvent extends Event {\n    value: number,\n    id: number\n}\n\nexport type GamePadButton = NativeGamepadButton;\n\n/**\n * Represents a single Gamepad the user has plugged in.  May only be detected once the user hits a key.  Have an array of axes, and buttons, for the Gamepad.\n */\nexport class GamePad extends Events.EventEmitter {\n    private _pollRate: number = 15;\n    private _pollTimer: number;\n    private _gamePadID: number;\n    private _buttons: Number[] = [];\n    private _axes: number[] = [];\n\n    constructor(id: number) {\n        super();\n\n        this._gamePadID = id;\n        let gamePad: NativeGamepad = navigator.getGamepads()[id];\n\n        //Build an array of buttons & axes for this GamePad\n        for (var i = 0; i < gamePad.buttons.length; i++) {\n            this._buttons.push(gamePad.buttons[i].value);\n        }\n\n        for (var i = 0; i < gamePad.axes.length; i++) {\n            this._axes.push(gamePad.axes[i]);\n        }\n\n        this._initializePolling();\n    }\n\n    public getAxis(index: number): number {\n        return this._axes[index];\n    }\n\n    public setPollRate(pollRate: number): void {\n        this._pollRate = pollRate;\n        this._initializePolling();\n    }\n\n    private _initializePolling(): void {\n        if (this._pollTimer) {\n            clearInterval(this._pollTimer);\n        }\n        this._pollTimer = setInterval(this._poll.bind(this), this._pollRate); \n    }\n\n    private _poll(): void {\n        let gamePad: NativeGamepad = navigator.getGamepads()[this._gamePadID];\n\n        //Gamepad no longer exists, it was disconnected\n        if (!gamePad) {\n            this._disconnect();\n            return null;\n        }\n\n        //Compare Button Values\n        for (var i = 0; i < gamePad.buttons.length; i++) {\n            if (gamePad.buttons[i].value != this._buttons[i]) {\n                this._buttons[i] = gamePad.buttons[i].value;\n                let e: ValueChangeEvent = {\n                    source: this,\n                    type: GamePadEvents.ButtonValueChange,\n                    value: gamePad.buttons[i].value,\n                    id: i\n                }\n                this.emit(GamePadEvents.ButtonValueChange, e);\n            }\n        }\n\n        //Compare Axes Values\n        for (var i = 0; i < gamePad.axes.length; i++) {\n            if (gamePad.axes[i] != this._axes[i]) {\n                this._axes[i] = gamePad.axes[i];\n                let e: ValueChangeEvent = {\n                    source: this,\n                    type: GamePadEvents.AxisValueChange,\n                    value: gamePad.axes[i],\n                    id: i\n                }\n                this.emit(GamePadEvents.AxisValueChange,e);\n            }\n        }\n    }\n\n    private _disconnect(): void {\n        clearInterval(this._pollTimer);\n        let e: Event = {\n            source: this,\n            type: GamePadEvents.AxisValueChange\n        }\n        this.emit(GamePadEvents.Disconnect, e);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/inputs/GamePad.ts","import * as Events from 'events';\nimport { NativeTouch, TouchList, TouchEvent } from \"./NativeTouchEvent\";\nimport { Event, Coordinate } from \"../interfaces\";\n\nexport const enum TouchEvents {\n    TouchMoved = \"TOUCHMOVED\",\n    TouchRemoved = \"TOUCHREMOVED\"\n};\n\nexport interface TouchMoveEvent extends Event {\n    position: Coordinate\n};\n\n/**\n * Represents a single touch or 'finger' of the screen touching the screen\n */\nexport class Touch extends Events.EventEmitter {\n    private _id: number;\n    private _x: number;\n    private _y: number;\n    private _touchMoveListener: (touchEvent: TouchEvent) => void;\n    private _touchEndListener: (touchEvent: TouchEvent) => void;\n\n    constructor(nTouch: NativeTouch) {\n        super();\n        this._id = nTouch.identifier;\n        this._x = nTouch.pageX;\n        this._y = nTouch.pageY;\n\n        window.addEventListener(\"touchmove\", this._touchMoveListener = this._onTouchMove.bind(this));\n        window.addEventListener(\"touchend\", this._touchEndListener = this._onTouchEnd.bind(this));\n    }\n    public getID(): number {\n        return this._id;\n    }\n    public getX(): number {\n        return this._x;\n    }\n    public getY(): number {\n        return this._y;\n    }\n\n    private _onTouchEnd(e: TouchEvent) {\n        for (var i = 0; i < e.changedTouches.length; i++) {\n            var nTouch = e.changedTouches.item(i);\n            if (nTouch.identifier === this._id) {\n                this._disconnect();\n            }\n        }\n    }\n\n    private _onTouchMove(e: TouchEvent) {\n        for (var i = 0; i < e.changedTouches.length; i++) {\n            var nTouch = e.changedTouches.item(i);\n            if (nTouch.identifier === this._id && (nTouch.pageX != this._x || nTouch.pageY != this._y)) {\n                this._x = nTouch.pageX;\n                this._y = nTouch.pageY;\n\n                let e: TouchMoveEvent = {\n                    type: TouchEvents.TouchMoved,\n                    source: this,\n                    position: {\n                        x: this._x,\n                        y: this._y\n                    }\n                }\n\n                this.emit(TouchEvents.TouchMoved, e);\n            }\n        }\n    }\n\n    private _disconnect() {\n        let e: Event = {\n            source: this,\n            type: TouchEvents.TouchRemoved\n        }\n        this.emit(TouchEvents.TouchRemoved, e);\n        window.removeEventListener(\"touchmove\", this._touchMoveListener);\n        window.removeEventListener(\"touchend\", this._touchEndListener);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/inputs/Touch.ts","module.exports = \"data:audio/mpeg;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./resources/boop.mp3\n// module id = 21\n// module chunks = 1","/// <reference path=\"../../src/assets/WebpackAssetSupport.d.ts\" />\r\n/// <reference path=\"../../src/core/CodeSplitSupport.d.ts\" />\r\n\r\nimport {Engine} from '../../src/core';\r\nimport {Entity, LocationUpdateEvent} from '../../src/entities';\r\nimport {TwoDimensionalRenderingEngine, GroupLogicEngine} from '../../src/engines';\r\nimport {Camera, CollisionEmitter, Color, Coordinate} from '../../src/utils';\r\nimport {Mouse, MouseMoveEvent, MouseEvents} from '../../src/inputs';\r\nimport {Asset, AssetType, AssetGroupLoader, AssetGroupDefinition, AssetGroup} from '../../src/assets';\r\nimport * as BallTexture from './resources/ball.png';\r\nimport * as LoadingTexture from './resources/LoadingView.png';\r\nimport * as boopSound from './resources/boop.mp3';\r\n\r\nimport {Map, MapItem} from './Map';\r\nimport {Map1} from './Map1';\r\nimport {Vector2D} from './Vector2D';\r\nimport {PlayList} from './Playlist';\r\n\r\nconst DEFAULT_SPEED: number = 3;\r\nconst DEFAULT_DIRECTION: Vector2D = new Vector2D(0, -1);\r\nconst SPEED_STEP = 0.5;\r\n\r\nclass BlockBuster extends Engine {\r\n    private blocks: Array<Entity>;\r\n    private collisionEmitter: CollisionEmitter;\r\n    private ball: Entity;\r\n    private player: Entity;\r\n    private activeScene: Entity;\r\n    private gameScene: Entity;\r\n    private camera: Camera;\r\n    private direction: Vector2D;\r\n    private speed: number;\r\n    private paused: boolean; \r\n    private blocksDestroyed: number;\r\n    private _gameAssets: AssetGroup;\r\n    private _playlist: PlayList;\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this.paused = true;\r\n        this.blocksDestroyed = 0;\r\n\r\n        this.getViewPort().setSize({\r\n            width: 800,\r\n            height: 600\r\n        });\r\n        this.setRenderingEngine(new TwoDimensionalRenderingEngine());\r\n        this.setLogicEngine(new GroupLogicEngine());\r\n\r\n        this.collisionEmitter = new CollisionEmitter();\r\n        this.blocks = this._generateBlockMap(Map1);\r\n        \r\n        this.ball = new Entity();\r\n        this.ball.setWidth(16);\r\n        this.ball.setHeight(16);\r\n        \r\n        var ballTexture: Asset = this.getAssetFactory().build(AssetType.IMAGE, BallTexture);\r\n        ballTexture.load().then(() => {\r\n            this.ball.setTexture(ballTexture);\r\n        });\r\n\r\n        this.player = new Entity();\r\n        this.player.setColor(new Color(255,255,255));\r\n        this.player.setWidth(64);\r\n        this.player.setHeight(16);\r\n\r\n        this.player.setY(600 - this.player.getHeight() - 50);\r\n        this.player.setX(800 / 2 - this.player.getWidth() / 2);\r\n\r\n        this.ball.setX(this.player.getX() + this.player.getWidth() /2);\r\n        this.ball.setY(this.player.getY() - 50);\r\n\r\n        this.gameScene = new Entity();\r\n        this.gameScene.setColor(new Color(0,0,0));\r\n        this.gameScene.setWidth(800);\r\n        this.gameScene.setHeight(600);\r\n\r\n        for (var i: number = 0; i < this.blocks.length; i++) {\r\n            this.gameScene.addChild(this.blocks[i]);\r\n            this.collisionEmitter.addEntity(this.blocks[i]);\r\n        }\r\n\r\n        this.gameScene.addChild(this.player);\r\n        this.gameScene.addChild(this.ball);\r\n        \r\n        this.camera = new Camera(this._getLoadingScene(), null, {\r\n            width : this.gameScene.getWidth(),\r\n            height : this.gameScene.getHeight()\r\n        }, null, {\r\n            width : this.gameScene.getWidth(),\r\n            height : this.gameScene.getHeight()\r\n        });\r\n\r\n        this.getRenderingEngine().addCamera(this.camera);\r\n\r\n        this.collisionEmitter.addCollisionListener(this._ballCollide.bind(this));\r\n        this.collisionEmitter.addEntity(this.player);\r\n        this.collisionEmitter.addEntity(this.ball);\r\n\r\n        this.direction = DEFAULT_DIRECTION;\r\n        this.speed = DEFAULT_SPEED;\r\n\r\n        this.getLogicEngine().addLogic('move_player', this._updatePlayerPosition.bind(this), 25);\r\n        this.getLogicEngine().addLogic('ball_move', this._moveBall.bind(this), 25);\r\n\r\n        var boop: Asset = this.getAssetFactory().build(AssetType.AUDIO, boopSound);\r\n        boop.load().then(() => {\r\n            this.getAudioEngine().addAudio('boop', boop, 8);\r\n        });\r\n    }\r\n\r\n    private _setPlaylist(playListAssets: Array<Asset>): void {\r\n        this._playlist = new PlayList('pl', playListAssets);\r\n        this._playlist.playNext();\r\n    }\r\n\r\n    private _getLoadingScene(): Entity {\r\n        var view: Entity = new Entity();\r\n        view.setSize({\r\n            width: 800,\r\n            height: 600\r\n        });\r\n\r\n        var asset: Asset = this.getAssetFactory().build(AssetType.IMAGE, LoadingTexture);\r\n        asset.load();\r\n\r\n        var loader: AssetGroupLoader = new AssetGroupLoader();\r\n        require.ensure(['./resources.ts'], (require) => {\r\n            var resources: AssetGroupDefinition = require('./resources.ts');\r\n            this._gameAssets = loader.loadFromMemory(resources);\r\n            this._gameAssets.load().then(() => {\r\n                this._setPlaylist([\r\n                    // this._gameAssets.getAsset('bgm1'),\r\n                    this._gameAssets.getAsset('bgm2'),\r\n                    this._gameAssets.getAsset('bgm3')\r\n                ]);\r\n                this._setActiveScene(this._getStartScreen());\r\n            });\r\n        });\r\n\r\n        view.setTexture(asset);\r\n        return view;\r\n    }\r\n\r\n    private _getStartScreen(): Entity {\r\n        var view: Entity = new Entity();\r\n        view.setSize({\r\n            width: 800,\r\n            height: 600\r\n        });\r\n\r\n        view.setTexture(this._gameAssets.getAsset('startGameTexture'));\r\n\r\n        var startGameHotspot: Entity = new Entity();\r\n        // startGameHotspot.setColor(Color.fromString('red'));\r\n        startGameHotspot.setPosition(new Coordinate(250, 500));\r\n        startGameHotspot.setSize({\r\n            width: 400,\r\n            height: 80\r\n        });\r\n\r\n        var onClick = (e: any) => {\r\n            var child: Entity | boolean = view.findTopChildAt(new Coordinate(e.x, e.y));\r\n\r\n            if (child instanceof Entity && child === startGameHotspot) {\r\n                Mouse.getInstance().removeListener(MouseEvents.LeftButtonUp, onClick);\r\n                this._setActiveScene(this.gameScene);\r\n                this.paused = false;\r\n            }\r\n            else {\r\n                // Do nothing\r\n            }\r\n        };\r\n\r\n        Mouse.getInstance().on(MouseEvents.LeftButtonUp, onClick);\r\n\r\n        view.addChild(startGameHotspot);\r\n\r\n        return view;\r\n    }\r\n\r\n    private _getGameWonScreen(): Entity {\r\n        var view: Entity = new Entity();\r\n        view.setSize({\r\n            width: 800,\r\n            height: 600\r\n        });\r\n\r\n        view.setTexture(this._gameAssets.getAsset('gameWonTexture'));\r\n\r\n        var startGameHotspot: Entity = new Entity();\r\n        // startGameHotspot.setColor(Color.fromString('red'));\r\n        startGameHotspot.setPosition(new Coordinate(250, 450));\r\n        startGameHotspot.setSize({\r\n            width: 400,\r\n            height: 80\r\n        });\r\n\r\n        var onClick = (e: any) => {\r\n            var child: Entity | boolean = view.findTopChildAt(new Coordinate(e.x, e.y));\r\n\r\n            if (child instanceof Entity && child === startGameHotspot) {\r\n                Mouse.getInstance().removeListener(MouseEvents.LeftButtonUp, onClick);\r\n                this._reset();\r\n            }\r\n            else {\r\n                // Do nothing\r\n            }\r\n        };\r\n\r\n        Mouse.getInstance().on(MouseEvents.LeftButtonUp, onClick);\r\n\r\n        view.addChild(startGameHotspot);\r\n\r\n        return view;\r\n    }\r\n\r\n    private _getGameLostScreen(): Entity {\r\n        var view: Entity = new Entity();\r\n        view.setSize({\r\n            width: 800,\r\n            height: 600\r\n        });\r\n\r\n        view.setTexture(this._gameAssets.getAsset('gameLostTexture'));\r\n\r\n        var startGameHotspot: Entity = new Entity();\r\n        // startGameHotspot.setColor(Color.fromString('red'));\r\n        startGameHotspot.setPosition(new Coordinate(250, 450));\r\n        startGameHotspot.setSize({\r\n            width: 400,\r\n            height: 80\r\n        });\r\n\r\n        var onClick = (e: any) => {\r\n            var child: Entity | boolean = view.findTopChildAt(new Coordinate(e.x, e.y));\r\n\r\n            if (child instanceof Entity && child === startGameHotspot) {\r\n                Mouse.getInstance().removeListener(MouseEvents.LeftButtonUp, onClick);\r\n                this._reset();\r\n            }\r\n            else {\r\n                // Do nothing\r\n            }\r\n        };\r\n\r\n        Mouse.getInstance().on(MouseEvents.LeftButtonUp, onClick);\r\n\r\n        view.addChild(startGameHotspot);\r\n\r\n        return view;\r\n    }\r\n\r\n    private _setActiveScene(view: Entity): void {\r\n        this.camera.setScene(view);\r\n    }\r\n\r\n    private _reset(): void {\r\n        this.blocksDestroyed = 0;\r\n        this.paused = true;\r\n        this.direction = DEFAULT_DIRECTION;\r\n        this.speed = DEFAULT_SPEED;\r\n\r\n        for (var i: number = 0; i < this.blocks.length; i++) {\r\n            this.gameScene.addChild(this.blocks[i]);\r\n            this.collisionEmitter.addEntity(this.blocks[i]);\r\n        }\r\n\r\n        if (this.player.getParent()) {\r\n            this.player.getParent().removeChild(this.player);\r\n        }\r\n\r\n        if (this.ball.getParent()) {\r\n            this.ball.getParent().removeChild(this.ball);\r\n        }\r\n\r\n        this.player.setY(600 - this.player.getHeight() - 50);\r\n        this.player.setX(800 / 2 - this.player.getWidth() / 2);\r\n\r\n        this.ball.setX(this.player.getX() + this.player.getWidth() /2);\r\n        this.ball.setY(this.player.getY() - 50);\r\n\r\n        this.gameScene.addChild(this.player);\r\n        this.gameScene.addChild(this.ball);\r\n\r\n        this._setActiveScene(this.gameScene);\r\n\r\n        this.paused = false;\r\n    }\r\n\r\n    private _onGameWin(): void {\r\n        this.paused = true;\r\n        this._setActiveScene(this._getGameWonScreen());\r\n    }\r\n\r\n    private _onGameOver(): void {\r\n        this.paused = true;\r\n        this._setActiveScene(this._getGameLostScreen());\r\n    }\r\n\r\n    private _moveBall(): void {\r\n        if (this.paused) {\r\n            return;\r\n        }\r\n\r\n        var ballPos: Coordinate = this.ball.getPosition();\r\n\r\n        ballPos.incrementX(this.speed * Math.cos(this.direction.getAngle()));\r\n        ballPos.incrementY(this.speed * Math.sin(this.direction.getAngle()));\r\n\r\n        if (ballPos.getX() < 0) {\r\n            ballPos.setX(1);\r\n\r\n            var normal: Vector2D = new Vector2D(0, 1);\r\n            var dirNormal: Vector2D = this.direction.normal();\r\n\r\n            this.direction = dirNormal.reflect(normal);\r\n        }\r\n        else if (ballPos.getX() + this.ball.getWidth() > this.getViewPort().getSize().width) {\r\n            ballPos.setX(this.getViewPort().getSize().width - this.ball.getWidth() - 1);\r\n            var normal: Vector2D = new Vector2D(0, 1);\r\n            var dirNormal: Vector2D = this.direction.normal();\r\n\r\n            this.direction = dirNormal.reflect(normal);            \r\n        }\r\n\r\n        if (ballPos.getY() < 0) {\r\n            ballPos.setY(1);\r\n            var normal: Vector2D = new Vector2D(1, 0);\r\n            var dirNormal: Vector2D = this.direction.normal();\r\n\r\n            this.direction = dirNormal.reflect(normal);            \r\n        }\r\n        else if (ballPos.getY() > this.getViewPort().getSize().height) {\r\n            this._onGameOver();\r\n        }\r\n\r\n        this.ball.setPosition(ballPos);\r\n    }\r\n\r\n    private _updatePlayerPosition(): void {\r\n        var coords: Coordinate = Mouse.getInstance().getCurrentCoordinates();\r\n\r\n        var x: number = coords.getX() - (this.player.getWidth() / 2);\r\n        this.player.setX(x);\r\n    }\r\n\r\n    private _ballCollide(e1: Entity, e2: Entity, event: LocationUpdateEvent): void {\r\n        var ball: Entity;\r\n        var block: Entity;\r\n\r\n        if (e1 === this.ball) {\r\n            ball = e1;\r\n            block = e2;\r\n        }\r\n        else {\r\n            ball = e2;\r\n            block = e1;\r\n        }\r\n\r\n        var ballX: number = ball.getX() + ball.getWidth() / 2;\r\n        var dirNormal: Vector2D = this.direction.normal();;\r\n\r\n        if (this.player === block) {\r\n\r\n            var blockX1: number = block.getX();\r\n            var blockX2: number = block.getX2();\r\n    \r\n            var ratio: number = (ballX - blockX1) / (blockX2 - blockX1);\r\n            if (ratio < 0.1) {\r\n                ratio = 0.1;\r\n            }\r\n            else if (ratio > 0.9) {\r\n                ratio = 0.9;\r\n            }\r\n\r\n            var radians: number = ((180 * ratio) + 180) * Math.PI / 180;\r\n            \r\n            this.direction = new Vector2D(1, 0).rotate(radians);\r\n        }\r\n        else {\r\n            this.getAudioEngine().playAudio('boop');\r\n\r\n            var normal: Vector2D;\r\n\r\n            if (ballX >= block.getX() && ballX <= block.getX2()) {\r\n                normal = new Vector2D(1,0);\r\n            }\r\n            else {\r\n                normal = new Vector2D(0,1);\r\n            }\r\n\r\n            this.direction = dirNormal.reflect(normal);\r\n        \r\n            this.gameScene.removeChild(block);\r\n            this.collisionEmitter.removeEntity(block);\r\n            this.blocksDestroyed++;\r\n        }\r\n\r\n        if (this.blocksDestroyed === this.blocks.length) {\r\n            this._onGameWin();\r\n        }\r\n        else {\r\n            console.log(this.blocksDestroyed, this.blocks.length);\r\n        }\r\n\r\n        // Every 3 blocks destroyed, increment speed by SPEED_STEP.\r\n        this.speed = DEFAULT_SPEED + (Math.floor(this.blocksDestroyed / 3) * SPEED_STEP);\r\n    }\r\n\r\n    private _generateBlockMap(map: Map): Array<Entity> {\r\n        var blocks: Array<Entity> = [];\r\n\r\n        for (var i: number = 0; i < map.blocks.length; i++) {\r\n            var block: MapItem = map.blocks[i];\r\n\r\n            var entity: Entity = new Entity();\r\n            entity.setColor(block.color);\r\n            entity.setX(block.x);\r\n            entity.setY(block.y);\r\n            entity.setWidth(block.width);\r\n            entity.setHeight(block.height);\r\n            blocks.push(entity);\r\n        }\r\n\r\n        return blocks;\r\n    }\r\n}\r\n\r\n// (<any>window).test = function(): void {\r\n//     var normal = new Vector2D(4, 0);\r\n//     var direction = new Vector2D(1, 1);\r\n\r\n//     var x = 2 * ()\r\n// };\r\n\r\n(<any>window).BlockBuster = new BlockBuster();\n\n\n// WEBPACK FOOTER //\n// ./BlockBuster.ts","import {ViewPort, Camera, LogManager, SeverityEnum} from '../utils';\r\nimport {AudioEngine, HTML5AudioEngine} from '../audio';\r\nimport {AssetFactory,AssetType,\tAssetState} from '../assets';\r\nimport {RenderingEngine,GroupLogicEngine,TwoDimensionalRenderingEngine, LogicEngine} from '../engines';\r\nimport {setInstance} from './Instance';\r\n\r\n//Typescript Testing Imports\r\n// import {GridMap,Entity} from '../entities';\r\n//import {ControllerFactory} from '../inputs';\r\n// import {Animation,Spritesheet} from '../assets';\r\n// import {CollisionEmitter} from '../utils';\r\n//End//\r\n\r\nexport default class Engine {\r\n\tprivate _renderingEngine : RenderingEngine;\r\n\tprivate _audioEngine : AudioEngine;\r\n\tprivate _logManager : LogManager;\r\n\tprivate _assetFactory : AssetFactory;\r\n\tprivate _logicEngine : LogicEngine;\r\n\tprivate _viewPort : ViewPort;\r\n\tprivate _debugMode : boolean;\r\n\r\n\tpublic constructor () {\r\n\t\tsetInstance(this);\r\n\r\n\t\tthis._debugMode = false;\r\n\r\n\t\tthis._logManager = LogManager.getSingleton();\r\n\r\n\t\t//Setup the default AssetFactory\r\n\t\tthis._assetFactory = AssetFactory.getSingleton();\r\n\r\n\t\tthis._audioEngine = new HTML5AudioEngine();\r\n\r\n\t\t//Create the ViewPort\r\n\t\tthis._viewPort = new ViewPort();\r\n\r\n\t\tthis._logManager.log(SeverityEnum.INFO, 'Engine has started.');\r\n\t}\r\n\r\n\tpublic isDebugEnabled(): boolean {\r\n\t\treturn this._debugMode;\r\n\t}\r\n\r\n\tpublic setRenderingEngine(renderingEngine: RenderingEngine): void {\r\n\t\tif (this._renderingEngine) {\r\n\t\t\t//Stop the old rendering engine\r\n\t\t}\r\n\r\n\t\tthis._renderingEngine = renderingEngine;\r\n\r\n\t\t//Start the new Rendering engine, pass in View Port, etc...\r\n\t\tthis._renderingEngine.setViewPort(this._viewPort);\r\n\t\tthis._renderingEngine.startRendering();\r\n\t}\r\n\r\n\tpublic getRenderingEngine(): RenderingEngine {\r\n\t\treturn this._renderingEngine;\r\n\t}\r\n\r\n\tpublic setLogManager(logManager: LogManager): void {\r\n\t\tthis._logManager = logManager;\r\n\t}\r\n\r\n\tpublic getLogManager(): LogManager {\r\n\t\treturn this._logManager;\r\n\t}\r\n\r\n\tpublic setAssetFactory(assetFactory: AssetFactory): void {\r\n\t\tthis._assetFactory = assetFactory;\r\n\t}\r\n\r\n\tpublic getAssetFactory(): AssetFactory {\r\n\t\treturn this._assetFactory;\r\n\t}\r\n\r\n\tpublic getViewPort(): ViewPort {\r\n\t\treturn this._viewPort;\r\n\t}\r\n\r\n\tpublic setAudioEngine(audioEngine: AudioEngine): void {\r\n\t\tthis._audioEngine = audioEngine;\r\n\t}\r\n\r\n\tpublic getAudioEngine(): AudioEngine {\r\n\t\treturn this._audioEngine;\r\n\t}\r\n\r\n\tpublic setLogicEngine(logicEngine: LogicEngine): void {\r\n\t\tthis._logicEngine = logicEngine;\r\n\t}\r\n\r\n\tpublic getLogicEngine(): LogicEngine {\r\n\t\treturn this._logicEngine;\r\n\t}\r\n}\r\n\r\nexport { Engine };\r\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/core/Engine.ts","import { Entity } from \"../entities\";\r\nimport { Coordinate } from \"./Coordinate\";\r\nimport {\r\n\tDimension\r\n} from '../interfaces';\r\n\r\nconst DEFAULT_VIEWPOINT: Coordinate = new Coordinate(0, 0);\r\nconst DEFAULT_FOV: Dimension = {width:100,height:100};\r\nconst DEFAULT_RENDER_ORIGIN: Coordinate = new Coordinate(0, 0);\r\nconst DEFAULT_RENDER_DIMENSION: Dimension = {width:100,height:100};\r\n\r\nexport class Camera {\r\n\tprivate _scene : Entity;\r\n\tprivate _viewPoint : Coordinate;\r\n\tprivate _fov : Dimension;\r\n\tprivate _renderOrigin : Coordinate;\r\n\tprivate _renderDimension : Dimension;\r\n\r\n\tpublic constructor (scene : Entity, viewPoint : Coordinate, fov : Dimension, renderOrigin: Coordinate, renderDimension: Dimension) {\r\n\t\t// this._scene = scene;\r\n\t\t// this._viewPoint = viewPoint || {x:  0, y: 0};\r\n\t\t// this._fov = fov || {width: 100, height: 100};\r\n\t\t// this._renderOrigin = renderOrigin || {x: 0, y: 0};\r\n\t\t// this._renderDimension = renderDimension || {width: 100, height: 100};\r\n\r\n\t\tthis.setScene(scene);\r\n\t\tthis.setViewPoint(viewPoint || DEFAULT_VIEWPOINT);\r\n\t\tthis.setFOV(fov || DEFAULT_FOV);\r\n\t\tthis.setRenderOrigin(renderOrigin || DEFAULT_RENDER_ORIGIN);\r\n\t\tthis.setRenderDimension(renderDimension || DEFAULT_RENDER_DIMENSION);\r\n\t}\r\n\r\n\tpublic setScene(scene: Entity): void {\r\n\t\tthis._scene = scene;\r\n\t}\r\n\r\n\tpublic getScene(): Entity {\r\n\t\treturn this._scene;\r\n\t}\r\n\r\n\tpublic setViewPoint(viewPoint: Coordinate): void {\r\n\t\tthis._viewPoint = viewPoint;\r\n\t}\r\n\r\n\tpublic getViewPoint(): Coordinate {\r\n\t\treturn this._viewPoint;\r\n\t}\r\n\r\n\tpublic setFOV(fov: Dimension): void {\r\n\t\tthis._fov = fov;\r\n\t}\r\n\r\n\tpublic getFOV(): Dimension {\r\n\t\treturn this._fov;\r\n\t}\r\n\r\n\tpublic setRenderOrigin(origin: Coordinate): void {\r\n\t\tthis._renderOrigin = origin;\r\n\t}\r\n\r\n\tpublic getRenderOrigin(): Coordinate {\r\n\t\treturn this._renderOrigin;\r\n\t}\r\n\r\n\tpublic setRenderDimension(dim: Dimension): void {\r\n\t\tthis._renderDimension = dim;\r\n\t}\r\n\r\n\tpublic getRenderDimension(): Dimension {\r\n\t\treturn this._renderDimension;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/utils/Camera.ts","import {\n\tLogManager,\n\tSeverityEnum\n} from './';\n\nexport class IDGenerator {\n\tprivate static _instance: IDGenerator;\n\n\tprotected constructor() {}\n\n\tpublic generate(): string {\n\t\treturn IDGenerator.generate();\n\t}\n\n\tpublic static generate(): string {\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n\t\t\tvar r = Math.random() * 16|0, v = c === 'x' ? r : (r&0x3|0x8);\n\t\t\treturn v.toString(16);\n\t\t});\n\t}\n\n\tpublic static getSingleton(): IDGenerator {\n\t\tLogManager.getSingleton().deprecate('IDGenerator should no longer be used as a singleton anymore. Instead use IDGenerator.generate().');\n\t\tif (!IDGenerator._instance) {\n\t\t\tIDGenerator._instance = new IDGenerator();\n\t\t}\n\t\treturn IDGenerator._instance;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/utils/IDGenerator.ts","import { SeverityEnum } from './SeverityEnum';\r\n\r\nexport class LogManager {\r\n\tprivate _logLevel : SeverityEnum;\r\n\tprivate static _instance:LogManager = new LogManager();\r\n\t\r\n\tprotected constructor () {\r\n\t\tthis._logLevel = SeverityEnum.WARNING | SeverityEnum.ERROR;\r\n\t\t// if (zen.isDebugMode()) {\r\n\t\tthis._logLevel = this._logLevel | SeverityEnum.DEBUG | SeverityEnum.INFO;\r\n\t}\r\n\r\n\tpublic log (severity : SeverityEnum, message: string) : void {\r\n\t\tif (this.getLogLevel() & severity) {\r\n\t\t\tswitch(severity) {\r\n\t\t\t\tcase SeverityEnum.DEBUG:\r\n\t\t\t\t\tconsole.debug(`[DEBUG] ${message}`);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase SeverityEnum.INFO:\r\n\t\t\t\t\tconsole.info(`[INFO] ${message}`);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase SeverityEnum.WARNING:\r\n\t\t\t\t\tconsole.warn(`[WARN] ${message}`);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase SeverityEnum.ERROR:\r\n\t\t\t\t\tconsole.error(`[ERROR] ${message}`);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase SeverityEnum.DEPRECATE:\r\n\t\t\t\t\tconsole.error(`[DEPRECATE] ${message}`);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic debug(message: string): void {\r\n\t\tthis.log(SeverityEnum.DEBUG, message);\r\n\t}\r\n\r\n\tpublic info(message: string): void {\r\n\t\tthis.log(SeverityEnum.INFO, message);\r\n\t}\r\n\r\n\tpublic warn(message: string): void {\r\n\t\tthis.log(SeverityEnum.WARNING, message);\r\n\t}\r\n\r\n\tpublic error(message: string): void {\r\n\t\tthis.log(SeverityEnum.ERROR, message);\r\n\t}\r\n\r\n\tpublic deprecate(message: string): void {\r\n\t\tthis.log(SeverityEnum.DEPRECATE, message);\r\n\t}\r\n\r\n\tpublic setLogLevel (severity: SeverityEnum) : void {\r\n\t\tthis._logLevel = severity;\r\n\t\t// if (zen.isDebugMode() && this._logLevel & SeverityEnum.DEBUG === 0) {\r\n\t\t\t//If debug mode, always have the DEBUG flag enabled.\r\n\t\t\t// this._logLevel = this._logLevel | zen.util.LogManager.DEBUG;\r\n\t\t// }\r\n\t\t// else {\r\n\t\t\tthis._logLevel = severity;\r\n\t\t// }\r\n\t}\r\n\r\n\tpublic getLogLevel () : SeverityEnum {\r\n\t\treturn this._logLevel;\r\n\t}\r\n\r\n\tpublic static getSingleton():LogManager {\r\n\t\tif (!LogManager._instance) {\r\n\t\t\tLogManager._instance = new LogManager();\r\n\t\t}\r\n\t\treturn LogManager._instance;\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/utils/LogManager.ts","import * as Events from 'events';\r\nimport {Dimension} from \"../interfaces\";\r\nimport {ViewPortEventTypes, DimensionUpdateEvent} from \"./\";\r\nimport {Color} from './Color';\r\n\r\nexport class ViewPort extends Events.EventEmitter {\r\n\tprivate _canvas : HTMLCanvasElement;\r\n\tprivate _context : CanvasRenderingContext2D;\r\n\tprivate _resizable : boolean;\r\n    private _filledPage : boolean;\r\n    private _dimension: Dimension;\r\n    private _resizeListener: () => void;\r\n\r\n\tpublic constructor () {\r\n\t\tsuper();\r\n\t\tthis._canvas = document.createElement('canvas');\r\n\t\tthis._context = this._canvas.getContext('2d');\r\n\t\tthis._resizable = false;\r\n\t\tthis._dimension = {width: 0, height: 0};\r\n        this._filledPage = false;\r\n\t}\r\n\r\n\tpublic getCanvas(): HTMLCanvasElement {\r\n\t\treturn this._canvas;\r\n\t}\r\n\r\n\tpublic getContext(): CanvasRenderingContext2D {\r\n\t\treturn this._context;\r\n\t}\r\n\r\n\tpublic setResizable(resizable: boolean): void {\r\n\t\tthis._resizable = resizable;\r\n\t}\r\n\r\n\tpublic isResizable(): boolean {\r\n\t\treturn this._resizable;\r\n\t}\r\n\r\n\tpublic setScale (dimension : Dimension) : void {\r\n\t\tthis._context.scale(dimension.width, dimension.height);\r\n\t}\r\n\r\n    public fillPage (state: boolean) {\r\n        console.log(\"Test, \", state);\r\n        this._filledPage = state;\r\n        if (state) {\r\n            this._canvas.style.position = \"fixed\";\r\n            this._canvas.style.top = \"0px\";\r\n            this._canvas.style.left = \"0px\";\r\n\r\n            this._fillPage();\r\n\r\n            this._resizeListener = this._fillPage.bind(this);\r\n            window.addEventListener(\"resize\", this._resizeListener);\r\n        } else {\r\n            //Remove listener if one\r\n            this._canvas.style.position = \"\";\r\n            window.removeEventListener(\"reisze\", this._resizeListener);\r\n        }\r\n\t}\r\n\r\n\tpublic isFilledPage () : boolean {\r\n        return this._filledPage;\r\n\t}\r\n\r\n\tpublic getSize () : Dimension {\r\n        return this._dimension;\r\n\t}\r\n\r\n\tpublic setSize (dimension : Dimension) {\r\n\t\t//First, set the variables for reference\r\n\t\tthis._dimension = dimension;\r\n\r\n\t\t//Update the Canvas dimensions\r\n\t\tthis._canvas.setAttribute('width', dimension.width + \"px\");\r\n\t\tthis._canvas.setAttribute('height', dimension.height + \"px\");\r\n\r\n\t\tthis.emit('resize', dimension);\r\n\t}\r\n\r\n\tpublic clear () : void {\r\n\t\tthis._context.clearRect(0, 0, this._dimension.width, this._dimension.height);\r\n\t}\r\n\r\n\tpublic drawImage (img: HTMLImageElement, clip_x : number, clip_y : number, clip_width : number, clip_height : number, x: number, y : number, width : number, height : number) {\r\n\t\tthis._context.drawImage(img, clip_x, clip_y, clip_width, clip_height, x, y, width, height);\r\n\t}\r\n\r\n\tpublic setFont (font : string) : void {\r\n\t\tthis._context.font = font;\r\n\t}\r\n\r\n\tpublic setColor (color : Color) : void {\r\n\t\tthis._context.fillStyle = color.toString();\r\n\t}\r\n\r\n\tpublic measureText (text : string) : TextMetrics {\r\n\t\treturn this._context.measureText(text);\r\n\t}\r\n\r\n\tpublic setTextBaseline (baseline : string) : void {\r\n\t\tthis._context.textBaseline = baseline;\r\n\t}\r\n\r\n\tpublic drawText (text : string, x : number, y : number, maxWidth : number) : void {\r\n\t\tthis._context.fillText(text, x, y, maxWidth);\r\n\t}\r\n\r\n\tpublic setHidden () : void {\r\n\t\tthis._canvas.style.position = \"absolute\";\r\n\t\tthis._canvas.style.left = '110001px';\r\n\t}\r\n \r\n\tpublic getImage () : HTMLImageElement {\r\n\t\tvar image =  <HTMLImageElement> document.createElement('img');\r\n\t\timage.src = this._canvas.toDataURL(\"image/png\");\r\n\t\treturn image;\r\n\t\t// return this.context.getImageData(0, 0, this.width, this.height);\r\n    }\r\n\r\n    private _fillPage() {\r\n        var newSize = { width: window.innerWidth, height: window.innerHeight };\r\n        let eventData: DimensionUpdateEvent = {\r\n            type: ViewPortEventTypes.DIMENSION_UPDATE.toString(),\r\n            oldDimensions: this.getSize(),\r\n            newDimensions: newSize,\r\n            source: this\r\n\t\t};\r\n\t\tthis.setSize(newSize);\r\n        this.emit(ViewPortEventTypes.DIMENSION_UPDATE.toString(), eventData);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/utils/ViewPort.ts","import {Entity, EntityEventTypes, LocationUpdateEvent} from \"../entities\";\r\nimport { Event } from \"../interfaces\";\r\nimport { Coordinate } from \"../utils\";\r\n\r\nexport class CollisionEmitter {\r\n\tprivate _entities : Entity[];\r\n\tprivate _entitiesListeners : {[key: string] : {(entity1: Entity, entity2: Entity, event: LocationUpdateEvent) : void}[]};\r\n\tprivate _listeners : {(entity1: Entity, entity2: Entity, event: LocationUpdateEvent) : void}[];\r\n\tprivate _cbs : {[key: string]: {(eventType: string): void}};\r\n\r\n\tpublic constructor () {\r\n\t\tthis._cbs = {};\r\n\t\tthis._entities = [];\r\n\t\tthis._entitiesListeners = {};\r\n\t\tthis._listeners = [];\r\n\t\tthis._cbs[EntityEventTypes.LOCATION_UPDATE] = this._onEntityLocationUpdate.bind(this)\r\n\t}\r\n\r\n\tpublic addEntity (entity: Entity) : void {\r\n\t\tif (!this.hasEntity(entity)) {\r\n\t\t\tthis._entities.push(entity);\r\n\t\t\tthis._entitiesListeners[entity.getID()] = [];\r\n\r\n\t\t\tentity.on(EntityEventTypes.LOCATION_UPDATE.toString(), this._cbs[EntityEventTypes.LOCATION_UPDATE]);\r\n\t\t\t// entity.on(\"dimension_update\", this._onEntityUpgrade.bind(this));\r\n\t\t}\r\n\t}\r\n\r\n\tpublic removeEntity (entity: Entity) : void {\r\n\t\tif (this.hasEntity(entity)) {\r\n\t\t\tthis._entities.splice(this._entities.indexOf(entity), 1);\r\n\t\t\tdelete this._entitiesListeners[entity.getID()];\r\n\t\t}\r\n\t}\r\n\r\n\tpublic hasEntity (entity: Entity) : boolean {\r\n\t\treturn this._entitiesListeners.hasOwnProperty(entity.getID());\r\n\t}\r\n\r\n\tpublic addEntityCollisionListener (entity: Entity, callback: (entity1: Entity, entity2: Entity, event: LocationUpdateEvent) => void) : void {\r\n\t\tif (!this.hasEntity(entity)) {\r\n\t\t\tthis.addEntity(entity);\r\n\t\t}\r\n\r\n\t\tthis._entitiesListeners[entity.getID()].push(callback);\r\n\t}\r\n\r\n\tpublic removeEntityCollisionListener (entity: Entity, callback: (entity1: Entity, entity2: Entity, event: LocationUpdateEvent) => void) : void {\r\n\t\tif (this._entitiesListeners[entity.getID()].indexOf(callback) > -1) {\r\n\t\t\tthis._entitiesListeners[entity.getID()].splice(this._entitiesListeners[entity.getID()].indexOf(callback), 1);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic addCollisionListener (callback: (entity1: Entity, entity2: Entity, event: LocationUpdateEvent) => void) : void {\r\n\t\tthis._listeners.push(callback);\r\n\t}\r\n\r\n\tpublic removeCollisionListener (callback: (entity1: Entity, entity2: Entity, event: LocationUpdateEvent) => void) : void {\r\n\t\tif (this._listeners.indexOf(callback) > -1) {\r\n\t\t\tthis._listeners.splice(this._listeners.indexOf(callback), 1);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _onEntityLocationUpdate (event: LocationUpdateEvent) : void {\r\n\t\t//Check for possible collisions\r\n\t\tlet entity : Entity = event.source;\r\n\r\n\t\tif (entity.getParent()) {\r\n\t\t\tvar potCollisions : Entity[] = entity.getParent().findChildren(new Coordinate(entity.getX(), entity.getY()), new Coordinate(entity.getX2(), entity.getY2()));\r\n\t\t\tvar collisions : Entity[] = [];\r\n\r\n\t\t\tfor (let i in potCollisions) {\r\n\t\t\t\tlet potEntity = potCollisions[i];\r\n\r\n\t\t\t\tif (potEntity != entity && this.hasEntity(potEntity)) {\r\n\t\t\t\t\tcollisions.push(potEntity);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (collisions.length > 0) {\r\n\t\t\t\t//ALERT THE TROOPS!!\r\n\t\t\t\tfor (let i in this._listeners) {\r\n\t\t\t\t\tlet listener = this._listeners[i];\r\n\t\t\t\t\tlistener(entity, collisions[0], event);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/utils/CollisionEmitter.ts","\r\nimport {ColorCode, IColorMap, ColorMap} from './ColorCode';\r\n\r\ninterface RGB {\r\n    r: number;\r\n    g: number;\r\n    b: number;\r\n}\r\n\r\nexport class Color {\r\n    private _r: number;\r\n    private _g: number;\r\n    private _b: number;\r\n    private _a: number;\r\n\r\n    public constructor(r: number = 0, g: number = 0, b: number = 0, a: number = 1) {\r\n        this.setRed(r);\r\n        this.setGreen(g);\r\n        this.setBlue(b);\r\n        this.setAlpha(a);\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param r Number between 0-255\r\n     */\r\n    public setRed(r: number): void {\r\n        this._r = parseInt(r.toString());\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param g Number between 0-255\r\n     */\r\n    public setGreen(g: number): void {\r\n        this._g = parseInt(g.toString());\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param b Number between 0-255\r\n     */\r\n    public setBlue(b: number): void {\r\n        this._b = parseInt(b.toString());\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param a Number between 0-1\r\n     */\r\n    public setAlpha(a: number): void {\r\n        this._a = a * 255;\r\n    }\r\n\r\n    public getRed(): number {\r\n        return this._r;\r\n    }\r\n\r\n    public getGreen(): number {\r\n        return this._g;\r\n    }\r\n\r\n    public getBlue(): number {\r\n        return this._b;\r\n    }\r\n\r\n    public getAlpha(): number {\r\n        return this._a / 255;\r\n    }\r\n\r\n    /**\r\n     * toRGB\r\n     * \r\n     * Returns as string in rgb(red,green,blue) format. Note this does not return an alpha value.\r\n     */\r\n    public toRGB(): string {\r\n        return `rgb(${this.getRed()},${this.getGreen()},${this.getBlue()})`;\r\n    }\r\n\r\n    /**\r\n     * toRGB\r\n     * \r\n     * Returns as string in rgba(red,green,blue,alpha) format.\r\n     */\r\n    public toRGBA(): string {\r\n        return `rgba(${this.getRed()},${this.getGreen()},${this.getBlue()},${this.getAlpha()})`;\r\n    }\r\n\r\n    /**\r\n     * toRGB\r\n     * \r\n     * Returns as integer/ColorCode. Note this does not return an alpha value.\r\n     */\r\n    public toHex(): number {\r\n        return (this.getRed() << 16) + (this.getGreen() << 8) + this.getBlue();\r\n    }\r\n\r\n    /**\r\n     * toHexString\r\n     * \r\n     * Returns a hex string in #RRGGBB format.\r\n     */\r\n    public toHexString(): string {\r\n        var hex: string = `#`\r\n        \r\n        hex += this._toHexString(this.getRed());\r\n        hex += this._toHexString(this.getGreen());\r\n        hex += this._toHexString(this.getBlue());\r\n\r\n        return hex.toUpperCase();\r\n    }\r\n\r\n    public valueOf(): string {\r\n        return this.toString();\r\n    }\r\n\r\n    public toString(): string {\r\n        return this.toRGBA();\r\n    }\r\n\r\n    private _toHexString(value: number): string {\r\n        var hex: string = value.toString(16);\r\n\r\n        if (hex.length === 1) {\r\n            hex = '0' + hex;\r\n        }\r\n\r\n        return hex;\r\n    }\r\n\r\n    private static _parseHexString(color: string): Array<number> {\r\n        var colorCodes: Array<number> = [];\r\n\r\n        color = color.replace('#', '');\r\n        \r\n        switch(color.length) {\r\n            case 3: //This is a shorthand form, expand to full hex\r\n                color = `${color.charAt(0)}${color.charAt(0)}${color.charAt(1)}${color.charAt(1)}${color.charAt(2)}${color.charAt(2)}`;\r\n                break;\r\n            case 6: // This is just a capture case to prevent a valid hex value from tripping the error case\r\n                break;\r\n            default: //If we made it here, this is an invalid hex code\r\n                throw new Error(`Malformed hex code \"#${color}\". Expecting hex length of 3 or 6.`);\r\n        }\r\n\r\n        var rHex: string = color.slice(0, 2);\r\n        var gHex: string = color.slice(2, 4);\r\n        var bHex: string = color.slice(4, 6);\r\n\r\n        colorCodes[0] = parseInt(rHex, 16);\r\n        colorCodes[1] = parseInt(gHex, 16);\r\n        colorCodes[2] = parseInt(bHex, 16);\r\n        colorCodes[3] = 255;\r\n\r\n        for (var i: number = 0; i < colorCodes.length; i++) {\r\n            if (isNaN(colorCodes[i])) {\r\n                throw new Error('Invalid hex code.');\r\n            }\r\n        }\r\n\r\n        return colorCodes;\r\n    }\r\n\r\n    private static _parseRGB(color: string): Array<number> {\r\n        var colorCodes: Array<number> = [];\r\n\r\n        color = color.toLowerCase();\r\n\r\n        if (color.indexOf('rgba(') > -1) {\r\n            color = color.replace('rgba(', '');\r\n            color = color.replace(')', '');\r\n\r\n            var parts: Array<string> = color.split(',');\r\n\r\n            colorCodes[0] = parseInt(parts[0]);\r\n            colorCodes[1] = parseInt(parts[1]);\r\n            colorCodes[2] = parseInt(parts[2]);\r\n            colorCodes[3] = parseInt(parts[3]);\r\n        }\r\n        else if (color.indexOf('rgb(') > -1) {\r\n            color = color.replace('rgb(', '');\r\n            color = color.replace(')', '');\r\n\r\n            var parts: Array<string> = color.split(',');  \r\n            \r\n            colorCodes[0] = parseInt(parts[0]);\r\n            colorCodes[1] = parseInt(parts[1]);\r\n            colorCodes[2] = parseInt(parts[2]);\r\n            colorCodes[3] = 255; //Alpha\r\n        }\r\n        else {\r\n            throw new Error(`Malformed RGB structure \"${color}\". Expecting rgb(#,#,#) or rgba(#,#,#,#)`)\r\n        }\r\n\r\n        for (var i: number = 0; i < colorCodes.length; i++) {\r\n            var code: number = colorCodes[i];\r\n\r\n            if (isNaN(code) || (code < 0 || code > 255)) {\r\n                throw new Error('Invalid code value in RGB');\r\n            }\r\n        }\r\n\r\n        return colorCodes;\r\n    }\r\n\r\n    private static _parseColorName(color: string): Array<number> {\r\n        if (ColorMap[color] !== undefined) {\r\n            var colorCode: ColorCode = ColorMap[color];\r\n            var rgb: RGB = Color._parseHex(colorCode);\r\n            return [rgb.r, rgb.g, rgb.b, /*alpha*/255];\r\n        }\r\n        else {\r\n            throw new Error(`Invalid color \"${color}\"`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param color Accepted formats:\r\n     * \r\n     * #FFF                 = rgba(255,255,255,1)\r\n     * #FFF0                = rgba(255,255,255,0)\r\n     * #FFFFFF              = rgba(255,255,255,1)\r\n     * \r\n     * rgb(255,255,255)     = rgba(255,255,255,1)\r\n     * rgba(255,255,255,1)  = rgba(255,255,255,1)\r\n     * \r\n     * If all else fails, a color map will be used to map a color string to the appropriate color.\r\n     */\r\n    public static fromString(color: string): Color {\r\n        var colorCodes: Array<number>;\r\n        if (color.charAt(0) === '#') {\r\n            //This is a hex code\r\n            colorCodes = Color._parseHexString(color);\r\n        }\r\n        else if (/rgba?/.test(color)) {\r\n            colorCodes = Color._parseRGB(color);\r\n        }\r\n        else {\r\n            colorCodes = Color._parseColorName(color);\r\n        }\r\n\r\n        var r: number = colorCodes[0];\r\n        var g: number = colorCodes[1];\r\n        var b: number = colorCodes[2];\r\n        var a: number = colorCodes[3];\r\n\r\n        return new Color(r, g, b, a / 255);\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param hex   Should be a 6 digit hex: 0x00000000 - 0xFFFFFF\r\n     *                                                      ^^^^^^\r\n     *                                                      | | |\r\n     *                                                      | | |>Blue\r\n     *                                                      | |>Green\r\n     *                                                      |>Red                 \r\n     */                         \r\n    public static fromHex(hex: number | ColorCode): Color {\r\n        var rgb: RGB = Color._parseHex(hex);\r\n        return new Color(rgb.r, rgb.g, rgb.b);\r\n    }\r\n\r\n    public static fromColorCode(code: ColorCode): Color {\r\n        return Color.fromHex(code);\r\n    }\r\n\r\n    private static _parseHex(hex: number | ColorCode): RGB {\r\n        var r = hex >> 16;\r\n        var g = hex >> 8 & 0xFF;\r\n        var b = hex & 0xFF;\r\n\r\n        return {r,g,b};\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/utils/Color.ts","import {IDGenerator} from '../utils';\nimport {\n\tAssetState,\n\tAssetType,\n\tAssetLoader\n} from '../assets';\nimport {EventEmitter} from 'events';\n\nexport const enum AssetEvents {\n\tSTATE_CHANGE \t= \"state_change\",\n\tDATA_CHANGE \t= \"data_change\",\n\tERROR \t\t\t= \"error\"\n}\n\n\nexport class Asset extends EventEmitter {\n\tprivate _id: string;\n\tprivate _type: AssetType;\n\tprivate _data: Object;\n\tprivate _state: AssetState;\n\tprivate _loadStrategy: AssetLoader;\n\tprivate _url: string;\n\tprivate _attributes: {\n\t\t[key: string]: any\n\t}\n\n\t/**\n\t * public constructor Asset\n\t *\n\t *\tRepresents an asset to a game.\n\t * \n\t * @param {AssetType} type\n\t * @param {String} url  Location path.\n\t */\n\tpublic constructor(type: AssetType, url?: string) {\n\t\tsuper();\n\n\t\tthis._id = IDGenerator.getSingleton().generate();\n\t\tthis._type = type;\n\t\tthis._data = null;\n\t\tthis.setSource(url);\n\t\tthis._attributes = {};\n\t}\n\n\t/**\n\t * public setSource\n\t *\n\t *\tSets the source location path of this asset.\n\t *\tThis will clear the associated data, and set this asset in the\n\t *\tNOT_LOADED state.\n\t * \n\t * @param {String} source \n\t */\n\tpublic setSource(source: string): void {\n\t\tif (source !== this.getSource()) {\n\t\t\tthis._url = source;\n\t\t\tthis.setData(null);\n\t\t\tthis.setState(AssetState.NOT_LOADED);\n\t\t}\n\t}\n\n\t/**\n\t * public getSource\n\t *\n\t *\tReturns the source location path of this asset.\n\t * \n\t * @return {String} \n\t */\n\tpublic getSource(): string {\n\t\treturn this._url;\n\t}\n\n\t/**\n\t * public setState\n\t *\n\t *\tSets the state of this asset.\n\n\t * @internal\n\t * @param {AssetState} state \n\t */\n\tpublic setState(state: AssetState): void {\n\t\tif (this._state !== state) {\n\t\t\tthis._state = state;\n\t\t\tthis.onStateChange(this._state);\n\t\t\tthis.emit(AssetEvents.STATE_CHANGE, this._state);\n\t\t}\n\t}\n\n\t/**\n\t * public getState\n\t *\n\t *\tReturns the state of this asset.\n\t * \t\n\t * @return {AssetState}\n\t */\n\t public getState(): AssetState {\n\t \treturn this._state;\n\t }\n\n\t /**\n\t * public setData\n\t *\n\t * \tSets the data for this asset.\n\t * \n\t * @param {Mixed} data \n\t */\n\tpublic setData(data: Object): void {\n\t\tthis._data = data;\n\t\tthis.onDataChange(this._data);\n\t\tthis.emit(AssetEvents.DATA_CHANGE, this._data);\n\t}\n\n\t/**\n\t * public getData\n\t *\n\t *\tGets the asset data.\n\t * \n\t * @return {Mixed} \n\t */\n\tpublic getData(): any {\n\t\treturn this._data;\n\t}\n\n\t/**\n\t * public getType\n\t *\n\t *\tGet the type of this asset.\n\t * \n\t * @return {AssetType}\n\t */\n\tpublic getType(): AssetType {\n\t\treturn this._type;\n\t}\n\n\t/**\n\t * public setLoadStrategy\n\t *\n\t *\tSets the strategy class to be used for loading\n\t * \n\t * @param {AssetLoader} loadStrategy \n\t */\n\tpublic setLoadStrategy(loadStrategy: AssetLoader): void {\n\t\tthis._loadStrategy = loadStrategy;\n\t}\n\n\t/**\n\t * public getLoadStrategy\n\t *\n\t *\tGets the strategy class used for loading.\n\t * \n\t * @return {AssetLoader} \n\t */\n\tpublic getLoadStrategy(): AssetLoader {\n\t\treturn this._loadStrategy;\n\t}\n\n\t/**\n\t * public load\n\t *\n\t *\tLoads the asset data.\n\t *\n\t * \tUse onDataChange hook method to get notified when data has\n\t * \tfinished loading.\n\t * \n\t * @return {Promise<Asset>} \n\t */\n\tpublic load(): Promise<Asset> {\n\t\treturn this._loadStrategy.load(this);\n\t}\n\n\t/**\n\t * Unloads the asset data\n\t */\n\tpublic unload(): Promise<Asset> {\n\t\treturn this._loadStrategy.unload(this);\n\t}\n\n\t/**\n\t * public isReady\n\t *\n\t *\tChecks to see if the data has been loaded on this asset.\n\t * \n\t * @return {Boolean}\n\t */\n\tpublic isReady(): boolean {\n\t\treturn (this.getState() === AssetState.LOADED);\n\t}\n\n\t/**\n\t * public setAttribute\n\t *\n\t *\tSets data details for this asset.\n\t * \n\t * @param {String} key   \n\t * @param {Object} value \n\t */\n\tpublic setAttribute(key: string, value: any): void {\n\t\tthis._attributes[key] = value;\n\t}\n\n\t/**\n\t * public getAttribute\n\t *\n\t *\tGets data details from this asset.\n\t * \n\t * @param  {String} key \n\t * @return {Object}     \n\t */\n\tpublic getAttribute(key: string): any {\n\t\treturn this._attributes[key];\n\t}\n\n\t/**\n\t * public isAttribute\n\t *\n\t *\tChecks for existance of a data detail on this asset.\n\t * \n\t * @param  {String}  key \n\t * @return {Boolean}     \n\t */\n\tpublic isAttribute(key: string): boolean {\n\t\treturn !!this._attributes[key];\n\t}\n\n\t/**\n\t * public removeAttribute\n\t *\n\t *\tRemoves a data attribute from this asset.\n\t * \n\t * @param  {String} key \n\t * @return {void}     \n\t */\n\tpublic removeAttribute(key: string): void {\n\t\tdelete this._attributes[key];\n\t}\n\n\t/**\n\t * public hook onStateChange\n\t *\n\t * \tInvoked when state changes.\n\t * \n\t * @param  {AssetState} state Possible values:\n\t *                     \t\t\t- AssetState.NOT_LOADED\n\t *                              - AssetState.LOADING\n\t *                              - AssetState.LOADED\n\t * @deprecated Use on(AssetEventType.STATE_CHANGE) instead.\n\t * @return {void}       \n\t */\n\tpublic onStateChange(state: AssetState): void {}\n\n\t/**\n\t * public onDataChange\n\t *\n\t *\tInvoked when data changes.\n\t * \n\t * @param  {Mixed} data Must be prepared to handle null.\n\t * @deprecated Use on(AssetEventType.DATA_CHANGE) instead.\n\t * @return {void}      \n\t */\n\tpublic onDataChange(data: Object): void {}\n\n\t/**\n\t * public onError\n\t *\n\t *\tInvoked when there was an error while loading asset data.\n\t *  Note: Prior usage was a hook function. Now this should be treated as a protected method,\n\t *  however TypeScript doesn't have \"friend\" class support, and AssetLoader needs to invoke this method.\n\t * \n\t *  Use \n\t * \n\t * \t\ton(AssetEvents.ERROR)\n\t * \n\t *  OR\n\t * \n\t * \t\tload().catch((error) => { ... })\n\t *  \n\t * to receive the error instead.\n\t * \n\t * @param  {Object} error\n\t * @return {void}       \n\t */\n\tpublic onError(error?: Object): void {\n\t\tthis.emit(AssetEvents.ERROR, error);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/assets/Asset.ts","import {\n\tAssetState,\n\tAssetType,\n\tAssetLoader,\n\tAsset,\n\tAudioLoader,\n\tJSONLoader,\n\tImageLoader\n} from '../assets';\n\ninterface AssetCache {\n\t[url: string]: Asset;\n}\n\nexport class AssetFactory {\n\tprivate _assetLoader: AssetLoader;\n\tprivate _audioLoader: AudioLoader;\n\tprivate _imageLoader: ImageLoader;\n\tprivate _jsonLoader: JSONLoader;\n\tprivate _cache: AssetCache;\n\tprivate static _instance: AssetFactory;\n\n\tprotected constructor() {\n\t\tthis._assetLoader = new AssetLoader();\n\t\tthis._audioLoader = new AudioLoader();\n\t\tthis._imageLoader = new ImageLoader();\n\t\tthis._jsonLoader = new JSONLoader();\n\t\tthis._cache = {};\n\t}\n\n\tpublic static getSingleton(): AssetFactory {\n\t\tif (!AssetFactory._instance) {\n\t\t\tAssetFactory._instance = new AssetFactory();\n\t\t}\n\t\treturn AssetFactory._instance;\n\t}\n\n\t/**\n\t * public build\n\t *\n\t *\tBuilds an asset of the given type.\n\t *\tSee AssetType.\n\t * \n\t * @param  {AssetType} type \n\t * @param  {String} url  \n\t * @return {Asset}      \n\t */\n\tpublic build(type: AssetType, url: string): Asset {\n\t\tvar asset: Asset;\n\t\tvar cache: Asset = this._cache[url];\n\t\tif (cache) {\n\t\t\tasset = this._clone(cache);\n\t\t}\n\t\telse {\n\t\t\tasset = new Asset(type, url);\n\t\t}\n\n\t\tif (!cache) {\n\t\t\tswitch(type) {\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\tcase AssetType.RAW:\n\t\t\t\t\tasset.setLoadStrategy(this._assetLoader);\n\t\t\t\t\tthis._configureRawAsset(asset, url);\n\t\t\t\t\tbreak;\n\t\t\t\tcase AssetType.IMAGE:\n\t\t\t\t\tasset.setLoadStrategy(this._imageLoader);\n\t\t\t\t\tthis._configureImageAsset(asset, url);\n\t\t\t\t\tbreak;\n\t\t\t\tcase AssetType.AUDIO:\n\t\t\t\t\tasset.setLoadStrategy(this._audioLoader);\n\t\t\t\t\tthis._configureAudioAsset(asset, url);\n\t\t\t\t\tbreak;\n\t\t\t\tcase AssetType.JSON:\n\t\t\t\t\tasset.setLoadStrategy(this._jsonLoader);\n\t\t\t\t\tthis._configureJSONAsset(asset, url);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis._cache[url] = asset;\n\t\t}\n\n\t\treturn asset;\n\t}\n\n\t/**\n\t * protected _configureRawAsset\n\t *\n\t *\tSets up specific asset details for Raw type assets.\n\t * \n\t * @param  {zen.assets.Asset} asset \n\t * @param  {String} url   \n\t * @return {void}       \n\t */\n\tprotected _configureRawAsset(asset: Asset, url: string): void {}\n\n\t/**\n\t * protected _configureImageAsset\n\t *\n\t *\tSets up specific asset details for Image type assets.\n\t * \n\t * @param  {zen.assets.Asset} asset \n\t * @param  {String} url   \n\t * @return {void}       \n\t */\n\tprotected _configureImageAsset(asset: Asset, url: string): void {\n\t\tvar img: HTMLImageElement = document.createElement('img');\n\t\timg.addEventListener('load', function() {\n\t\t\tasset.setState(AssetState.LOADED);\n\t\t});\n\t\tasset.setData(img);\n\t}\n\n\t/**\n\t * protected _configureJSONAsset\n\t *\n\t *\tSets up specific asset details for JSON type assets.\n\t * \n\t * @param  {zen.assets.Asset} asset \n\t * @param  {String} url   \n\t * @return {void}       \n\t */\n\tprotected _configureJSONAsset(asset: Asset, url: string): void {}\n\n\t/**\n\t * protected _configureAudioAsset\n\t *\n\t *\tSets up specific asset details for Audio type assets.\n\t * \n\t * @param  {zen.assets.Asset} asset \n\t * @param  {String} url\n\t * @return {void}       \n\t */\n\tprotected _configureAudioAsset(asset: Asset, url: string): void {\n\t\tvar audio: HTMLAudioElement = document.createElement('audio');\n\t\taudio.addEventListener('canplaythrough', function() {\n\t\t\tasset.setState(AssetState.LOADED);\n\t\t});\n\t\tasset.setData(audio);\n\t}\n\n\t/**\n\t * protected _clone\n\t *\n\t *\tClones a given asset.\n\t * \n\t * @param  {zen.assets.Asset} asset \n\t * @return {void}       \n\t */\n\tprotected _clone(asset: Asset): Asset {\n\t\tvar type: AssetType = asset.getType();\n\t\tvar clone = new Asset(type, asset.getSource());\n\t\tthis._cloneAssetData(clone, asset, type);\n\t\treturn clone;\n\t}\n\n\t/**\n\t * protected _cloneAssetData\n\t *\n\t *\tCan be overridden, but subclasses should always call this as a super\n\t *\tmethod. Provides implementation to cloning each specific type of asset.\n\t * \n\t * @param  {zen.assets.Asset} clone The clone\n\t * @param  {zen.assets.Asset} asset The original\n\t * @param  {Enumeration} type  \n\t * @return {void}       \n\t */\t\n\tprotected _cloneAssetData(clone: Asset, asset: Asset, type: AssetType): void {\n\t\tvar data: any = null;\n\t\tswitch(type) {\n\t\t\tdefault:\n\t\t\t\tdata = asset.getData();\n\t\t\t\tbreak;\n\t\t\tcase AssetType.IMAGE:\n\t\t\t\tdata = this._cloneNode(<Node>asset.getData());\n\t\t\t\tbreak;\n\t\t\tcase AssetType.AUDIO:\n\t\t\t\tdata = this._cloneNode(<Node>asset.getData());\n\t\t\t\tbreak;\n\t\t}\n\n\t\tclone.setLoadStrategy(asset.getLoadStrategy());\n\t\tclone.setData(data);\n\t}\n\n\t/**\n\t * protected _cloneNode\n\t *\n\t *\tClones a node style asset.\n\t * \n\t * @param  {HTMLDomElement} node \n\t * @return {HTMLDomElement}      a clone\n\t */\n\tprotected _cloneNode(node: Node): Node {\n\t\tif (node) {\n\t\t\treturn node.cloneNode(true);\n\t\t}\n\t\telse {\n\t\t\treturn null;\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/assets/AssetFactory.ts","\r\nimport {Asset} from './Asset';\r\nimport {AssetType} from './AssetType';\r\nimport {AssetGroup} from './AssetGroup';\r\nimport {AssetFactory} from './AssetFactory';\r\nimport {getInstance} from '../core/Instance';\r\nimport {Iterator} from '../utils/Iterator';\r\n\r\nexport interface AssetGroupDefinition {\r\n    assets: Array<AssetDefinition>;\r\n}\r\n\r\nexport interface AssetDefinition {\r\n    name: string;\r\n    type: AssetType;\r\n    source: string;\r\n}\r\n\r\nexport class AssetGroupLoader {\r\n    private _assetFactory: AssetFactory;\r\n\r\n    public constructor() {\r\n        this._assetFactory = getInstance().getAssetFactory();\r\n    }\r\n\r\n    /**\r\n     * Loads an AssetGroup defined by a JSON structure.\r\n     * \r\n     * Expected JSON structure by using the interfaces above:\r\n     * {\r\n     *      assets [\r\n     *          {\r\n     *              name : string,\r\n     *              type : AssetType (use the string value),\r\n     *              source : string\r\n     *          }\r\n     *      ]\r\n     * }\r\n     * \r\n     * Note, the returned AssetGroup will be in an unloaded state.\r\n     * \r\n     * The file must be a JSON file.\r\n     * \r\n     * @param path \r\n     */\r\n    public load(path: string): Promise<AssetGroup> {\r\n        return new Promise<AssetGroup>((resolve, reject) => {\r\n            var json: Asset = this._assetFactory.build(AssetType.JSON, path);\r\n\r\n            json.load().then((assetGroupDefs: Asset) => {\r\n                var data: AssetGroupDefinition = assetGroupDefs.getData();\r\n                resolve(this._createGroup(data));\r\n            }).catch(reject);\r\n        });\r\n    }\r\n\r\n    public loadFromAsset(asset: Asset): AssetGroup {\r\n        if (asset.getType() !== AssetType.JSON) {\r\n            throw new Error('loadFromAsset expects a JSON asset.');\r\n        }\r\n\r\n        return this._createGroup(asset.getData());\r\n    }\r\n\r\n    public loadFromMemory(data: AssetGroupDefinition): AssetGroup {\r\n        return this._createGroup(data);\r\n    }\r\n\r\n    private _createGroup(data: AssetGroupDefinition): AssetGroup {\r\n        var iterator: Iterator<AssetDefinition> = new Iterator<AssetDefinition>(data.assets);\r\n        var group: AssetGroup = new AssetGroup();\r\n\r\n        while(iterator.hasNext()) {\r\n            var assetDef: AssetDefinition = iterator.next();\r\n            var asset: Asset = this._assetFactory.build(assetDef.type, assetDef.source);\r\n            group.addAsset(assetDef.name, asset);\r\n        }\r\n\r\n        return group;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/assets/AssetGroupLoader.ts","/// <reference path=\"../utils/Promise.d.ts\" />\n\nimport {\n\tAsset,\n\tAssetState\n} from '../assets';\nimport {\n\tLogManager\n} from '../utils/LogManager'\n\nexport class AssetLoader {\n\n\tpublic constructor() {}\n\n\t/**\n\t * public load\n\t *\n\t *\tLoads the given asset's data.\n\t * \n\t * @param  {Asset} asset \n\t * @return {void}       \n\t */\n\tpublic load(asset: Asset): Promise<Asset> {\n\t\treturn new Promise<Asset>((resolve, reject) => {\n\t\t\tvar request: XMLHttpRequest = new XMLHttpRequest();\n\t\t\tvar source = asset.getSource();\n\t\t\tif (this._validateURL(source)) {\n\t\t\t\trequest.open(this._getMethod(), asset.getSource());\n\t\t\t\tasset.setState(AssetState.LOADING);\n\t\t\t\trequest.onreadystatechange = (e: Event) => {\n\t\t\t\t\tif (request.readyState === XMLHttpRequest.DONE) {\n\t\t\t\t\t\tif (request.status === 200) {\n\t\t\t\t\t\t\tthis._onSuccess(asset, request.responseText, resolve);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tthis._onFail(asset, request, reject);\n\t\t\t\t\t\t\treject(asset);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis._postRequest();\n\t\t\t\t};\n\t\t\t\tthis._preRequest();\n\t\t\t\trequest.send();\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis._onSuccess(asset, source, resolve);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Unloads the given asset, making it no longer usable.\n\t * \n\t * @param asset \n\t */\n\tpublic unload(asset: Asset): Promise<Asset> {\n\t\treturn new Promise<Asset>((resolve, reject) => {\n\t\t\tasset.setState(AssetState.UNLOADING);\n\n\t\t\t// While the API supports asynchronous methods, this particular implementation does require calling any\n\t\t\t// asynchronous methods. However, we still want the API to behave like an asynchronous method.\n\t\t\tprocess.nextTick(() => {\n\t\t\t\tasset.setData(null);\n\t\t\t\tasset.setState(AssetState.NOT_LOADED);\n\t\t\t\tresolve(asset);\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t\tClones the asset data to another asset.\n\t*/\n\tpublic clone(asset: Asset, clone: Asset): void {\n\t\tclone.setData(asset.getData());\n\t}\n\n\t/**\n\t * protected _validateURL\n\t *\n\t *\tChecks to see if the URL is valid to be used\n\t *\tin a request. Returns true if valid, false otherwise.\n\t * \n\t * @param  {String} url\n\t * @return {Boolean}  \n\t */\n\tprotected _validateURL(url: string): boolean {\n\t\t//check the first 5 non-whitespace characters.\n\t\t//for a data url.\n\t\turl = url.trim();\n\t\tvar type: string = url.substring(0, 5);\n\t\tif (type === 'data:') {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * protected _getMethod\n\t *\n\t *\tReturns the method type to be used in a HTTP\n\t *\trequest. May be overrided.\n\t * \n\t * @return {String}\n\t */\n\tprotected _getMethod(): string {\n\t\treturn 'GET';\n\t}\n\n\t/**\n\t * protected _preRequest\n\t *\n\t *\tInvoked just before the request has been sent.\n\t * \n\t * @return {void} \n\t */\n\tprotected _preRequest(): void {}\n\n\t/**\n\t * _postRequest\n\t * \n\t * Invoked when the request has been completed,\n\t * but after the default actions has been executed.\n\t * \n\t * @return {void} \n\t */\n\tprotected _postRequest(): void {}\n\n\t/**\n\t * protected _onSuccess\n\t *\n\t * \tInvoked when the request has been completed\n\t * \tsuccessfully.\n\t * \n\t * @param  {Asset} asset \n\t * @param  {Mixed} data  \n\t * @return {void}       \n\t */\n\tprotected _onSuccess(asset: Asset, data: Object, resolve: ResolveFunction<Asset>): void {\n\t\tasset.setData(data);\n\t\tasset.setState(AssetState.LOADED);\n\t\tresolve(asset);\n\t}\n\n\t/**\n\t * protected _onFail\n\t *\n\t *\tInvoked when the request has returned an error.\n\t * \n\t * @param  {Asset} asset   \n\t * @param  {XMLHttpRequest} request\n\t * @return {void}         \n\t */\n\tprotected _onFail(asset: Asset, error: any, reject: RejectFunction): void {\n\t\treject({\n\t\t\tdetailed : error,\n\t\t\tmessage : 'Generic Error Message',\n\t\t\tasset : asset\n\t\t});\n\t\t// asset.onError({\n\t\t// \tcode : request.status,\n\t\t// \tmessage : 'Generic Error Message'\n\t\t// });\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/assets/AssetLoader.ts","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/node_modules/process/browser.js\n// module id = 35\n// module chunks = 1","/// <reference path=\"../utils/Promise.d.ts\" />\n\nimport {\n\tAsset,\n\tAssetLoader,\n\tAssetState\n} from '../assets';\n\nexport class AudioLoader extends AssetLoader {\n\tpublic constructor() {\n\t\tsuper();\n\t}\n\n\t/**\n\t * public load\n\t *\n\t * See AssetLoader for more details.\n\t * \n\t * @param  {Asset} asset \n\t * @return {void}       \n\t */\n\tpublic load(asset: Asset): Promise<Asset> {\n\t\tasset.setState(AssetState.LOADING);\n\n\t\treturn new Promise<Asset>((resolve, reject) => {\n\t\t\tvar audio: HTMLAudioElement = <HTMLAudioElement>asset.getData();\n\t\t\taudio.setAttribute('preload', 'auto');\n\t\t\tthis._assignEvents(asset, audio, resolve, reject);\n\t\t\taudio.src = asset.getSource();\n\t\t});\t\n\t}\n\n\t/**\n\t * Destroys the audio asset.\n\t * \n\t * @param asset \n\t */\n\tpublic unload(asset: Asset): Promise<Asset> {\n\t\tasset.setState(AssetState.UNLOADING);\n\n\t\treturn new Promise<Asset>((resolve, reject) => {\n\t\t\tvar audio: HTMLAudioElement = <HTMLAudioElement>asset.getData();\n\t\t\taudio.oncanplaythrough = null;\n\t\t\taudio.onerror = null;\n\t\t\taudio.onplaying = null;\n\t\t\taudio.onended = null;\n\t\t\tasset.setData(null);\n\t\t\tasset.setState(AssetState.NOT_LOADED);\n\t\t\tresolve(asset);\n\t\t});\n\t}\n\n\t/**\n\t * private _assignEvents\n\t *\n\t *\tInitializes all event hooks required to handle\n\t *\taudio assets.\n\t * \n\t * @param  {Asset} asset \n\t * @param  {HTMLAudioElement} audio \n\t * @return {void}       \n\t */\n\tprivate _assignEvents(asset: Asset, audio: HTMLAudioElement, resolve: ResolveFunction<Asset>, reject: RejectFunction): void {\n\t\tvar canPlay = (e: Event) => {\n\t\t\taudio.oncanplaythrough = null;\n\t\t\tthis._onSuccess(asset, audio, resolve);\n\t\t\t// asset.setData(audio);\n\t\t\t\n\t\t};\n\t\taudio.oncanplaythrough = canPlay;\n\t\taudio.onerror = (e: Event) => {\n\t\t\tthis._onFail(asset, e, reject);\n\t\t\t// asset.onError();\n\t\t};\n\t\taudio.onplaying = (e: Event) => {\n\t\t\tasset.setAttribute('playing', true);\n\t\t};\n\t\taudio.onended = (e: Event) => {\n\t\t\taudio.currentTime = 0;\n\t\t\tasset.setAttribute('playing', false);\n\t\t};\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/assets/AudioLoader.ts","import {\n\tAsset,\n\tAssetLoader,\n\tAssetState\n} from '../assets';\n\nexport class ImageLoader extends AssetLoader {\n\tpublic constructor() {\n\t\tsuper();\n\t}\n\n\t/**\n\t * public load\n\t *\n\t *\tSee AssetLoader.load for more details.\n\t * \n\t * @param  {Asset} asset \n\t * @return {void}       \n\t */\n\tpublic load(asset: Asset): Promise<Asset> {\n\t\tasset.setState(AssetState.LOADING);\n\n\t\treturn new Promise<Asset>((resolve, reject) => {\t\n\t\t\tvar image: HTMLImageElement = <HTMLImageElement>asset.getData();\n\t\t\timage.onload = (e: Event) => {\n\t\t\t\tthis._onSuccess(asset, image, resolve);\n\t\t\t};\n\t\t\timage.onerror = (e: Event) => {\n\t\t\t\tthis._onFail(asset, e, reject);\n\t\t\t};\n\t\t\timage.src = asset.getSource();\n\t\t});\n\t}\n\n\t/**\n\t * Destroys the image asset.\n\t * \n\t * @param asset \n\t */\n\tpublic unload(asset: Asset): Promise<Asset> {\n\t\tasset.setState(AssetState.UNLOADING);\n\n\t\treturn new Promise<Asset>((resolve, reject) => {\n\t\t\tvar image: HTMLImageElement = <HTMLImageElement>asset.getData();\n\t\t\timage.onload = null;\n\t\t\timage.onerror = null;\n\t\t\timage.src = null;\n\t\t\tasset.setData(null);\n\t\t\tasset.setState(AssetState.NOT_LOADED);\n\t\t\tresolve(asset);\n\t\t});\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/assets/ImageLoader.ts","/// <reference path=\"../utils/Promise.d.ts\" />\n\nimport {\n\tAsset,\n\tAssetLoader,\n\tAssetState\n} from '../assets';\n\nexport class JSONLoader extends AssetLoader {\n\tpublic constructor() {\n\t\tsuper();\n\t}\n\n\t/**\n\t * protected _onSuccess\n\t *\n\t *\tSee AssetLoader._onSuccess for more details.\n\t * \n\t * @param  {Asset} asset \n\t * @param  {Stringified JSON} data  \n\t * @return {void}       \n\t */\n\tprotected _onSuccess(asset: Asset, data: Object, resolve: ResolveFunction<Asset>): void {\n\t\tvar json: string = <string>data;\n\t\tasset.setData(JSON.parse(json));\n\t\tresolve(asset);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/assets/JSONLoader.ts","\r\nimport {ViewPort, Color} from \"../utils\";\r\n\r\nimport {\r\n\tAsset,\r\n\tAssetLoader,\r\n\tAssetType\r\n} from '../assets';\r\n\r\nexport class  TextAssetBuilder {\r\n\tpublic constructor() {}\r\n\r\n\tpublic build (font: string, text: string, maxWidth: number, height: number, color: Color) : Asset {\r\n\t\tvar textViewPort : ViewPort = new ViewPort();\r\n\t\tvar textAsset : Asset = new Asset(AssetType.IMAGE);\r\n\r\n\t\ttextViewPort.setFont(font);\r\n\t\ttextViewPort.setColor(color || Color.fromString(\"green\"));\r\n\t\ttextViewPort.setTextBaseline(\"hanging\");\r\n\r\n\t\tif (!maxWidth) {\r\n\t\t\tmaxWidth = textViewPort.measureText(text).width;\r\n\t\t}\r\n\r\n\t\ttextViewPort.setSize({width: maxWidth, height});\r\n\t\t// Something about setting the this a second time actually changes the way the text is drawn.\r\n\t\ttextViewPort.setFont(font);\r\n\t\ttextViewPort.setColor(color);\r\n\t\ttextViewPort.setTextBaseline(\"hanging\");\r\n\r\n\t\ttextViewPort.drawText(text, 0, 0, maxWidth);\r\n\r\n\t\ttextAsset.setData(textViewPort.getImage());\r\n\r\n\t\t// delete textViewPort;\r\n\r\n\t\treturn textAsset;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/assets/TextAssetBuilder.ts","import {ViewPort} from \"../utils\";\r\n\r\nimport {\r\n\tAsset,\r\n\tAssetLoader,\r\n\tAssetState,\r\n\tAssetType,\r\n\tSpritesheetDefinition\r\n} from '../assets';\r\n\r\nexport class Spritesheet {\r\n\tprivate _spritesheetAsset : Asset;\r\n\tprivate _spritesheetDefinition : {[key: string] : SpritesheetDefinition};\r\n\tprivate _spriteCache : {[key: string] : Asset};\r\n\r\n\tpublic constructor (spritesheetAsset: Asset, spritesheetDefinition: {[key: string] : SpritesheetDefinition}) {\r\n\t\tthis._spritesheetAsset = spritesheetAsset; //The asset for the entire spritesheet\r\n\t\tthis._spritesheetDefinition = spritesheetDefinition; //Definitions for sprites to coordinates\r\n\t\tthis._spriteCache = {}; //A cache of sprites images\r\n\t}\r\n\r\n\tgetSprite (id: string) : any {\r\n\t\tif (this._spriteCache[id]) {\r\n\t\t\treturn this._spriteCache[id];\r\n\t\t} else if (this._spritesheetDefinition[id]) {\r\n\t\t\tvar def = this._spritesheetDefinition[id];\r\n\r\n\t\t\t//Create an Image for this Sprite\r\n\r\n\r\n\t\t\tvar spriteViewPort = new ViewPort();\r\n\t\t\tthis._spriteCache[id] = new Asset(AssetType.IMAGE);\r\n\t\t\tspriteViewPort.setSize({width: def.width, height: def.height});\r\n\t\t\tspriteViewPort.getContext().translate(def.flipX === true ? def.width : 0, def.flipY === true ? def.height : 0)\r\n\t\t\tspriteViewPort.setScale({width: def.flipX === true ? -1 : 1, height: def.flipY === true ? -1 : 1});\r\n\t\t\tspriteViewPort.drawImage(this._spritesheetAsset.getData(), def.x, def.y, def.width, def.height, 0, 0, def.width, def.height);\r\n\t\t\tthis._spriteCache[id].setData(spriteViewPort.getImage());\r\n\r\n\t\t\treturn this._spriteCache[id];\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/assets/Spritesheet.ts","import {\r\n\tLogManager,\r\n\tSeverityEnum\r\n} from '../utils';\r\nimport {Entity} from \"../entities\";\r\nimport {Asset, Spritesheet} from \"../assets\";\r\n\r\nexport class Animation {\r\n\tpublic loop : boolean;\r\n\tpublic reverseLoop : boolean;\r\n\r\n\tprivate _entity : Entity;\r\n\tprivate _animationDefinition : AnimationFrame[];\r\n\tprivate _direction : string;\r\n\tprivate _animating : boolean;\r\n\tprivate _animation_index : number;\r\n\tprivate _timeout: any;\r\n\r\n\tpublic constructor (entity: Entity, animationDefinitions: AnimationFrame[]) {\r\n\t\tthis._entity = entity; //Entity to do the animation\r\n\t\tthis._animationDefinition = animationDefinitions; //Definitions for animations\r\n\t\tthis.loop = true;\r\n\t\tthis._timeout = false;\r\n\t\tthis.reverseLoop = false;\r\n\t\tthis._animating = false;\r\n\t\tthis._animation_index = -1;\r\n\t}\r\n\r\n\tpublic isAnimating () : boolean {\r\n\t\treturn this._animating;\r\n\t}\r\n\r\n\tpublic start () : void {\r\n\t\tif (!this._timeout) {\r\n\t\t\tthis._direction = \"forward\";\r\n\t\t\tthis._loadStep(0);\r\n\t\t\tthis._animating = true;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic stop () : void {\r\n\t\tclearTimeout(this._timeout);\r\n\t\tthis._timeout = false;\r\n\t\tthis._animating = false;\r\n\t}\r\n\r\n\tprivate _loadStep (stepIndex: number) : void {\r\n\t\tvar step = this._animationDefinition[stepIndex];\r\n\t\tvar sprite = step.asset;\r\n\t\tthis._entity.setTexture(sprite);\r\n\t\tthis._entity.setWidth(sprite.getData().width);\r\n\t\tthis._entity.setHeight(sprite.getData().height);\r\n\r\n\t\tvar offset : number = 0;\r\n\r\n\t\tif (step.moveX || (this._direction === \"reverse\" && this._animationDefinition[stepIndex + 1].moveX)) {\r\n\t\t\tif (this._direction === \"reverse\" && this._animationDefinition[stepIndex + 1].moveX) {\r\n\t\t\t\toffset =  0 - this._animationDefinition[stepIndex + 1].moveX;\r\n\t\t\t\tthis._entity.setX(this._entity.getX() - this._animationDefinition[stepIndex + 1].moveX);\r\n\t\t\t} else {\r\n\t\t\t\toffset =  0 + step.moveX;\r\n\t\t\t\tthis._entity.setX(this._entity.getX() + step.moveX);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (step.moveY || (this._direction === \"reverse\" && this._animationDefinition[stepIndex + 1].moveY)) {\r\n\t\t\tif (this._direction === \"reverse\" && this._animationDefinition[stepIndex + 1].moveY) {\r\n\t\t\t\tthis._entity.setY(this._entity.getY() - this._animationDefinition[stepIndex + 1].moveY);\r\n\t\t\t} else {\r\n\t\t\t\tthis._entity.setY(this._entity.getY() + step.moveY);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// LogManager.getInstance().log(SeverityEnum.INFO, stepIndex + this._direction + offset);\r\n\r\n\t\tvar nextStepIndex : number;\r\n\r\n\t\tif (this._direction === \"reverse\") {\r\n\t\t\tnextStepIndex = stepIndex - 1;\r\n\t\t} else {\r\n\t\t\tnextStepIndex = stepIndex + 1;\r\n\t\t}\r\n\r\n\t\tif (this._animationDefinition[nextStepIndex]) {\r\n\t\t\tthis._timeout = setTimeout(() => {\r\n\t\t\t\tthis._loadStep(nextStepIndex)\r\n\t\t\t}, step.delay);\r\n\t\t} else if (this.reverseLoop) {\r\n\t\t\tthis._timeout = setTimeout(() => {\r\n\t\t\t\tif (this._direction === \"forward\") {\r\n\t\t\t\t\tthis._direction = \"reverse\";\r\n\t\t\t\t\tthis._loadStep(stepIndex - 1);\r\n\t\t\t\t} else if (this._direction === \"reverse\") {\r\n\t\t\t\t\tthis._direction = \"forward\";\r\n\t\t\t\t\tthis._loadStep(stepIndex + 1);\r\n\t\t\t\t}\r\n\t\t\t}, step.delay);\r\n\t\t} else if (this.loop) {\r\n\t\t\tthis._timeout = setTimeout(() => {\r\n\t\t\t\tthis._loadStep(0)\r\n\t\t\t}, step.delay);\r\n\t\t} else {\r\n\t\t\t//Animation Complete\r\n\t\t\tthis.stop();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport interface AnimationFrame {\r\n\tasset: Asset;\r\n\tdelay:  number;\r\n\tmoveX? : number;\r\n\tmoveY?: number;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/assets/Animation.ts","import {AudioEngine} from './AudioEngine';\nimport {Asset} from '../assets';\nimport {AudioEvents} from './AudioEvents';\n\nexport class HTML5AudioEngine extends AudioEngine {\n\tprivate _backgroundAudios: Asset[];\n\tprivate _soundEffects: Asset[];\n\tprivate _backgroundVolume: number;\n\tprivate _soundEffectVolume: number;\n\n\tpublic constructor() {\n\t\tsuper();\n\t\tthis._backgroundVolume = 1.0;\n\t\tthis._soundEffectVolume = 1.0;\n\t\tthis._backgroundAudios = []\n\t\tthis._soundEffects = []\n\t}\n\n\tpublic addBackgroundMusic(name: string, audio: Asset): void {\n\t\tthis.addAudio(name, audio);\n\t\tthis._backgroundAudios.push(audio);\n\t}\n\n\tpublic addSoundEffect(name: string, audio: Asset): void {\n\t\tthis.addAudio(name, audio);\n\t\tthis._soundEffects.push(audio);\n\t}\n\n\tpublic setBackgroundVolume(volume: number): void {\n\t\tthis._backgroundVolume = volume;\n\t\tfor (var i: number = 0, len: number = this._backgroundAudios.length; i < len; i++) {\n\t\t\tthis._setVolume(this._backgroundAudios[i], this._backgroundVolume);\n\t\t}\n\t}\n\n\tpublic setSoundEffectVolume(volume: number): void {\n\t\tthis._soundEffectVolume = volume;\n\t\tfor (var i: number = 0, len: number = this._soundEffects.length; i < len; i++) {\n\t\t\tthis._setVolume(this._soundEffects[i], this._soundEffectVolume);\n\t\t}\n\t}\n\n\tpublic isBackgroundMusic(audio: Asset): boolean {\n\t\treturn (this._backgroundAudios.indexOf(audio) > -1);\n\t}\n\n\tpublic isSoundEffect(audio: Asset): boolean {\n\t\treturn (this._soundEffects.indexOf(audio) > -1);\n\t}\n\n\tprotected _playAudio(audio: Asset): void {\n\t\tthis._updateVolume(audio);\t\n\t\tvar data: HTMLAudioElement = <HTMLAudioElement>this._getData(audio);\n\t\tdata.play();\t\n\t}\n\n\tprivate _updateVolume(audio: Asset): void {\n\t\tif (this.isSoundEffect(audio)) {\n\t\t\tthis._setVolume(audio, this._soundEffectVolume);\n\t\t}\n\t\telse if (this.isBackgroundMusic(audio)) {\n\t\t\tthis._setVolume(audio, this._backgroundVolume);\n\t\t}\n\t}\n\n\tprotected _pauseAudio(audio: Asset): void {\n\t\tvar data: HTMLAudioElement = <HTMLAudioElement>this._getData(audio);\n\t\tdata.pause();\n\t}\n\n\tprotected _stopAudio(audio: Asset): void {\n\t\tvar data: HTMLAudioElement = <HTMLAudioElement>this._getData(audio);\n\t\tdata.pause();\n\t\tthis._setTimeCursor(audio, 0);\n\t}\n\n\tprotected _isAudioLooping(audio: Asset): boolean {\n\t\tvar data: HTMLAudioElement = <HTMLAudioElement>this._getData(audio);\n\t\treturn data.loop;\n\t}\n\n\tprotected _loopAudio(audio: Asset, state: boolean): void {\n\t\tvar data: HTMLAudioElement = <HTMLAudioElement>this._getData(audio);\n\t\tdata.loop = state;\n\t}\n\n\tprotected _isAudioMuted(audio: Asset): boolean {\n\t\tvar data: HTMLAudioElement = <HTMLAudioElement>this._getData(audio);\n\t\treturn data.muted;\n\t}\n\n\tprotected _muteAudio(audio: Asset, state: boolean): void {\n\t\tvar data: HTMLAudioElement = <HTMLAudioElement>this._getData(audio);\n\t\tdata.muted = state;\n\t}\n\n\tprotected _getAudioDuration(audio: Asset): number {\n\t\tvar data: HTMLAudioElement = <HTMLAudioElement>this._getData(audio);\n\t\treturn data.duration;\n\t}\n\n\tprotected _setTimeCursor(audio: Asset, seconds: number): void {\n\t\tvar data: HTMLAudioElement = <HTMLAudioElement>this._getData(audio);\n\t\tdata.currentTime = seconds;\n\t}\n\n\tprotected _getTimeCursor(audio: Asset): number {\n\t\tvar data: HTMLAudioElement = <HTMLAudioElement>this._getData(audio);\n\t\treturn data.currentTime;\n\t}\n\n\tprotected _setVolume(audio: Asset, volume: number): void {\n\t\tvar data: HTMLAudioElement = <HTMLAudioElement>this._getData(audio);\n\t\tdata.volume = volume;\n\t}\n\n\tprotected _getVolume(audio: Asset): number {\n\t\tvar data: HTMLAudioElement = <HTMLAudioElement>this._getData(audio);\n\t\treturn data.volume;\n\t}\n\n\tprotected _registerStartEvent(asset: Asset, name: string, audio: Asset): void {\n\t\tvar data: HTMLAudioElement = <HTMLAudioElement>asset.getData();\n\t\tdata.addEventListener('playing', (e: Event) => {\n\t\t\tasset.setAttribute('playing', true);\n\t\t\tthis.emit(AudioEvents.STARTED, name, audio);\n\t\t});\n\t}\n\n\tprotected _registerEndEvent(asset: Asset, name: string, audio: Asset): void {\n\t\tvar data: HTMLAudioElement = <HTMLAudioElement>asset.getData();\n\t\tdata.addEventListener('ended', (e: Event) => {\n\t\t\tasset.setAttribute('playing', false);\n\t\t\tthis.emit(AudioEvents.ENDED, name, audio);\n\t\t});\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/audio/HTML5AudioEngine.ts","import * as Events from 'events';\r\nimport {Iterator, IDGenerator} from \"../utils\";\r\nimport { Asset } from \"../assets\";\r\nimport { Coordinate } from \"../utils\";\r\nimport {\r\n\tModelEventTypes,\r\n\tShortAttrChangeEvent,\r\n\tTextureChangeEvent,\r\n\tAttrDeleteEvent\r\n} from './';\r\n\r\nexport class EntityModel extends Events.EventEmitter {\r\n\tprivate _attributes : {[key: string]: any};\r\n\tprivate _id : string;\r\n    private _type: string;\r\n    private _position: Coordinate;\r\n\tprivate _texture : Asset;\r\n\r\n\tpublic constructor () {\r\n\t\tsuper();\r\n\t\tthis._attributes = {};\r\n\t\tthis._id = IDGenerator.getSingleton().generate();\r\n        this._type = 'generic';\r\n        this._position = new Coordinate(0, 0);\r\n\t}\r\n\r\n\tpublic getID () : string {\r\n\t\treturn this._id;\r\n\t}\r\n\r\n\tpublic setType(type: string): void {\r\n\t\tthis._type = type;\r\n\t}\r\n\r\n\tpublic getType(): string {\r\n\t\treturn this._type;\r\n\t}\r\n\r\n\tpublic setTexture (asset: Asset): void {\r\n\t\tthis._texture = asset;\r\n\t\tthis.emit(ModelEventTypes.TEXTURE_CHANGE.toString(), {\r\n\t\t\tattribute : 'texture',\r\n\t\t\tname : name,\r\n\t\t\tvalue : asset\r\n\t\t});\r\n\t}\r\n\r\n\tpublic getTexture () : Asset {\r\n\t\treturn this._texture;\r\n\t}\r\n\r\n\tpublic setAttribute (key : string, value : any) : void {\r\n\t\tvar oldValue = this.getAttribute(key);\r\n\t\tthis._attributes[key] = value;\r\n\t\tthis.emit(ModelEventTypes.ATTR_CHANGE.toString(), {\r\n\t\t\tattribute : key,\r\n\t\t\toldValue : oldValue,\r\n\t\t\tvalue : value\r\n\t\t});\r\n\t}\r\n\r\n\tpublic removeAttribute(key: string) : void {\r\n\t\tvar value = this.getAttribute(key);\r\n\t\tdelete this._attributes[key];\r\n\t\t// if (this._isNotifierKey(key)) {\r\n\t\t\tvar data : AttrDeleteEvent = {\r\n\t\t\t\ttype: ModelEventTypes.ATTR_DELETE.toString(),\r\n\t\t\t\tattribute : key,\r\n\t\t\t\tvalue : value,\r\n\t\t\t\tsource: this\r\n\t\t\t};\r\n\r\n\t\t\tthis.emit(ModelEventTypes.ATTR_DELETE.toString(), data);\r\n\t\t// }\r\n\t}\r\n\r\n\tpublic getAttribute (key : string) : any {\r\n\t\treturn this._attributes[key];\r\n\t}\r\n\r\n\tpublic hasAttribute (key: string) : boolean {\r\n\t\tif (this._attributes[key]) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\t// public iterator () : Iterator {\r\n\t// \t// return new Iterator(this._attributes);\r\n\t// }\r\n\r\n\tpublic sync (listener : any) : void {\r\n\t\t// var evt = ModelEventTypes.ATTR_CHANGE.toString();\r\n\t\t// var iter = this.iterator();\r\n\t\t// var item : any;\r\n\t\t// while (iter.hasNext()) {\r\n\t\t// \titem = iter.next();\r\n\t\t// \tlistener.notify(evt, {\r\n\t\t// \t\tattribute \t: item.key,\r\n\t\t// \t\tvalue \t\t: item.value\r\n\t\t// \t});\r\n\t\t// }\r\n\t\t// listener.notify(evt, {\r\n\t\t// \tattribute \t: 'textures',\r\n\t\t// \tvalue \t\t: this.collectTextures()\r\n\t\t// });\r\n\t}\r\n    public getX(): number {\r\n        return this._position.getX();\r\n    }\r\n    public getY(): number {\r\n        return this._position.getY();\r\n    }\r\n    public setX(x: number): void {\r\n        this._position.setX(x);\r\n    }\r\n    public setY(y: number): void {\r\n        this._position.setY(y);\r\n    }\r\n    public setZ(z: number): void {\r\n        this._position.setZ(z);\r\n    }\r\n    public getZ(): number {\r\n        return this._position.getZ();\r\n    }\r\n    public getPosition(): Coordinate {\r\n        return this._position;\r\n    }\r\n    public setPosition(position: Coordinate): void {\r\n        this._position = position;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/entities/EntityModel.ts","import {EntityView} from \"./EntityView\";\r\n\r\nexport class EntityView2D extends EntityView {\r\n\r\n\t// set visible (state : boolean) {\r\n\t// \tthis._visible = state;\r\n\t// \tvar color = this._getColor();\r\n\t// \tvar pixel = this._createPixel(\r\n\t// \t\tcolor[zen.entities.EntityView.static.R], \r\n\t// \t\tcolor[zen.entities.EntityView.static.G], \r\n\t// \t\tcolor[zen.entities.EntityView.static.B], \r\n\t// \t\tcolor[zen.entities.EntityView.static.A]\r\n\t// \t);\r\n\t// \tif (!state) {\r\n\t// \t\tpixel[zen.entities.EntityView.static.A] = 0;\r\n\t// \t}\r\n\t// \tthis._changeAllPixels(pixel);\r\n\t// }\r\n\r\n\t// *\r\n\t//  * public notify\r\n\t//  *\r\n\t//  *\tNotifies this EntityView of any data changes.\r\n\t//  * \r\n\t//  * @param  {String} evt  \r\n\t//  * @param  {Object} data \r\n\t//  * @return {void}      \r\n\t \r\n\t// public notify (evt: any, data: any) : void {\r\n\t// \tswitch(data.attribute) {\r\n\t// \t\tdefault:\r\n\t// \t\t\tsuper.notify(evt, data);\r\n\t// \t\t\tbreak;\r\n\t// \t}\r\n\t// }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/entities/EntityView2D.ts","import {Entity} from \"./Entity\";\r\nimport {\r\n\tDimension,\r\n\tCoordinate\r\n} from '../interfaces';\r\n\r\nexport class GridMap extends Entity {\r\n\tpublic tileSize : Dimension;\r\n\tpublic tileCount : Coordinate;\r\n\tprivate _tiles : Entity[][];\r\n\r\n\tpublic constructor (tileSize: Dimension, tileCount: Coordinate) {\r\n\t\tsuper();\r\n\r\n\t\tthis.tileSize = tileSize;\r\n\t\tthis.tileCount = tileCount;\r\n\t\tthis._tiles = [];\r\n\r\n\t\tthis.setWidth(this.tileSize.width * this.tileCount.x);\r\n\t\tthis.setHeight(this.tileSize.height * this.tileCount.y);\r\n\r\n\t\tfor (var x = 0; x < this.tileCount.x; x ++) {\r\n            for (var y = 0; y < this.tileCount.y; y++) {\r\n                var tile = this._buildTile(x, y);\r\n\r\n                this.addChild(tile);\r\n\r\n                if (!this._tiles[x]) {\r\n                    this._tiles[x] = [];\r\n                }\r\n\r\n                this._tiles[x][y] = tile;\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n\r\n    protected _buildTile(x: number, y: number) : Entity {\r\n        var tile = new Entity();\r\n        tile.setWidth(this.tileSize.width);\r\n        tile.setHeight(this.tileSize.height);\r\n        tile.setX((x) * this.tileSize.width);\r\n        tile.setY((y) * this.tileSize.height);\r\n        return tile;\r\n    }\r\n\r\n\tpublic getTile (coordinate: Coordinate) : Entity {\r\n\t\treturn this._tiles[coordinate.x][coordinate.y];\r\n\t}\r\n\r\n\tpublic getTiles () : Entity[] {\r\n\t\treturn this._children;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/entities/GridMap.ts","export abstract class LogicEngine {\r\n\tpublic abstract addLogic (id : string, logicMethod: () => void, interval : number) : void;\r\n\tpublic abstract pauseLogic (id: string) : void;\r\n\tpublic abstract resumeLogic (id: string) : void;\r\n\tpublic abstract removeLogic (id: string) : void;\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/engines/LogicEngine.ts","import {LogicEngine} from \"./\";\r\n\r\ninterface LogicCall {\r\n\tmethod: {(): void;};\r\n\tinterval: number;\r\n}\r\n\r\ninterface Interval {\r\n\tmethods: {(): void; }[];\r\n\tinterval_id: any;\r\n}\r\n\r\nexport class GroupLogicEngine extends LogicEngine {\r\n\tprivate _logicCalls : {[key: string]: LogicCall};\r\n\tprivate _intervals : {[key: string]: Interval};\r\n\tprivate _intervalID : string;\r\n\tprivate _interval : number;\r\n\r\n\tpublic constructor () {\r\n\t\tsuper();\r\n\t\tthis._logicCalls = {};\r\n\t\tthis._intervals = {};\r\n\t\tthis._interval = 10;\r\n\t}\r\n\r\n\tpublic addLogic (id: string, logicMethod : () => void, interval : number) : void {\r\n\t\tthis._logicCalls[id] = {\r\n\t\t\t'method': logicMethod,\r\n\t\t\t'interval': interval\r\n\t\t};\r\n\r\n\t\tif (!this._hasInterval(interval)) {\r\n\t\t\t//Create the Interval for this Interval of Logic Loop\r\n\t\t\tthis._createInterval(interval);\r\n\t\t}\r\n\r\n\t\tthis._addToInterval(id);\r\n\t}\r\n\r\n\tpublic pauseLogic (id : string) : void {\r\n\t\tthis._removeFromInterval(id);\r\n\t}\r\n\r\n\tpublic resumeLogic (id: string) : void {\r\n\t\tthis._addToInterval(id);\r\n\t}\r\n\r\n\tpublic removeLogic (id: string) : void {\r\n\t\tif (this._logicCalls[id]) {\r\n\t\t\tthis._removeFromInterval(id);\r\n\t\t\tdelete this._logicCalls[id];\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _createInterval (interval : number) : void {\r\n\t\tvar self = this;\r\n\t\tvar methods : {() : void; }[] = [];\r\n\t\tthis._intervals[interval] = {\r\n\t\t\t'methods': methods,\r\n\t\t\t'interval_id': \tsetInterval(() => {\r\n\t\t\t\t\t\t\t\tthis._processInterval(interval);\r\n\t\t\t\t\t\t\t}, interval)\r\n\t\t};\r\n\t}\r\n\r\n\tprivate _hasInterval (interval: number) : boolean {\r\n\t\treturn this._intervals[interval] != undefined;\r\n\t}\r\n\r\n\tprivate _removeInterval (interval: number) : void {\r\n\t\tclearInterval(this._intervals[interval].interval_id);\r\n\t\tdelete this._intervals[interval];\r\n\t}\r\n\r\n\tprivate _addToInterval (id: string) : void {\r\n\t\tthis._intervals[this._logicCalls[id].interval].methods.push(this._logicCalls[id].method);\r\n\t}\r\n\r\n\tprivate _removeFromInterval (id: string) : void {\r\n\t\tvar interval = this._logicCalls[id].interval;\r\n\t\tthis._intervals[interval].methods.splice(this._intervals[interval].methods.indexOf(this._logicCalls[id].method), 1);\r\n\t\t\r\n\t\tif (this._intervals[interval].methods.length === 0) {\r\n\t\t\tthis._removeInterval(interval);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _processInterval (interval : number) : void {\r\n\t\tfor (var i in this._intervals[interval].methods) {\r\n\t\t\tthis._intervals[interval].methods[i]();\r\n\t\t}\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/engines/GroupLogicEngine.ts","import { ViewPort, Camera, Color, Coordinate } from \"../utils\";\r\nimport { Dimension } from \"../interfaces\";\r\nimport {Entity} from \"../entities\";\r\n\r\n/**\r\n * Abstract Rendering Engine class which at it's core is simply has a list of cameras to render on the screen, each of which may point to a 'scene' entity.\r\n */\r\nexport abstract class RenderingEngine {\r\n\tprivate _viewPort : ViewPort;\r\n\tprivate _prerenderViewPort : ViewPort;\r\n\tprivate _rendering  : boolean;\r\n\tprivate _fps : number;\r\n\tprivate _HUDEntity : Entity;\r\n\tprivate _cameras : Camera[];\r\n\tprivate _animationFrameID : number;\r\n\tprivate _frames : number;\r\n\tprivate _lastRender : Date;\r\n\tprivate _showFPS : boolean;\r\n\tpublic debugCamera : boolean;\r\n\r\n\tpublic constructor () {\r\n\t\tthis._prerenderViewPort = new ViewPort();\r\n\t\tthis._rendering = false;\r\n\t\tthis._fps = 0;\r\n\t\tthis._frames = 0;\r\n\t\tthis._showFPS = true;\r\n\t\tthis._cameras = [];\r\n\t}\r\n\r\n    /**\r\n     * Sets the View Port to render into\r\n     * @param viewPort\r\n     */\r\n\tpublic setViewPort(viewPort: ViewPort): void {\r\n\t\tthis._viewPort = viewPort;\r\n\t}\r\n\r\n    /**\r\n     * Returns the View Port the rendering engine is rendering into\r\n     */\r\n\tpublic getViewPort(): ViewPort {\r\n\t\treturn this._viewPort;\r\n\t}\r\n\r\n    /**\r\n     * Sets an Entity to be rendered outside of a Camera relative to the view port as a HUD element.  Set a single HUD Entity that may contain your entire HUD.\r\n     * @param hud\r\n     */\r\n\tpublic setHUD(hud: Entity): void {\r\n\t\tthis._HUDEntity = hud;\r\n\t}\r\n\r\n    /**\r\n     * Returns the current HUD Element\r\n     */\r\n\tpublic getHUD(): Entity {\r\n\t\treturn this._HUDEntity;\r\n\t}\r\n\r\n    /**\r\n     * Adds a Camera to the list of Cameras to render every frame\r\n     * @param camera\r\n     */\r\n\tpublic addCamera (camera : Camera) : void {\r\n\t\tthis._cameras.push(camera);\r\n\t}\r\n\r\n    /**\r\n     * Removes a Camera from the Camera rendering list\r\n     * @param camera\r\n     */\r\n\tpublic removeCamera (camera : Camera) : void {\r\n\t\tdelete this._cameras[this._cameras.indexOf(camera)];\r\n\t}\r\n\r\n    /**\r\n     * Set the Engine to begin rendering into it's View Port\r\n     */\r\n\tpublic startRendering () : boolean {\r\n\t\tif (this._viewPort) {\r\n\t\t\tvar self = this;\r\n\t\t\tthis._rendering = true;\r\n\t\t\tthis._requestFrame();\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\tconsole.warn('Unable to begin rendering, no view port assigned to rendering engine.');\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n    /**\r\n     * Stop rendering into the View Port\r\n     */\r\n\tpublic stopRendering () : void {\r\n\t\twindow.cancelAnimationFrame(this._animationFrameID);\r\n\t\tthis._animationFrameID = null;\r\n\t\tthis._rendering = false;\r\n\t}\r\n\r\n    /**\r\n     * Use the requestAnimationFrame API to create a render loop\r\n     */\r\n\tprivate _requestFrame () : void {\r\n\t\tif (this._rendering) {\r\n\t\t\tthis._animationFrameID = window.requestAnimationFrame(() => {\r\n\t\t\t\tthis._render();\r\n\t\t\t\tthis._postRender();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n    /**\r\n     * Abstract method to render a frame\r\n     */\r\n\tprotected _render () : void {\r\n        this._viewPort.clear();\r\n\r\n        for (var i in this._cameras) {\r\n            this._renderCamera(this._cameras[i])\r\n        }\r\n\r\n        //Render HUD Entity\r\n        if (this.getHUD()) {\r\n            this._renderHUDEntity(this.getHUD());\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Render an Entity relative to the View Port to create a 'HUD' or 'Menus'\r\n     * @param hudEntity\r\n     */\r\n    protected _renderHUDEntity(hudEntity: Entity): void {\r\n        var x = hudEntity.getX();\r\n        var y = hudEntity.getY();\r\n        var w = hudEntity.getWidth();\r\n        var h = hudEntity.getHeight();\r\n\r\n        //Rendering time!\r\n        if (hudEntity.getColor()) {\r\n            //Draw a rect in its place...\r\n            var color: Color = hudEntity.getColor();\r\n            this.getViewPort().getContext().fillStyle = color.toString();\r\n            this.getViewPort().getContext().fillRect(x, y, w, h);\r\n        }\r\n\r\n        if (hudEntity.getTexture()) {\r\n            var imageData = hudEntity.getTexture().getData();\r\n            this.getViewPort().getContext().drawImage(imageData, x, y, w, h)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Render a single camera into the viewport\r\n     */\r\n    protected _renderCamera(camera: Camera): void {\r\n        var scene = camera.getScene();\r\n        var context = this.getViewPort().getContext();\r\n\r\n        if (this.debugCamera) {\r\n            //For Debugging purposes.. Draw a rect where each camera should be\r\n            var viewPoint: Coordinate = camera.getViewPoint();\r\n            var fov: Dimension = camera.getFOV();\r\n            var renderOrigin: Coordinate = camera.getRenderOrigin();\r\n            var renderDimension: Dimension = camera.getRenderDimension();\r\n\r\n            context.beginPath();\r\n            context.rect(viewPoint.getX(), viewPoint.getY(), fov.width, fov.height);\r\n            context.lineWidth = 7;\r\n            context.strokeStyle = 'red';\r\n            context.stroke();\r\n\r\n            context.beginPath();\r\n            context.rect(renderOrigin.getX(), renderOrigin.getY(), renderDimension.width, renderDimension.height);\r\n            context.lineWidth = 7;\r\n            context.fillStyle = 'black';\r\n            context.fill();\r\n            context.strokeStyle = 'green';\r\n            context.stroke();\r\n        }\r\n\r\n        var color: Color = new Color(255, 255, 0);\r\n        this.getViewPort().getContext().fillStyle = color.toString();\r\n        this.getViewPort().getContext().fillRect(camera.getRenderOrigin().getX(), camera.getRenderOrigin().getY(), camera.getRenderDimension().width, camera.getRenderDimension().height);\r\n\r\n        this._renderEntity(scene, camera);\r\n    }\r\n\r\n    protected abstract _renderEntity(entity: Entity, camera: Camera): void;\r\n\r\n    /**\r\n     * Count every render loop in a second to show the FPS of the game\r\n     */\r\n\tprivate _calculateFPS () : void {\r\n\t\tvar date = new Date(); //Get current Date/Time\r\n\r\n\t\tif (this._lastRender) { //If we have a store Date/Time from last rendering\r\n\t\t\tif (this._lastRender.getSeconds() != date.getSeconds()) { //This is a new second, calculate the average FPS for the last second and display it\r\n\t\t\t\t// var avg : number = 0;\r\n\t\t\t\t// var i : any;\r\n\t\t\t\t// for (i in this._frames) {\r\n\t\t\t\t// \tavg += this._frames[i];\r\n\t\t\t\t// }\r\n\t\t\t\tthis._fps = this._frames;\r\n\t\t\t\tthis._frames = 1;\r\n\t\t\t} else { //It's the same second as last render, just add the FPS to an array so we can calculate the Average later\r\n\t\t\t\tthis._frames += 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis._lastRender = date;\r\n\t}\r\n\r\n    /**\r\n     * PostRender methods to modify the view and request the next animation frame\r\n     */\r\n\tprivate _postRender () : void {\r\n\t\t//TODO: Call PostProcessors here\r\n\r\n\t\tif (this._showFPS) {\r\n\t\t\t//Calculate the FPS\r\n\t\t\tthis._calculateFPS();\r\n\r\n\t\t\t//Draw the FPS on the screen\r\n\t\t\tvar ctx = this._viewPort.getContext();\r\n\t\t\tctx.globalAlpha=0.5;\r\n\t\t\tctx.fillStyle = 'black';\r\n\t\t\tctx.fillRect(0,0,100,35);\r\n\t\t\tctx.globalAlpha=1;\r\n\t\t\tctx.fillStyle = 'white';\r\n\t\t\tctx.font=\"20px Georgia\";\r\n\t\t\tctx.fillText(this._fps + \" FPS\",20,25);\r\n\t\t}\r\n\r\n\t\t//Start request for next frame\r\n\t\tthis._requestFrame();\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/engines/RenderingEngine.ts"," import {RenderingEngine} from \"./\";\r\nimport {Camera, Iterator, Color, Coordinate} from \"../utils\";\r\nimport { Entity} from \"../entities\";\r\nimport {\r\n\tDimension\r\n} from '../interfaces';\r\n\r\ninterface entityClippings {\r\n    leftClip: number,\r\n    rightClip: number,\r\n    topClip: number,\r\n    bottomClip: number\r\n}\r\n\r\nexport class TwoDimensionalRenderingEngine extends RenderingEngine {\r\n    public debugRegions: boolean;\r\n    private _isometricRendering: boolean = false;\r\n    private _rotation = 0;\r\n\r\n\tprotected _renderEntity (entity: Entity, camera? : Camera) : boolean {\r\n        //Positions & Dimensions to work with for the render\r\n        var renderOrigin: Coordinate = camera.getRenderOrigin(); //The origin coordinates in the canvas to render this camera from\r\n        var renderDimension: Dimension = camera.getRenderDimension(); //The origin dimensions in the canvas to render the canvas to\r\n        var cameraFOV = camera.getFOV(); //The current field of view of the Camera\r\n        var entityPosition = this._getEntityCoordinates(entity);\r\n        var entityAbsolutePosition = entityPosition.inner;\r\n        var entityAbsoluteOuterPosition = entityPosition.outer;\r\n        var cameraPosition: Coordinate = camera.getViewPoint(); //The camera's absolute position in the game\r\n        if (this._isometricRendering) {\r\n            cameraPosition = cameraPosition.toIsometric();\r\n        }\r\n        var cameraOuterPosition: Coordinate = new Coordinate(cameraPosition.getX() + camera.getFOV().width, cameraPosition.getY() + camera.getFOV().height);\r\n\r\n        //Check if Entity is in the camera's view to continue rendering or discontinue here\r\n        if (!this._isEntityInCamera(entityAbsolutePosition, entityAbsoluteOuterPosition, cameraPosition, cameraOuterPosition)) {\r\n            return false;\r\n        }\r\n\r\n\t\t//Calculate the entities clipping\r\n        var entityClippings: entityClippings = this._calculateEntityClipping(entityAbsolutePosition, entityAbsoluteOuterPosition, cameraPosition, cameraOuterPosition);\r\n\r\n\t\t//Calculate how much we must skew the render based on the camera's FOV\r\n        var xModifier = cameraFOV.width / renderDimension.width;\r\n        var yModifier = cameraFOV.height / renderDimension.height;\r\n        var zModifier = (xModifier + yModifier) / 2;\r\n\r\n        //Calculate the x & y of the entity relative to the camera's view point & fov\r\n        var cameraRelativeY = (entityAbsolutePosition.getY() - cameraPosition.getY()) / yModifier;\r\n\t\tif (cameraRelativeY < 0) {\r\n\t\t\tcameraRelativeY = 0;\r\n\t\t}\r\n\r\n        var cameraRelativeX = (entityAbsolutePosition.getX() - cameraPosition.getX()) / xModifier;\r\n\t\tif (cameraRelativeX < 0) {\r\n\t\t\tcameraRelativeX = 0;\r\n\t\t}\r\n\r\n        //Calculate the Clipped Dimensions of the Entity based on how much of it is outside the camera\r\n        var clippedEntityHeight = (entity.getHeight() - entityClippings.topClip - entityClippings.bottomClip);\r\n        var clippedEntityWidth = (entity.getWidth() - entityClippings.rightClip - entityClippings.leftClip);\r\n\r\n        //Calculate the x, y, w, and h to render the entity onto the canvas\r\n        var x = renderOrigin.getX() + cameraRelativeX;\r\n        //if (this._isometricRendering && entity.getParent()) {\r\n        //    x += ((entity.getParent().getWidth()) - entity.getWidth()) / xModifier;\r\n        //}\r\n        var y = renderOrigin.getY() + cameraRelativeY;\r\n        var z = entityAbsolutePosition.getZ() / yModifier;\r\n\r\n\t\tvar w = clippedEntityWidth / xModifier;\r\n\t\tvar h = clippedEntityHeight / yModifier;\r\n\r\n        if (this._isometricRendering) {\r\n            w = w * 2;\r\n            y -= z;\r\n            //if (entity.getParent()) {\r\n            //    x += (entity.getParent().getWidth() / 2) * xModifier;\r\n            //}\r\n        }\r\n\r\n\t\t//Begin rendering the Entity\r\n        //if (this._isometricRendering) {\r\n        //    if (entity instanceof IsometricTile) {\r\n        //        var tileX = x - (w / 2);\r\n        //        var y2 = y + h;\r\n        //        var x2 = tileX + (w * 2);\r\n        //        //console.log(isoX, isoY, isoX2, isoY2);\r\n        //        //this.viewPort.context.strokeRect(isoX, isoY, isoX2 - isoX, isoY2 - isoY);\r\n        //        //Draw Isometric Layout\r\n        //        this.getViewPort().getContext().beginPath();\r\n        //        //Left Middle\r\n        //        this.getViewPort().getContext().moveTo(tileX + (w / 2), y + ((y2 - y) / 2));\r\n        //        //Top middle\r\n        //        this.getViewPort().getContext().lineTo(tileX + ((x2 - tileX) / 2), y);\r\n        //        //Right Middle\r\n        //        this.getViewPort().getContext().lineTo(x2 - (w / 2), y + ((y2 - y) / 2));\r\n        //        //Bottom Middle\r\n        //        this.getViewPort().getContext().lineTo(tileX + ((x2 - tileX) / 2), y2);\r\n        //        //Left Middle\r\n        //        this.getViewPort().getContext().closePath();\r\n        //        this.getViewPort().getContext().stroke();\r\n        //    }\r\n        //}\r\n\r\n        //If the Entity has a 'Color', render it\r\n        //@todo: Rendering should always be simply rendering an 'asset', which may have been a generated asset of a color\r\n\t\tif (entity.getColor()) {\r\n\t\t\t//Draw a rect in its place...\r\n\t\t\tvar color: Color = entity.getColor();\r\n\t\t\tthis.getViewPort().getContext().fillStyle = color.toString();\r\n\t\t\tthis.getViewPort().getContext().fillRect(x, y, w, h);\r\n\t\t}\r\n\r\n\t\t//Debug Flag\r\n\t\tif (this.debugRegions) {\r\n\t\t\tvar regions: Entity[][][] = entity.getRegions();\r\n\t\t\tfor (var x_i in regions) {\r\n\t\t\t\tfor (var y_i in regions[x]) {\r\n\t\t\t\t\tif (regions[x_i][y_i].length > 0) { \r\n\t\t\t\t\t\t// this._viewPort.context.fillStyle = \"rgb(\" + Math.floor((Math.random() * 255) + 1) + \",\" + Math.floor((Math.random() * 255) + 1) + \",\" + Math.floor((Math.random() * 255) + 1) + \")\";\r\n\t\t\t\t\t\tthis.getViewPort().getContext().strokeStyle = \"red\";\r\n\t\t\t\t\t\tthis.getViewPort().getContext().strokeRect(entity.getAbsoluteX() + entity.getRegionDimension().width * parseInt(x_i), entity.getAbsoluteY() + entity.getRegionDimension().height * parseInt(y_i), entity.getRegionDimension().width, entity.getRegionDimension().height);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// Math.floor((Math.random() * 255) + 1), Math.floor((Math.random() * 255) + 1), Math.floor((Math.random() * 255) + 1)\r\n\t\t}\r\n\r\n\t\tif (entity.getTexture()) {\r\n\t\t\tvar imageData = entity.getTexture().getData();\r\n\r\n\t\t\tvar entityToImageYModifier = imageData.height / entity.getHeight();\r\n\t\t\tvar entityToImageXModifier = imageData.width / entity.getWidth();\r\n\r\n\t\t\tvar clippedImageHeight = clippedEntityHeight * entityToImageYModifier;\r\n\r\n\t\t\tvar clippedImageWidth =  clippedEntityWidth * entityToImageXModifier;\r\n\r\n            this.getViewPort().getContext().drawImage(imageData, entityClippings.leftClip * entityToImageXModifier, entityClippings.topClip * entityToImageYModifier, clippedImageWidth, clippedImageHeight, x, y, w, h)\r\n        }\r\n\r\n\r\n\r\n        //Render Entities from Lowest Z & Y upwards\r\n        //@todo: This index should be built outside the engine and not recreated every render\r\n        //@todo: Don't continue traversing children if 'cached' and not dirty\r\n        var index: any = [];\r\n\r\n        var children = entity.getChildren();\r\n\r\n        while (children.hasNext()) {\r\n            var child = children.next();\r\n            var childCoords = this._getEntityCoordinates(child);\r\n            var inner = childCoords.inner;\r\n            var outer = childCoords.outer;\r\n\r\n\r\n                var added = false;\r\n                for (var i in index) {\r\n                    var otherChild = index[i];\r\n                    var otherChildCoords = this._getEntityCoordinates(otherChild);\r\n                    if (!added) {\r\n   \r\n                        //Checks if the Child has less Y, or if it has more Y, if it has less y2 and on the left side of the other child\r\n                        //or if it has more y but is on the right half of other child but the y is less then other childs middle y\r\n                        //inner.incrementY(inner.getZ());\r\n                        //outer.incrementY(outer.getZ());\r\n                        //otherChildCoords.inner.incrementY(otherChildCoords.inner.getZ());\r\n                        //otherChildCoords.outer.incrementY(otherChildCoords.outer.getZ());\r\n\r\n                        var myTotal = (inner.getZ() + (inner.getX() / 2) + inner.getY());\r\n                        var theirTotal = (otherChildCoords.inner.getZ() + (otherChildCoords.inner.getX() / 2) + otherChildCoords.inner.getY());\r\n\r\n                        var myOuterTotal = (inner.getZ() + (outer.getX() / 2) + outer.getY());\r\n                        var theirOuterTotal = (otherChildCoords.inner.getZ() + (otherChildCoords.outer.getX() / 2) + otherChildCoords.outer.getY());\r\n\r\n                        //if (child.id === \"player\" && otherChild.id === \"Block12\") {\r\n                        //        console.log(myTotal, theirTotal);\r\n                        //}\r\n\r\n                        if (myTotal < theirTotal) {\r\n                            if (myOuterTotal < theirOuterTotal) {\r\n                                index.splice(i, 0, child);\r\n                                added = true;\r\n                            }\r\n                        } else if (myTotal === theirTotal && inner.getY() < otherChildCoords.inner.getY()) {\r\n                            index.splice(i, 0, child);\r\n                            added = true;\r\n                        }\r\n\r\n                        //if (inner.getZ() < otherChildCoords.outer.getZ()) {\r\n                        //    index.splice(i, 0, child);\r\n                        //    added = true;\r\n                        //} else if (inner.getY() < otherChildCoords.inner.getY() ||\r\n                        //    (inner.getY() > otherChildCoords.inner.getY() &&\r\n                        //        outer.getY() < otherChildCoords.outer.getY() &&\r\n                        //        inner.getX() < otherChildCoords.inner.getX() + ((otherChildCoords.outer.getX() - otherChildCoords.inner.getX()) / 2))\r\n                        //    || (inner.getY() > otherChildCoords.inner.getY() &&\r\n                        //        outer.getY() < otherChildCoords.outer.getY() &&\r\n                        //        inner.getX() > otherChildCoords.inner.getX() + ((otherChildCoords.outer.getX() - otherChildCoords.inner.getX()) / 2)\r\n                        //        && inner.getY() < (otherChildCoords.inner.getY() + (otherChildCoords.outer.getY() - otherChildCoords.inner.getY()) / 2))) {\r\n                        //    index.splice(i, 0, child);\r\n                        //    added = true;\r\n                        //}\r\n\r\n                        //if (\r\n                        //    inner.getY() < otherChildCoords.inner.getY() ||\r\n                        //    (inner.getY() > otherChildCoords.inner.getY() &&\r\n                        //        outer.getY() < otherChildCoords.outer.getY() &&\r\n                        //        inner.getX() < otherChildCoords.inner.getX() + ((otherChildCoords.outer.getX() - otherChildCoords.inner.getX()) / 2))\r\n                        //    || (inner.getY() > otherChildCoords.inner.getY() &&\r\n                        //        outer.getY() < otherChildCoords.outer.getY() &&\r\n                        //        inner.getX() > otherChildCoords.inner.getX() + ((otherChildCoords.outer.getX() - otherChildCoords.inner.getX()) / 2)\r\n                        //        && inner.getY() < (otherChildCoords.inner.getY() + (otherChildCoords.outer.getY() - otherChildCoords.inner.getY()) / 2))) {\r\n                        //    index.splice(i, 0, child);\r\n                        //    added = true;\r\n                        //    if (child.id === \"player\") {\r\n                        //        console.log(i);\r\n                        //    }\r\n                        //}\r\n                    }\r\n                }\r\n\r\n                if (!added) {\r\n                    added = true;\r\n                    index.push(child);\r\n                }\r\n            }\r\n\r\n        for (var i in index) {\r\n                this._renderEntity(index[i], camera);\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    public setIsometricRendering(state: boolean) {\r\n        this._isometricRendering = state;\r\n    }\r\n\r\n    private _getEntityCoordinates(entity: Entity) : any {\r\n        var entityAbsolutePosition = new Coordinate(entity.getAbsoluteX(), entity.getAbsoluteY(), entity.getZ()); //The absolute position of the entity in the game\r\n        if (this._isometricRendering && entity.getParent()) {\r\n            //Recenter coordinates inside isometric parent so it isn't overflowing inside render\r\n            //entityAbsolutePosition.incrementY(0 - (entity.getParent().getHeight() / 2));\r\n            //entityAbsolutePosition.incrementX((entity.getParent().getWidth() / 2));\r\n        }\r\n        var entityAbsoluteOuterPosition = new Coordinate(entityAbsolutePosition.getX() + entity.getWidth(), entityAbsolutePosition.getY() + entity.getHeight());\r\n\r\n        if (this._isometricRendering) {\r\n            //Convert to Iso Coordinates\r\n            //We stretch isometric entities to x2 width, so add to the outer positions x\r\n            entityAbsoluteOuterPosition.incrementX(entity.getWidth());\r\n            entityAbsoluteOuterPosition.incrementY(0 - entity.getHeight());\r\n\r\n            entityAbsolutePosition = entityAbsolutePosition.toIsometric();\r\n            entityAbsoluteOuterPosition = entityAbsoluteOuterPosition.toIsometric();\r\n\r\n        }\r\n\r\n        return { inner: entityAbsolutePosition, outer: entityAbsoluteOuterPosition };\r\n    }\r\n\r\n    protected _isEntityInCamera(entityAbsolutePosition: Coordinate, entityAbsoluteOuterPosition: Coordinate, cameraPosition: Coordinate, cameraOuterPosition: Coordinate) {\r\n        //Check if Entity is even in view for this camera\r\n        var collidesXAxis: boolean = false;\r\n        var collidesYAxis: boolean = false;\r\n\r\n        if ((entityAbsolutePosition.getX() < cameraOuterPosition.getX() && entityAbsoluteOuterPosition.getX() > cameraPosition.getX())\r\n            || (entityAbsoluteOuterPosition.getX() > cameraPosition.getX() && entityAbsolutePosition.getX() < cameraOuterPosition.getX())) {\r\n            collidesXAxis = true;\r\n        }\r\n\r\n        if ((entityAbsolutePosition.getY() < cameraOuterPosition.getY() && entityAbsoluteOuterPosition.getY() > cameraPosition.getY())\r\n            || (entityAbsoluteOuterPosition.getY() > cameraPosition.getY() && entityAbsolutePosition.getY() < cameraOuterPosition.getY())) {\r\n            collidesYAxis = true;\r\n        }\r\n\r\n\r\n        //If it doesn't collide in both axises, it's not in the camera, so do not continue rendering it or it's children\r\n        return collidesXAxis && collidesYAxis;\r\n    }\r\n\r\n    protected _calculateEntityClipping(entityAbsolutePosition: Coordinate, entityAbsoluteOuterPosition: Coordinate, cameraPosition: Coordinate, cameraOuterPosition: Coordinate): entityClippings {\r\n        //Calculate which parts of the image to render\r\n        //Check for Left Clipping\r\n        var leftClip = 0;\r\n        if (entityAbsolutePosition.getX() < cameraPosition.getX()) {\r\n            leftClip = cameraPosition.getX() - entityAbsolutePosition.getX();\r\n        }\r\n\r\n        //Check for Right Clipping\r\n        var rightClip = 0;\r\n        if (entityAbsoluteOuterPosition.getX() > cameraOuterPosition.getX()) {\r\n            rightClip = entityAbsoluteOuterPosition.getX() - cameraOuterPosition.getX();\r\n        }\r\n\r\n        if (this._isometricRendering) {\r\n            leftClip = leftClip / 2;\r\n            rightClip = rightClip / 2;\r\n        }\r\n\r\n        //Check for Top Clipping\r\n        var topClip = 0;\r\n        if ((entityAbsolutePosition.getY()) < cameraPosition.getY()) {\r\n            topClip = (cameraPosition.getY()) - (entityAbsolutePosition.getY());\r\n        }\r\n\r\n        //Check for Bottom Clipping\r\n        var bottomClip = 0;\r\n        if ((entityAbsoluteOuterPosition.getY()) > cameraOuterPosition.getY()) {\r\n            bottomClip = (entityAbsoluteOuterPosition.getY()) - cameraOuterPosition.getY();\r\n        }\r\n\r\n        return { leftClip, rightClip, topClip, bottomClip };\r\n    }\r\n\r\n    public rotate() {\r\n        this._rotation += 1;\r\n        if (this._rotation > 3) {\r\n            this._rotation = 0;\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/engines/TwoDimensionalRenderingEngine.ts","// This is the export file to expose the classes of this package to external of this library.\n// The exports must be named therefore importing, and exporting is necessary.\n\n// If a particular module exports multiple items, ensure to include all that should be exposed to the public API.\n\nimport { GamePadListener, GamePadListenerEvents } from \"./GamePadListener\";\nimport { GamePad, GamePadEvents, ValueChangeEvent} from \"./GamePad\";\nimport { Keyboard, KeyboardKeys, KeyboardEvents, KeyUp, KeyDown } from \"./Keyboard\";\nimport { Mouse, MouseEvents, MouseClickEvent, MouseMoveEvent, ScrollWheelMove } from \"./Mouse\";\nimport { Touch, TouchMoveEvent, TouchEvents } from \"./Touch\";\nimport { TouchListener, TouchListenerEvents } from \"./TouchListener\";\n\nexport {\n    GamePad,\n    GamePadEvents,\n    GamePadListener,\n    GamePadListenerEvents,\n    ValueChangeEvent,\n    Keyboard,\n    KeyboardKeys,\n    KeyboardEvents,\n    KeyUp,\n    KeyDown,\n    Mouse,\n    MouseEvents,\n    MouseClickEvent,\n    MouseMoveEvent,\n    ScrollWheelMove,\n    Touch,\n    TouchMoveEvent,\n    TouchEvents,\n    TouchListener,\n    TouchListenerEvents\n};\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/inputs/index.ts","//Global interface alias\ntype NativeGamepadEvent = GamepadEvent;\ntype NativeGamepad = Gamepad;\n\nimport { GamePad } from \"./GamePad\";\nimport * as Events from 'events';\n\n\nexport const enum GamePadListenerEvents {\n    GamePadAdded = \"GAMEPADADDED\",\n    GamePadRemoved = \"GAMEPADREMOVED\"\n}\n\n/**\n * Listens to the window and detects any new gamePads plugged in.  GamePads may only be detected once a button is clicked.\n */\nexport class GamePadListener extends Events.EventEmitter {\n    private static _instance: GamePadListener;\n    private _activeGamePads: GamePad[];\n    private _gamePadPollTimer: number;\n\n    private constructor() {\n        super();\n\n        //NOTE: GamePad events only fire on Firefox\n        //window.addEventListener(\"gamepadconnected\", () => {\n        //    var gamePads: NativeGamepad[] = navigator.getGamepads();\n        //    //Identify the new Gamepad by index\n        //    for (var i = 0; i < gamePads.length; i++) {\n        //        if (!this._activeGamePads[i]) {\n        //            //There is no GamePad at this index, register the new one and emit it\n        //            var gamePad: GamePad = this._buildGamePad(i);\n        //            this.emit(InputManagerEvents.GamePadAdded, gamePad);\n        //        }   \n        //    }\n        //});\n\n        //window.addEventListener(\"gamepaddisconnected\", () => {\n        //    var gamePads: NativeGamepad[] = navigator.getGamepads();\n        //    //Identify the deleted Gamepad by index\n        //    for (var i = 0; i < this._activeGamePads.length; i++) {\n        //        if (!gamePads[i]) {\n        //            //There is no GamePad at this index, register the new one and emit it;\n        //            var gamePad: GamePad = this._activeGamePads[i];\n        //            this.emit(InputManagerEvents.GamePadRemoved, gamePad);\n        //        }\n        //    }\n        //});\n\n        if (navigator.getGamepads) {\n            //Build initial set of gamepads\n            this._buildGamePads();\n\n            //Poll for new gamepads or deactivated gamepads\n            this._gamePadPollTimer = window.setInterval(() => {\n                var gamePads: NativeGamepad[] = navigator.getGamepads();\n                //Identify the new Gamepad by index\n                for (var i = 0; i < gamePads.length; i++) {\n                    if (gamePads[i] && !this._activeGamePads[i]) {\n                        //There is no GamePad at this index, register the new one and emit it\n                        var gamePad: GamePad = this._buildGamePad(i);\n                        this.emit(GamePadListenerEvents.GamePadAdded, gamePad);\n                    } else if (!gamePads[i] && this._activeGamePads[i]) {\n                        var gamePad: GamePad = this._activeGamePads[i];\n                        delete this._activeGamePads[i];\n                        this.emit(GamePadListenerEvents.GamePadRemoved, gamePad);\n                    }\n                }\n            }, 15);\n        } else {\n            console.log(\"Browser does not support GamePad API\");\n        }\n    }\n\n    private _buildGamePads(): void {\n        var gamePads: NativeGamepad[] = navigator.getGamepads();\n        this._activeGamePads = [];\n\n        for (var i = 0; i < gamePads.length; i++) {\n            if (gamePads[i]) {\n                this._buildGamePad(i);\n            }\n        }\n    }\n\n    /**\n     * \n     * @param index - Index in the HTML5 gamePad API that this GamePad represents.  An index is used over the object so polling update checks can be done.\n     */\n    private _buildGamePad(index: number): GamePad {\n        var gamePad: GamePad = new GamePad(index);\n        this._activeGamePads[index] = gamePad;\n        return gamePad;\n    }\n\n    static getInstance(): GamePadListener {\n        GamePadListener._instance = GamePadListener._instance || new GamePadListener();\n        return GamePadListener._instance;\n    }\n\n    public hasGamePads(): boolean {\n        return this._activeGamePads.length > 0;\n    }\n\n    public getGamePads(): GamePad[] {\n        return this._activeGamePads;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/inputs/GamePadListener.ts","import * as Events from 'events';\nimport {Event} from \"../interfaces\";\n\n\n//Keycode values taken from https://github.com/wesbos/keycodes\nexport const KeyboardKeys  = {\n    0: 48,\n    1: 49,\n    2: 50,\n    3: 51,\n    4: 52,\n    5: 53,\n    6: 54,\n    7: 55,\n    8: 56,\n    9: 57,\n    \"BREAK\": 3,\n    \"BACKSPACE\": 8,\n    \"TAB\": 9,\n    \"CLEAR\": 12,\n    \"ENTER\": 13,\n    \"SHIFT\": 16,\n    \"CTRL\": 17,\n    \"ALT\": 18,\n    \"PAUSE\": 19,\n    \"CAPSLOCK\": 20,\n    \"ESCAPE\": 27,\n    \"SPACEBAR\": 32,\n    \"PAGEUP\": 33,\n    \"PAGEDOWN\": 34,\n    \"END\": 35,\n    \"HOME\": 36,\n    \"LEFTARROW\": 37,\n    \"UPARROW\": 38,\n    \"RIGHTARROW\": 39,\n    \"DOWNARROW\": 40,\n    \"SELECT\": 41,\n    \"PRINT\": 42,\n    \"EXECUTE\": 43,\n    \"PRINTSCREEN\": 44,\n    \"INSERT\": 45,\n    \"DELETE\": 46,\n    \"COLON\": 58,\n    \"SEMICOLON\": 59,\n    \"LESSTHAN\": 60,\n    \"EQUALS\": 61,\n    \"AMPERSAT\": 64,\n    \"A\": 65,\n    \"B\": 66,\n    \"C\": 67,\n    \"D\": 68,\n    \"E\": 69,\n    \"F\": 70,\n    \"G\": 71,\n    \"H\": 72,\n    \"I\": 73,\n    \"J\": 74,\n    \"K\": 75,\n    \"L\": 76,\n    \"M\": 77,\n    \"N\": 78,\n    \"O\": 79,\n    \"P\": 80,\n    \"Q\": 81,\n    \"R\": 82,\n    \"S\": 83,\n    \"T\": 84,\n    \"U\": 85,\n    \"V\": 86,\n    \"W\": 87,\n    \"X\": 88,\n    \"Y\": 89,\n    \"Z\": 90,\n    \"WINDOWSKEY\": 91,\n    \"RIGHTWINDOWSKEY\": 92,\n    \"WINDOWSMENU\": 93,\n    \"NUM0\": 96,\n    \"NUM1\": 97,\n    \"NUM2\": 98,\n    \"NUM3\": 99,\n    \"NUM4\": 100,\n    \"NUM5\": 101,\n    \"NUM6\": 102,\n    \"NUM7\": 103,\n    \"NUM8\": 104,\n    \"NUM9\": 105,\n    \"NUMMULTIPLY\": 106,\n    \"NUMADD\": 107,\n    \"NUMPERIOD\": 108,\n    \"NUMSUBTRACT\": 109,\n    \"DECIMALPOINT\": 110,\n    \"NUMDIVIDE\": 111,\n    \"F1\": 112,\n    \"F2\": 113,\n    \"F3\": 114,\n    \"F4\": 115,\n    \"F5\": 116,\n    \"F6\": 117,\n    \"F7\": 118,\n    \"F8\": 119,\n    \"F9\": 120,\n    \"F10\": 121,\n    \"F11\": 122,\n    \"F12\": 123,\n    \"F13\": 124,\n    \"F14\": 125,\n    \"F15\": 126,\n    \"F16\": 127,\n    \"F17\": 128,\n    \"F18\": 129,\n    \"F19\": 130,\n    \"F20\": 131,\n    \"F21\": 132,\n    \"F22\": 133,\n    \"F23\": 134,\n    \"F24\": 135,\n    \"NUMLOCK\": 144,\n    \"SCROLLLOCK\": 145,\n    \"CARET\": 160,\n    \"EXCLAMATION\": 161,\n    \"POUND\": 163,\n    \"MONEYSIGN\": 164,\n}\n//\"\":\"165\",\"page backward\":\"166\",\"page forward\":\"167\",\"closing paren (AZERTY)\":\"169\",\"*\":\"170\",\"~ + * key\":\"171\",\"minus (firefox), mute/unmute\":\"173\",\"decrease volume level\":\"174\",\"increase volume level\":\"175\",\"next\":\"176\",\"previous\":\"177\",\"stop\":\"178\",\"play/pause\":\"179\",\"e-mail\":\"180\",\"mute/unmute (firefox)\":\"181\",\"decrease volume level (firefox)\":\"182\",\"increase volume level (firefox)\":\"183\",\"semi-colon / \":\"186\",\"equal sign \":\"187\",\"comma\":\"188\",\"dash \":\"189\",\"period \":\"190\",\"forward slash / \":\"191\",\"grave accent / \":\"192\",\"?, / or \":\"193\",\"numpad period (chrome)\":\"194\",\"open bracket \":\"219\",\"back slash \":\"220\",\"close bracket \":\"221\",\"single quote \":\"222\",\"`\":\"223\",\"left or right  key (firefox)\":\"224\",\"altgr\":\"225\",\"< /git >\":\"226\",\"GNOME Compose Key\":\"230\",\"XF86Forward\":\"233\",\"XF86Back\":\"234\",\"toggle touchpad\":\"255\"}\nexport const enum KeyboardEvents {\n    KeyUp = \"KEYUP\",\n    KeyDown = \"KEYDOWN\"\n}\n\nexport interface KeyUp extends Event {\n    key:  number;\n}\n\nexport interface KeyDown extends Event {\n    key: number;\n}\n\nexport class Keyboard extends Events.EventEmitter {\n    private _buttonMap : {[key: string]: any}; //Mapping of Button Values\n    private _buttonsActive : {[key: string]: boolean};//Mapping of Buttons that are actively being used by the user right now (Ex: Keyboard button down)\n    private static _instance: Keyboard;\n\n    constructor () {\n        super();\n        this._buttonMap = {};\n        this._buttonsActive = {};\n\n        window.addEventListener(\"keydown\", (e: KeyboardEvent) => {\n            if (!this.isButtonActive(e.which)) {\n                this._setButtonActive(e.which, true);\n                this._setButtonValue(e.which, true);\n\n                let event : KeyUp = {\n                    type: KeyboardEvents.KeyDown,\n                    source: this,\n                    key: e.which\n                };\n\n                this.emit(KeyboardEvents.KeyDown, event);\n            }\n        }, true);\n\n        window.addEventListener(\"keyup\", (e: KeyboardEvent) => {\n            this._setButtonActive(e.which, false);\n            this._setButtonValue(e.which, false);\n\n            let event : KeyDown = {\n                type: KeyboardEvents.KeyUp,\n                source: this,\n                key: e.which\n            };\n\n            this.emit(KeyboardEvents.KeyUp, event);\n        }, true);\n    }\n\n    protected _setButtonActive (id: number, active: boolean) : void {\n        this._buttonsActive[id] = active;\n    }\n\n    public isButtonActive (id: number) : boolean {\n        return this._buttonsActive[id] === true;\n    }\n\n    public getButtonValue (id: number) : any {\n        return this._buttonMap[id];\n    }\n\n    protected _setButtonValue (id: number, value: any) : void {\n        this._buttonMap[id] = value;\n    }\n\n    static getInstance(): Keyboard {\n        Keyboard._instance = Keyboard._instance || new Keyboard();\n        return Keyboard._instance;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/inputs/Keyboard.ts","import {Event} from \"../interfaces\";\nimport {Coordinate} from '../utils';\nimport * as Events from 'events';\n\nexport const enum MouseEvents {\n    LeftButtonDown = \"LEFTBUTTONDOWN\",\n    LeftButtonUp = \"LEFTBUTTONUP\",\n    RightButtonDown = \"RIGHTBUTTONDOWN\",\n    RightButtonUp = \"RIGHTBUTTONUP\",\n    MouseMove = \"MOUSEMOVE\",\n    ScrollWheelDown = \"SCROLLWHEELDOWN\",\n    ScrollWheelUp = \"SCROLLWHEELUP\",\n    ScrollWheelMove = \"SCROLLWHEELMOVE\"\n}\n\nexport interface MouseClickEvent extends Event {\n    x: number,\n    y: number\n}\n\nexport interface MouseMoveEvent extends Event {\n    x: number,\n    y: number\n}\n\nexport interface ScrollWheelMove extends Event {\n    x: number,\n    y: number,\n    yDelta: number,\n    xDelta: number\n}\n\nexport class Mouse extends Events.EventEmitter {\n    private static _instance: Mouse;\n    private _leftButtonDown : boolean = false;\n    private _rightButtonDown : boolean = false;\n    private _scrollWheelDown : boolean = false;\n    private _mouseCoords : Coordinate = new Coordinate(0,0,0);\n\n    private constructor () {\n        super();\n\n        window.addEventListener(\"contextmenu\", (e: MouseEvent) => {\n            e.preventDefault();\n        });\n\n        window.addEventListener(\"mousedown\", (e: MouseEvent) => {\n            if (e.button === 0) {\n                this._leftButtonDown = true;\n                let event : MouseClickEvent = {\n                    type: MouseEvents.LeftButtonDown,\n                    source: this,\n                    x: e.clientX,\n                    y: e.clientY\n\n                };\n                this.emit(MouseEvents.LeftButtonDown, event);\n            } else if (e.button === 1) {\n                this._scrollWheelDown = true;\n                let event: MouseClickEvent = {\n                    type: MouseEvents.ScrollWheelDown,\n                    source: this,\n                    x: e.clientX,\n                    y: e.clientY\n\n                };\n                this.emit(MouseEvents.ScrollWheelDown, event);\n            } else if (e.button === 2) {\n                this._rightButtonDown = true;\n                let event: MouseClickEvent = {\n                    type: MouseEvents.RightButtonDown,\n                    source: this,\n                    x: e.clientX,\n                    y: e.clientY\n\n                };\n                this.emit(MouseEvents.RightButtonDown, event);\n            }\n        }, true);\n\n        window.addEventListener(\"mouseup\", (e: MouseEvent) => {\n            if (e.button === 0) {\n                this._leftButtonDown = false;\n                let event: MouseClickEvent = {\n                    type: MouseEvents.LeftButtonUp,\n                    source: this,\n                    x: e.clientX,\n                    y: e.clientY\n\n                };\n                this.emit(MouseEvents.LeftButtonUp, event);\n            } else if (e.button === 1) {\n                this._scrollWheelDown = false;\n                let event: MouseClickEvent = {\n                    type: MouseEvents.ScrollWheelUp,\n                    source: this,\n                    x: e.clientX,\n                    y: e.clientY\n\n                };\n                this.emit(MouseEvents.ScrollWheelUp, event);\n            } else if (e.button === 2) {\n                this._rightButtonDown = false;\n                let event: MouseClickEvent = {\n                    type: MouseEvents.RightButtonUp,\n                    source: this,\n                    x: e.clientX,\n                    y: e.clientY\n\n                };\n                this.emit(MouseEvents.RightButtonUp, event);\n            }\n        }, true);\n\n        window.addEventListener(\"mousemove\", (e: MouseEvent) => {\n            this._mouseCoords = new Coordinate(e.clientX, e.clientY);\n            let event: MouseMoveEvent = {\n                type: MouseEvents.MouseMove,\n                source: this,\n                x: e.clientX,\n                y: e.clientY\n            };\n            this.emit(MouseEvents.MouseMove, event);\n        }, true);\n\n        window.addEventListener(\"wheel\", (e: MouseWheelEvent) => {\n            let yDelta : number = 0;\n            let xDelta : number = 0;\n\n            if (e.wheelDeltaY > 0) {\n                yDelta = 1;\n            } else if (e.wheelDeltaY < 0) {\n                yDelta = -1;\n            }\n\n            if (e.wheelDeltaX > 0) {\n                xDelta = 1;\n            } else if (e.wheelDeltaX < 0) {\n                xDelta = -1;\n            }\n\n            let event : ScrollWheelMove = {\n                type: MouseEvents.ScrollWheelMove.toString(),\n                source: this,\n                x: e.clientX,\n                y: e.clientY,\n                yDelta: yDelta,\n                xDelta: xDelta\n            };\n            this.emit(MouseEvents.ScrollWheelMove.toString(), event);\n        }, true);\n    }\n\n    public getCurrentCoordinates(): Coordinate {\n        return this._mouseCoords;\n    }\n\n    public isLeftButtonClicked(): boolean {\n        return this._leftButtonDown;\n    }\n\n    public isMouseWheelClicked(): boolean {\n        return this._scrollWheelDown;\n    }\n\n    public isRightButtonClicked(): boolean {\n        return this._rightButtonDown;\n    }\n\n    static getInstance(): Mouse {\n        Mouse._instance = Mouse._instance || new Mouse();\n        return Mouse._instance;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/inputs/Mouse.ts","import { Touch } from \"./Touch\";\nimport { NativeTouch, TouchList, TouchEvent } from \"./NativeTouchEvent\";\nimport * as Events from 'events';\n\n\nexport const enum TouchListenerEvents {\n    TouchAdded = \"TOUCHADDED\"\n}\n\n/**\n * Listens to the window for new touches, builds Touch objects, and emits them to any listeners\n */\nexport class TouchListener extends Events.EventEmitter {\n    private static _instance: TouchListener;\n\n    private constructor() {\n        super();\n\n        window.addEventListener(\"touchstart\", (e: TouchEvent) => {\n            //Loop through the new fingers added, build Touch objects, and emit them\n            e.preventDefault();\n            for (var i = 0; i < e.changedTouches.length; i++) {\n                var touch: Touch = new Touch(e.changedTouches.item(i));\n                this.emit(TouchListenerEvents.TouchAdded, touch);\n            }\n        });\n    }\n\n    static getInstance(): TouchListener {\n        TouchListener._instance = TouchListener._instance || new TouchListener();\n        return TouchListener._instance;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/Users/norman/development/Jiggy.io/src/inputs/TouchListener.ts","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4QsIASQX0FF1LwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAe0lEQVQ4y62TwQ2EUAhEH5x1O7MAjd3Yii3YgQ256328cDK6uwFfwoUww/8B4ISkRlIvaZG0RSyRa/hGFP2ivxNP+p8p0/nyJRb/+pCjdaAjT+fAWDAYTdIGvJIGb6eIA2tBvzowFwzm+hjNbAeGhHgI7QOr/MgxZc/5ACK/LSOb4tnKAAAAAElFTkSuQmCC\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./resources/ball.png\n// module id = 55\n// module chunks = 1","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAyAAAAJYCAYAAACadoJwAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4QsNATo6dhHmtwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAgAElEQVR42u3de5zUdb348ffusgvLZZE7yx1BVLylWcYvU8ufl9Jz0MzLyWNeK08JYlpS5P1oCkfxUkc7B0wrDU0zS4/XFLW8pgcFROWioQvIgizsurLXOX+UJKYws3xndmb3+Xw85hHkzPf75TPzmZ3Xfr/f+RZFRCoAAAByoNgQAAAAAgQAABAgAAAAAgQAABAgAAAAAgQAABAgAACAAAEAABAgAACAAAEAABAgAACAAAEAAAQIAACAAAEAAAQIAACAAAEAAAQIAAAgQAAAAAQIAAAgQAAAAAQIAAAgQAAAAAECAAAgQAAAAAECAAAgQAAAAAECAAAIEAAAAAECAAAIEAAAAAECAAAIEAAAAAECAAAIEAAAQIAAAAAIEAAAQIAAAAAIEAAAQIAAAAACBAAAQIAAAAACBAAAQIAAAAACBAAAECAAAAACBAAAECAAAAACBAAAECAAAIAAAQAAECAAAIAAAQAAECAAAIAAAQAABAgAAIAAAQAABAgAAIAAAQAABAgAAIAAAQAABAgAACBAAAAABAgAACBAAAAABAgAACBAAAAAAQIAACBAAAAAAQIAACBAAAAAAQIAAAgQAAAAAQIAAAgQAAAAAQIAAAgQAABAgAAAAAgQAABAgAAAAAgQAABAgAAAAAIEAABAgAAAAAIEAABAgAAAAAIEAAAQIIYAAAAQIAAAgAABAAAQIAAAgAABAAAQIAAAgAABAAAECAAAgAABAAAECAAAgAABAAAECAAAIEAAAAAECAAAIEAAAAAECAAAIEAAAAABAgAAIEAAAAABAgAAIEAAAAABAgAACBAAAAABAgAACBAAAAABAgAACBAAAECAAAAACBAAAECAAAAACBAAAECAAAAACBAAAECAAAAAAgQAAECAAAAAAgQAAECAAAAA7aSLISBXvn1+VV5sxw2XjoiWlpaMHnNBzeWJrf/te6vihuOvS2RZO+ywQ/xw/1dzMm6v1d8Vl956VGLL22P33eLS076Yk21vbknFEWfNyPhxb/12TmLb8Lmzvh+vv/561pY/7IjjzNe/uefa7yW2/hffWBvTrpqdlWWm4+bTWnM63pc9sXO8+uqrORvfpH14bJN8707ifT7JOd9WM+66N665+Rc+lNCu7AGh0zl92vKoqKgo+H/H0QdNyll8RESM635kYh+Gzv76v+QsPiIiupQUxT3Xfi/Kysra7fmqqanZ7O8DBw5MbNlHXHyF+doB5To+IiJ+8LlFce5xv/KDogP77pGHxSM3XGsgECCQaydMWRR9+vQp2O3/l0PPicNHXlOQH4rOm3RifH634e2y7b/5jylRXl6eFwFy+yXnJ7bsP7/wv+ar+EjM+J7HxsmHX+QHRQc2bvDA+OWPLjYQCBDIta9OWlCQ2z1y5Mg4dNj0dt2G84//fZset+uuu8Q+Owxq123/9RWT2mW9qVRqs7+PHdTfJOwE87Utpn31znbfhgMGnxfbbbedF14HdsDO42LvvfY0EAgQyLV8Oc49Excf9Hq7b8OY8sNiyJAhGT2mtLQ0Lv/GYXkxhj//0Vntuv6ioqLEltWRD7/qCPM1U+Xl5TGu+5F5sS3XfOUdPyQ6uN+ef26i70cgQCBNw4YNK5htveG0t/NmW370pbcyuv9dV56VN9vet0dp9OjRo93WP/HggxJbVkc//KqQ52tbzDz+jbzanl69evkh0cHdPXO6QUCAQM4/DJ7yTEFsZ1lZWZTHgLzapn/+/CnpfeDv2zfvxnPOZd9qt3X/+N9OMfE6+Hxtq3yb4+ceebcXXQe316jhBgEBAu2hpKQk77fx6q8ty7ttOmrMrLTu9/MLT8u7be8Ihx0cfsFl5msHkuQ3oyVleNkBfkB0AqNGjTIICBDI+Qe5L38377exRwzJy+3q379wT6YeM2ZMztfZu3fvxJY178WXzNcO5IxDbvFmTLv4n8svNAgIEMi1YTtPyuvty+cP+RdNfGGL/32fT30yb7f9gtP+OefrnPXDqSZcB5+vbTWy64GeXNpFRbduBgEBAmzua1/I35MEexZt+aTgKccckLfb3rdHac7XOWGH0Yksp7MefkXuOREdECDQCe1RcVKiy5tf+4vcfXjpmuzx+nMeW1hwz19za/IXleush1+Rnsv/tEtiyxo0aJAB7QR8HS8CBLZi4/rnEl9mWVlZpxi7+lgVNz9yTkFue0trKn7/8B8LbruXr10XERGf2GN389V8zbqa1tdiyZIliS1v3JB9DGoeem3V6kSXV1lZaVARILAly16+LZ574IRElzl06NBOMXbrm9+Iurq6gtz21Rsa4r333kt0mbn4rd9rK1ZFRMQ9F/0gkeV98Yf/br52kvnaFtUNr0Rzc3NiyxtUMc6g5qG/VK+J/c+eltjydhg10qCSM10MAYVoxfIXYuXKlfGpQ5Jb5pBhu8Trr7/e4cfuveZ10dDQkOgyKyoqYsOGDVnf9tr3GqOpqSnRZfbv3z+qq6uzut3zl72R7PIWLDBfO8l8bYuepQMjlUoltrztyjf/Br7DJ6d3Tto9134vsW148Y21Me2q2e06rm/fWxU3HH9dXj3Xy5cvT2xZn9xpXDz25FMmEDlhDwgFqaamJvHf4g8Y8olOMXbNrRujNeFzEioqKnKy7Q1NLYl+sIqI6NOnT9a3+5mXF0V5ebn5ar7mRGWXzyS6vLKSngY1TyX5C5nBOXgvBAFCwX+gSfpDdNdu2xnYNurRo0dO1tOahZO5dxw9LOvbXbXq7bh8yhmJLKvQDr8yX9tHkocWdil2vk1n0Kt7uUFAgMCWNDQ0JH7sfpdSv+Vrq0HbbV+w2z6wb/b33tTU1MRR+yRzPZRCO/zKfG0fN53aYhDISGOC5w2BAKHDKilJ9utd6+tWGNQ22q574X57St+K7O+9qa2tNV/NV8hrtfXvGQQECGxN0l/DWbN2sUFto97lgwt227uVZf+7OEaPTubigwd9/yLz1XyFTUpLk7uY6qvL3zKg5IxvwaJgde/ePdHlrVj+gkFt63NRVrgnL5Z1yf7b4P1XJBMOixYtMl/N1zY7aXZJ4l/iQPvq2TO5QxGffXmRASVn7AGhYFVWJnvy8NKlSw1qG3XrUrjH4xfn4OK/PVw0z3xNQ2tk9xj8m05tiZEjXeuhI/ns3nsltqyqqioDSs7YA0JBOv3cZ6Kka7IfaJqdgNdmJcVdDUKWFfLhV+Zrem5d9NX4151vz+o6Lj7o9VjbujC+c+NuJlWGBh02NE6/ZdJW7/fbs38dq1atyv57wm7j46Ddxie2vEK9QC0CBHL3gbfrMIOQT28kRX7Dn22FfPiV+Zqeh/50R/zrztlfT7/iXeLm01rjjNt6+4KENkTI1hwRR+fdBQsh3zgECyLi1WenGYRtUFRUYhAwXwvMj49dHxM++XkDAQgQaA8P33+TQdiWNxIBklX/f+qFBqGTzNdp94/I6fpO3/MP8eNTX/ei6uS+fu1PDQICBHLp/lv2MwgCJK+98sorBqGTzNe33sr9V6H2KhoZN5/Wmvi1Wigc9z3yqEFAgECuVL16vW+/AvM1r5x5R992We+NJzcl+rWuFIZr73nQIJBzTkKn03rz5Wvid3dMNxAF6PDJnjfzteOqqamJP1ZfEfsOODfn6/7JcRvinLsHRXV1tRddJ7Bh48aYPutGA0HO2QNCp9Wwcb1BAPM1L/333d+PDan2OTfjPya+HYMGDfKi6+AOv+CyGH/cSQYCAQK5NHav82Po0KEGgrx3xCEHm6+dcL5Omj0mlm28r13WPf2fVkZFRYXJ10G929gYry1eYiAQINAuH+xOfdYgkPd+/G+nGIROOl8v+uVhcd2f922XdV93TI0XXQfVo6wsXrv1xhg+fLjBQIBAezh50h0GAczXvPXneU/Gt+e0z96IWac5VLUje+q6GVFeXm4gECCQa937TIiioiIDQV7zm8rOPV/r6urixFnFsbZ1YU7XWxq9HIrVwS3+1c8MAjnnW7AgIg4+7BvxwD0uxFQoLv3OqYkt67pb741Vq1bl/b/5kasuix2OPsGT38nn63du3C1Gjx4dFx6Yu68jvu6Ymjhxlt9XdmS77bprzF+wwEAgQCCXxu51vgApIHuM6pfYsiZ99bCYdtXsvP83l5eWeuLN14iIeP311+Ok2SVx06ktXgwk4r5//2EMO+I4A0HO+JUGBaml4S2DkEdaUz4I5UKhXiTOfE1eKpWKE2cVx4ynPpGT9e28884GPc8sWvm2QUCAQC7Vr3857vjpXgZCgHQqP7tgmvnKZhYsfClO+Vn2945997N/Nth55q01a+OUmdcntryuXbsaVHLGIVgUrJqaZL8isrKyMlauXGlg2yBVwAHSmiqcbZ2ww2jztQPP12lfvbPNj32t/q4Y1/3IrG1bSfimpLfvrYobjr8ur7Zp3qJFiS1r4MCB8eabb/qBhgCBLWlqakp0eSNG7yZA2vpctL5XwAHSWlDbW1xcHK2treZrB5yv2QwIOqba2trEljV08CABQu5+lhkCCvaDY8IfwvoN2NGgtlFjS33hbntT9vfefP/mOYkta9IJx5uv5usWvVZ/VzSG63d0ivfexsbElrXDsGEGFAECudZru5EGoY3qGwv3iskbG5uyvo477n8gsWV998jDvOAKfL7m4rC/r8/qE8++k+zhQv379/fCyzMtLcn9AqWyX18DigCBXCvr1scgtDlA1hXsttfUZf/wMSd3mq+bB0huDqH7yW/OTHR5AwYM8MLrwPr3dsFJBAjkXFGR6dBWtRurC3bbV7+zIevr6N27d6LL23FHhx8V8nzNxWF/73uj4cHEljV+6AHe7DqwrmWuNYQAAQrImrrlBbvtr1dl/7v0hw0eHPPfWpHY8v5wxUVedAWssTl3AfLbF89LbFkDe43z5HVg3crKDAICBCgca9evKNhtr6nJ/sm6u4/dPr591Y+9UIiIiPV1ufvShjfeXJLYsspLe3vyOrCSYh8JESCw9TfLkhKD0AZFRSXRpUuy38BdV1eXmzes4uLEn/c1a9Zkfbt3GTUili1blugy+/XrZ77m6gdlwh/M1tTU5Wzb6+uTi50uRX5D3rEDpMggkDOuA0LB6tmzZ6LLS+XoxNBBhw2N02+ZtNX7/fbsX8eqVasSX39ZcY8oLU32WN/163PzlZ/lXbtEWcKHCWzcuDHr273DkMrEl3nX5RfHfl//tvma7R+SJSWJx9Obq9bkbNyT/JrWdRs79zUi0n3vzvZ7OAgQaEfjd/t/yf6g3pi7b3IadNjQrd7niDg6K1fd7d6lX3Tv3r3gPsRHRFSUlyW+7bkwon/y39i0/YB+5msuwqm8LLp165boMleveSer29y15O/fZtSrV6/ElvvOu4V7rlcu37uz/R4OHYFDsChIvQYeHHt9YVaiy3y3tnNcBb13yegYOHBgztaXSiV30YOBFV2jsnJw4b1e//Y1vP/10NxEl1tWICeNFvJ8HVDRLfHD3dauXZvVbR7cda9Nfz7+wOS+sGDFulf88AEECCT7gSZ/T6RuieQOoyiL3jH1swtztu1PvprsIQiXf6NwL8Q38+e3JLq8y848w3zNsu5lxfHj7xyT6DKzfc5U1+gTV548L/7rtLXxmX7JXQtk8V/m+0EBCBBI0vJlz+bttv2h6oKCHdef3/1I3m7bmrrGnK6vtrY20eUd99lPm698pP4lu0fXSPbQv1x8YQMgQKBTeeutt/J22+589Jq83bYXan66xf9eVVWVt9t+2U3/44XfAefrnMcWFuS/ae6qSzyxgACBzqShoSFvty1XJ3m3xX/ePblgn/PXXnst5+tcXZvs4TcH77+/+foht951X95u98I3az72v935+JXeiAEBAuSPfP3taFNT01bv88qK9Z7Av/nGzJ8kurwbz/o3g/ohra2tebtt02be+LH/bcOGDXm73WtaXvLCAgQIdDY/uyf/zgOZdv+ItO537oxZebftJ140u13W+/z/zvNizoGv/+gXebldzc3NW/zv70V1Xm73RXfu50UFCBBI0rxHv1kQ23nbayfk1fake95MS0tL3o1ltr8K9eMk+bXE7xs6dKj5+iErV+bf12p/+Zyrt3qfyT8fnpdjns97ZwABAgXpT0/cUxDb+T+P35I32/KNX5RndP8jz56ZN9v+T2fO6FCv34evusx8beMH/lz59ROL0roqeWNjY6xrXZRX453unk4AAQJpaqh9saC299Sb2v/ic5c9sXPGJ+03NTXFFb96rN23/eRLfpaVvRCZuP/FZL+l6f0LHZqv//hh/sxr7syL7b75179P+75Tbtwlb8Z7fWpJXn9DICBAoCDNmvmlgtre5ubmmHJnv3Zb/+OrfxSvvvpqmx77xFPPxGML2+9reU+ffmtUV7fPMfY9e/bc9Ocf/OSniS+/R48e5utHWLp0afz03j+36zYfPnl6Qf6iISJi8uxxfkgAAgSSdMu1uxTkdq9bty7OuK13ztf76yUnxezfTdumZcz46S3xhxeX53zbT7xodrv+JreiomLTn1evXp348v/7vKnm68f4/QOPxJRrf9Mu29zWw/2am5vjpNkl7TbWa1sXxomzfEQABAgk6pfXjI+ampqC3f7a2to45WelOVvfufcMiXvm/jyRZc2cPSe+eUXuzmf55yn/0W4nnb+vd+/sBuN+O+1gvm7BkiVLcnpOyLr65jh88vRtOtwvlUrFibOK4/HVP8rpWF/6+E7xnRt380MCECCQlDdfviZ+cvHQWL++8K9N0dLSEifOKo7L/5S9PTnLNt4XJ84qjlWrViW63Kqqqjh88vRYuroua9s+5drfxOGTp+fFdSH23mnHzf7emoXzUIqLi83XLWhsbIzDJ0/P+nkhp0+/NU6YelViy5v9u2lx6k1l0RKNWd3ueetnx4mzitvlAp1A59LFENDRpVpq440FP4m5D82O+vr6DvlvXLRoUZy4qDjGjRsX0/Z7JbEPI1ff8Y2sn7B95r//Z0REfP9bJ8Rnd6pMZJkz7/hT/OHxP+XVc7Tb9qM2+/u5N90aM04+PtF1fPNfjo3rb/mV+boVS5cujcMnT48hQ4bEf03918SWO/nqO2LZsmVZ2ebm5uY4ZVa3KCoqiu8de2uM73lsYsu+4X8PjKeef9QPCyBniiIiZRig49lpp53izH0fie4xOO3HPLzih3H7H67M+BuuklRcXBxfPfKLccx+46O4qCjtx9366IK4/fcPbvVCb/BRBg4cGD/4+lExdlCvtB9T39gaF990XyxYsLDd5srh+58UR465IYoz+H1ifayKmY8fYE8HIEAAAICOzzkgAACAAAEAAAQIAACAAAEAAAQIAACAAAEAAAQIAAAgQAAAALZdF0NANqVSrnMJAIWmqKjIIJA19oAAAAACBAAAECAAAABtVhQRDtIHAABywh4QAABAgAAAAAIEAABAgAAAAAIEAABAgAAAAAIEAAAQIAAAAAIEAAAQIAAAAAIEAAAQIAAAgAABAAAQIAAAgAABAAAQIAAAgAABAAAECAAAgAABAAAECAAAgAABAAAECAAAIEAAAAAECAAAIEAAAAAECAAAIEAAAAABAgAAIEAAAAABAgAAIEAAAAABAgAAIEAAAAABAgAACBAAAAABAgAACBAAAAABAgAACBAAAECAAAAACBAAAECAAAAACBAAAECAAAAAAgQAAECAAAAAAgQAAECAAAAAAgQAABAgAAAAAgQAABAgAAAAAgQAABAgAACAAAEAABAgAACAAAEAABAgAACAAAEAABAgAACAAAEAAAQIAACAAAEAAAQIAACAAAEAAAQIAAAgQAAAAAQIAAAgQAAAAAQIAAAgQAAAAAECAAAgQAAAAAECAAAgQAAAAAECAAAIEAAAAAECAAAIEAAAAAECAAAIEAAAQIAAAAAIEAAAQIAAAAAIEAAAQIAAAAAIEAAAQIAAAAACBAAAQIAAAAACBAAAQIAAAAACBAAAECAAAAACBAAAECAAAAACBAAAECAAAIAAAQAAECAAAIAAAQAAECAAAIAAAQAABAgAAIAAAQAABAgAAIAAAQAABAgAACBAAAAABAgAACBAAAAABAgAACBAAAAAAQIAACBAAAAAAQIAACBAAAAAAQIAACBAAAAAAQIAAAgQAAAAAQIAAAgQAAAAAQIAAAgQAABAgAAAAAgQAABAgAAAAAgQAABAgAAAAAIEAABAgAAAAAIEAABAgAAAAAIEAAAQIAAAAAIEAAAQIAAAAAIEAAAQIAAAgAABAAAQIAAAgAABAAAQIAAAgAABAAAQIAAAgAABAAAECAAAgAABAAAECAAAgAABAAAECAAAIEAAAAAECAAAIEAAAAAECAAAIEAAAAABAgAAIEAAAAABAgAAIEAAAAABAgAACBAAAAABAgAACBAAAAABAgAACBAAAECAAAAACBAAAECAAAAACBAAAECAAAAACBAAAECAAAAAAgQAAECAAAAAAgQAAECAAAAAAgQAABAgAAAAAgQAABAgAAAAAgQAABAgAACAAAEAABAgAACAAAEAABAgAACAAAEAAAQIAACAAAEAAAQIAACAAAEAAAQIAAAgQAAAAAQIAAAgQAAAAAQIAAAgQAAAAAECAAAgQAAAAAECAAAgQAAAAAECAAAgQAAAAAECAAAIEAAAAAECAAAIEAAAAAECAAAIEAAAoMPrYggA0rfXXnvFQQcdFBMmTIixY8fGkCFDokePHhERUVdXFytWrIjFixfHU089FQ888EC89NJLBo1NioqK4sADD4zPf/7zsffee8fYsWNju+22i169esXGjRtjw4YNsWLFipg/f348//zzcffdd0dVVZWBAzrWe2FEpAwDUGhSqczeuoqKitq8ruLi4vja174W3/3ud2P8+PEZPXbBggUxY8aMuOWWW6KlpSXjdc+bNy/22GOPbRqr+fPnx+67757YmLa0tERLS0s0NTVFQ0ND1NfXR11dXdTU1ER1dXVUVVXF0qVLY968efHEE09EQ0NDTp/XdJYxfvz4WLRo0TZvQ7qvq9LS0pgyZUqcccYZMWLEiLSX39raGn/84x/jkksuiYcfftjEBzrOz3E3Nze3Qrtlqq3rGT9+fOr5559PbavnnnsutfPOO2e8/g0bNmzzuuvr61NFRUWJj2k6NmzYkLrpppvS/rcn8bym47zzzktkG9L5N+29996pl19+eZvH8v77708NHjzY/Hdzc+sIN4Pg5uYmQD7q9oUvfCGRAHhfTU1Nav/99097/QMGDEhs3aNHj26XAHlfY2Nj6vzzz8+bAHnppZdyEiBf/vKXU++++25i41hdXZ2aMGGC9wA3NzcB4ubm5tbRAmSPPfZI1dbWJv5BfP369aldd901rW3YZ599ElvvoYce2q4B8r5rrrkmLwIklUqlxo0bl9UAOfTQQ1NNTU2Jj2Ftba0IcXNzK+ibb8EC+JCysrK4/fbbo2fPnokvu6KiIubMmROlpaVbve/222+f2Hp32mmnvBjbyZMnx1e+8pW82Jajjz46a8seNmxY3HbbbdGlS/Lf9dKzZ8+47bbbom/fviYrUJAECMCHTJkyJcaNG5e15e+yyy4xadKknAbIjjvumDfje+WVV0ZJSUmHDpDp06dHRUVF1pY/fPjwmDp1qskKCBCAQldSUhJTpkzJ+nrOOeecrX4I74h7QCIiRowYEYcccki7b8cee+wRY8eOTXy5ffv2jaOOOirr2//Nb34zysrKTFpAgAAUsgMOOCAqKyvTvv+TTz4Zo0ePjiFDhsR9992X9uMqKytj//33z1mA5NMekIiIAw88MC+2Ixt7QQ466KCMwuChhx6KoUOHxsiRIzP6qt2KiorYd999TVpAgAAUss997nMZ3f+CCy6IN954I1auXBmXXnppRo/db7/9chYglZWViR8SVFJSEgMHDoyJEydmfLG8fAmibARIOtdc+aCLL744VqxYEcuXL49LLrkko8dOmDDBpAUECEAhy/RCgx+8mN2SJUsSW1dpaWkMHTo0reU0Nja2y4f+1tbWqK6ujt/97ndx1llnZfTYwYMH58Xzveeee8aYMWMSXWamy1u6dOmmPy9btiyrr1cAAQKQZzI5/CoiYu3atZv+XFNTk9iH8FGjRqV9ovbixYvTul82zwN5+umnM7p/nz598uY5T3ovyJAhQzK6/7p16zb9ef369Rk9dvTo0SYtIEAAClmmH4wbGho2/bmpqSmxdWVy+NWCBQvSul82D3t65513Mrp/Nr7iuK2S/lrg/v37t/k1VF9fn9FjBwwYYNICAgSgkPXq1Suj+//1WnR/1dramtiH8EwCZOHChWndL5t7QDZu3JjR/bt165Y3z/knP/nJRPckbMtrqKWlJaPH9uvXz6QFBAhAISsvL8/Zurp3755IgOTDHpBMPzjn29fHJnkYVqYBsi26du1q0gICBKCQ5fI381v68JiNABk7dmwUF+fH2342rhC+LZI8DCuXUeA6IIAAAShwufxAV1paus0B0tjYGEuXLo3m5ua04mrUqFH58cOnOL9+/HzqU5+KkSNHJrKsXF7lPd9CDkCAABToh8d0z0lYs2ZNtLa2bvZtXFuSL1dEz7cAiUjuMKxcvoYABAhAob8p5vCD8cd9UO3Xr1/07t07rWWsXr16s//dmny7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AgAACBAAAAABAgAACBAAAECAAAAACBAAAECAAAAACBAAAECAAAAAAgQAAECAAAAAAgQAAECAAAAAAgQAABAgAAAAAgQAABAgAAAAAgQAABAgAAAAAgQAABAgAACAAAEAABAgAACAAAEAABAgAACAAAEAAAQIAACAAAEAAAQIAACAAAEAAAQIAAAgQAAAAAQIAAAgQAAAAAQIAAAgQAAAAAECAAAgQAAAAAECAAAgQAAAAAECAAAIEAAAAAECAAAIEAAAAAECAAAIEAAAAAECAAAIEAAAQIAAAAAIEAAAQIAAAAAIEAAAQIAAAAACBAAAQIAAAAACBAAAQIAAAAACBAAAECAAAAACBAAAECAAAAACBAAAECAAAIAAAQAAECAAAIAAAQAAECAAAIAAAQAABAgAAIAAAQAABAgAAIAAAQAABAgAACBAAAAABAgAACBAAAAABAgAACBAAAAABAgAACBAAAAAAQIAACBAAAAAAQIAACBAAAAAAQIAAAgQAAAAAQIAAAgQAAAAAQIAAAgQAABAgAAAAAgQAABAgAAAAAgQAABAgAAAAJ3Q/wH6WcjbHHKHuQAAAABJRU5ErkJggg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./resources/LoadingView.png\n// module id = 56\n// module chunks = 1","import {Color} from '../../src/utils';\r\nimport {Map, SPACING, HEIGHT, WIDTH, getColor} from './Map';\r\n\r\nvar map: Map = {\r\n    blocks: []\r\n};\r\n\r\n\r\n\r\nfor (var i: number = 0; i < 10; i++) {\r\n    for (var k: number = 0; k < 10; k++) {\r\n        var x: number = SPACING + SPACING * k + (k * WIDTH);\r\n        var y: number = SPACING + SPACING * i + (i * HEIGHT);\r\n\r\n        // console.log(x, y);\r\n\r\n        map.blocks.push({\r\n            x : x,\r\n            y : y,\r\n            height : HEIGHT,\r\n            width : WIDTH,\r\n            color : getColor()\r\n        });\r\n    }\r\n}\r\n\r\nexport {map as Map1};\n\n\n// WEBPACK FOOTER //\n// ./Map1.ts","import {Color} from '../../src/utils';\r\n\r\nexport interface MapItem {\r\n    x: number;\r\n    y: number;\r\n    color: Color;\r\n    width: number;\r\n    height: number;\r\n}\r\n\r\nexport interface Map {\r\n    blocks: MapItem[];\r\n}\r\n\r\nconst HEIGHT: number = 16;\r\nconst WIDTH: number = 69;\r\nconst SPACING: number = 10;\r\n\r\nvar getColor = (): Color => {\r\n    var r: number = Math.random() * (255 - 100) + 100;\r\n    var g: number = Math.random() * (255 - 100) + 100;\r\n    var b: number = Math.random() * (255 - 100) + 100;\r\n\r\n    // console.log(r,g,b);\r\n\r\n    // return new Color(255,255,255);\r\n    return new Color(r,g,b);\r\n}\r\n\r\nexport {\r\n    HEIGHT,\r\n    WIDTH,\r\n    SPACING,\r\n    getColor\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./Map.ts","\r\nexport class Vector2D {\r\n    private x: number;\r\n    private y: number;\r\n\r\n    public constructor(x: number = 0, y: number = 0) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n\r\n    public getX(): number {\r\n        return this.x;\r\n    }\r\n\r\n    public getY(): number {\r\n        return this.y;\r\n    }\r\n\r\n    public add(v: Vector2D): Vector2D {\r\n        var x1: number = this.getX();\r\n        var x2: number = v.getX();\r\n        var y1: number = this.getY();\r\n        var y2: number = v.getY();\r\n\r\n        return new Vector2D(x1 + x2, y1 + y2);\r\n    }\r\n\r\n    public subtract(v: Vector2D): Vector2D {\r\n        var x1: number = this.getX();\r\n        var x2: number = v.getX();\r\n        var y1: number = this.getY();\r\n        var y2: number = v.getY();\r\n\r\n        return new Vector2D(x1 - x2, y1 - y2);\r\n    }\r\n\r\n    public multiply(v: Vector2D): Vector2D {\r\n        var x1: number = this.getX();\r\n        var x2: number = v.getX();\r\n        var y1: number = this.getY();\r\n        var y2: number = v.getY();\r\n\r\n        return new Vector2D(x1 * x2, y1 * y2);\r\n    }\r\n\r\n    public divide(v: Vector2D): Vector2D {\r\n        var x1: number = this.getX();\r\n        var x2: number = v.getX();\r\n        var y1: number = this.getY();\r\n        var y2: number = v.getY();\r\n\r\n        return new Vector2D(x1 / x2, y1 / y2);\r\n    }\r\n\r\n    public magnitude(): number {\r\n        var x: number = this.getX();\r\n        var y: number = this.getY();\r\n\r\n        return Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\r\n    }\r\n\r\n    public dot(v: Vector2D): number {\r\n        return (this.getX() * v.getX()) + (this.getY() * v.getY());\r\n        // return (this.magnitude() * v.magnitude() * Math.cos(0));\r\n    }\r\n\r\n    public getAngle(v?: Vector2D): number {\r\n        if (!v) {\r\n            v = new Vector2D(0,0);\r\n        }\r\n\r\n        return Math.atan2(this.getY(), this.getX()) - Math.atan2(v.getY(), v.getX());\r\n\r\n        // var dot: number = v.dot(this);\r\n        // return Math.acos(dot);\r\n    }\r\n\r\n    public getAngleDegrees(v?: Vector2D): number {\r\n        var radians: number = this.getAngle(v);\r\n\r\n        var deg: number = radians * 180 / Math.PI;\r\n\r\n        if (deg < 0) {\r\n            deg += 360;\r\n        }\r\n\r\n        return deg;\r\n    }\r\n\r\n    public normal(): Vector2D {\r\n        var mag: number = this.magnitude();\r\n        if (mag > 0) {\r\n            return this.divide(new Vector2D(mag, mag));\r\n        }\r\n        else {\r\n            return Vector2D.fromVector2D(this);\r\n        }\r\n    }\r\n\r\n    // Vect2 = Vect1 - 2 * WallN * (WallN DOT Vect1)\r\n    public reflect(normal: Vector2D): Vector2D {\r\n        var vector: Vector2D = new Vector2D(2,2);\r\n        var dot: number = normal.dot(this);\r\n\r\n        vector = vector.multiply(normal);\r\n        vector = vector.multiply(new Vector2D(dot, dot));\r\n        vector = this.subtract(vector);\r\n        \r\n        return vector.inverse();\r\n    }\r\n\r\n    public inverse(): Vector2D {\r\n        return new Vector2D(-this.getX(), -this.getY());\r\n    }\r\n\r\n    public rotate(radians: number): Vector2D {\r\n        /*\r\n         = radians\r\n        x2 = cos(x1)  sin(y1)\r\n        y2 = sin(x1) + cos(y1)\r\n        */\r\n        var x: number = Math.cos(radians) * this.getX() - Math.sin(radians) * this.getY();\r\n        var y: number = Math.sin(radians) * this.getX() + Math.cos(radians) * this.getY();\r\n        return new Vector2D(x, y);\r\n    }\r\n\r\n    static fromVector2D(v: Vector2D) {\r\n        return new Vector2D(v.getX(), v.getY());\r\n    }\r\n\r\n    static fromAngle(radians: number): Vector2D {\r\n        var x: number = Math.sin(radians);\r\n        var y: number = Math.cos(radians);\r\n        // var x: number = cos * -sin;\r\n        // var y: number = sin * cos;\r\n        return new Vector2D(x, y);\r\n    }\r\n\r\n    static fromAngleDegrees(degrees: number): Vector2D {\r\n        // Needs to go to radians, so valid degrees is -90 to +90.\r\n\r\n        // if (degrees > 90) {\r\n        //     degrees -= 360;\r\n        // }\r\n        // else if (degrees < -90) {\r\n        //     degrees += 360;\r\n        // }\r\n\r\n        return Vector2D.fromAngle(degrees * Math.PI / 180);\r\n    }\r\n}\r\n\r\n// Test\r\n\r\n// var v1: Vector2D = new Vector2D(1, 0);\r\n// var v2: Vector2D = new Vector2D(1, 2);\r\n\r\n// var angle: number = Math.atan2(v2.getY(), v2.getX()) - Math.atan2(v1.getY(), v1.getX());\r\n// console.log(angle);\r\n\r\n// console.log(v1.getAngleDegrees());\r\n// console.log(v2.getAngleDegrees());\r\n// console.log(v2.reflect(v1));\r\n\r\n// var dot: number = v1.dot(v2);\r\n// console.log('dot', dot);\r\n\r\n// var angle: Vector2D = v1.add(v2);\r\n// console.log(angle.getAngle());\r\n\r\n// var mag: number = angle.magnitude();\r\n// console.log(mag);\r\n\r\n// var dot: number = v1.dot(v2);\r\n\r\n// var v1Mag: number = v1.magnitude();\r\n// var v2Mag: number = v2.magnitude();\r\n// console.log('v1', v1Mag);\r\n// console.log('v2', v2Mag);\r\n// console.log('m', dot);\r\n\r\n// var rad = dot / (v1Mag * v2Mag);\r\n// console.log('rad', rad);\r\n// console.log('deg', rad * 180 / Math.PI);\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./Vector2D.ts","import {Asset} from '../../src/assets/Asset';\r\nimport {Iterator} from '../../src/utils/Iterator';\r\nimport {getInstance} from '../../src/core';\r\nimport {AudioEngine, AudioEvents} from '../../src/audio';\r\nimport {IDGenerator} from '../../src/utils';\r\n\r\nexport class PlayList {\r\n    private _assets: Array<Asset>;\r\n    private _iterator: Iterator<Asset>;\r\n    private _index: number;\r\n    private _name: string;\r\n    private _id: string;\r\n\r\n    public constructor(name: string, list: Array<Asset>) {\r\n        this._assets = list;\r\n        this._name = name;\r\n        this._id = IDGenerator.generate();\r\n        this._iterator = new Iterator<Asset>(this._assets);\r\n        this._index = -1;\r\n        var audioPlayer: AudioEngine = getInstance().getAudioEngine();\r\n\r\n        audioPlayer.on(AudioEvents.ENDED, (name: string) => {\r\n            console.log('ended', name);\r\n            if (this._isOurs(name)) {\r\n                setTimeout(() => {\r\n                    this.playNext();\r\n                }, 500);\r\n            }\r\n        });\r\n\r\n        // audioPlayer.on('started', (name: string) => {\r\n        //     console.log('started', name);\r\n        // });\r\n\r\n        while (this._iterator.hasNext()) {\r\n            var asset: Asset = this._iterator.next();\r\n            this._index++;\r\n            audioPlayer.addAudio(this._getName(), asset, 1);\r\n        }\r\n\r\n        this._index = -1;\r\n        this._iterator.setToBeginning();\r\n    }\r\n\r\n    private _isOurs(name: string): boolean {\r\n        return name.indexOf(this._id) > -1;\r\n    }\r\n\r\n    private _getName(): string {\r\n        console.log(this._name + this._index.toString());\r\n        return this._id + this._name + this._index.toString();\r\n    }\r\n\r\n    public playNext(): void {\r\n        var asset: Asset = this._iterator.next();\r\n        this._index++;\r\n\r\n        getInstance().getAudioEngine().playAudio(this._getName());\r\n\r\n        if (!this._iterator.hasNext()) {\r\n            this._iterator.setToBeginning();\r\n            this._index = -1;\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Playlist.ts"],"sourceRoot":""}